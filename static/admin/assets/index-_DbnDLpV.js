(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const v of o)if(v.type==="childList")for(const _ of v.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&a(_)}).observe(document,{childList:!0,subtree:!0});function l(o){const v={};return o.integrity&&(v.integrity=o.integrity),o.referrerPolicy&&(v.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?v.credentials="include":o.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function a(o){if(o.ep)return;o.ep=!0;const v=l(o);fetch(o.href,v)}})();const ga=2,Wr=4,qr=8,zi=1<<24,gs=16,Xa=32,Gs=64,Rn=128,Na=512,ra=1024,ba=2048,Ua=4096,Pa=8192,_s=16384,Xr=32768,Ns=65536,si=1<<17,Si=1<<18,cr=1<<19,$i=1<<20,ps=1<<25,Vs=32768,kn=1<<21,jn=1<<22,zs=1<<23,ms=Symbol("$state"),Fn=Symbol("legacy props"),Hl=Symbol(""),ar=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},Dr=3,dr=8,wn=!1;var Ir=Array.isArray,Gl=Array.prototype.indexOf,nr=Array.prototype.includes,en=Array.from,Bn=Object.defineProperty,Ss=Object.getOwnPropertyDescriptor,Ci=Object.getOwnPropertyDescriptors,Wl=Object.prototype,Ql=Array.prototype,On=Object.getPrototypeOf,ri=Object.isExtensible;function zr(t){return typeof t=="function"}const $s=()=>{};function Kl(t){return t()}function Qr(t){for(var r=0;r<t.length;r++)t[r]()}function Ti(){var t,r,l=new Promise((a,o)=>{t=a,r=o});return{promise:l,resolve:t,reject:r}}function Zl(t,r){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const l=[];for(const a of t)if(l.push(a),l.length===r)break;return l}function Ei(t){return t===this.v}function Mi(t,r){return t!=t?r==r:t!==r||t!==null&&typeof t=="object"||typeof t=="function"}function Ai(t){return!Mi(t,this.v)}function tn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Jl(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Xl(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function eo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function to(t){throw new Error("https://svelte.dev/e/effect_orphan")}function ao(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function so(){throw new Error("https://svelte.dev/e/hydration_failed")}function ro(t){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function no(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function io(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function lo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function oo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function vo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let ur=!1,co=!1;function uo(){ur=!0}const po=1,fo=2,qi=4,_o=8,mo=16,ho=1,go=2,bo=4,yo=8,xo=16,Di=1,ko=2,Ii="[",an="[!",Nn="]",ir={},ma=Symbol(),wo="http://www.w3.org/1999/xhtml";let Ot=null;function lr(t){Ot=t}function na(t,r=!1,l){Ot={p:Ot,i:!1,c:null,e:null,s:t,x:null,l:ur&&!r?{s:null,u:null,$:[]}:null}}function ia(t){var r=Ot,l=r.e;if(l!==null){r.e=null;for(var a of l)ol(a)}return t!==void 0&&(r.x=t),r.i=!0,Ot=r.p,t??{}}function Lr(){return!ur||Ot!==null&&Ot.l===null}let Ls=[];function Li(){var t=Ls;Ls=[],Qr(t)}function hs(t){if(Ls.length===0&&!Tr){var r=Ls;queueMicrotask(()=>{r===Ls&&Li()})}Ls.push(t)}function zo(){for(;Ls.length>0;)Li()}function sn(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function So(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function $o(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let ft=!1;function fs(t){ft=t}let $t;function ya(t){if(t===null)throw sn(),ir;return $t=t}function pr(){return ya(os($t))}function s(t){if(ft){if(os($t)!==null)throw sn(),ir;$t=t}}function ct(t=1){if(ft){for(var r=t,l=$t;r--;)l=os(l);$t=l}}function Kr(t=!0){for(var r=0,l=$t;;){if(l.nodeType===dr){var a=l.data;if(a===Nn){if(r===0)return l;r-=1}else(a===Ii||a===an)&&(r+=1)}var o=os(l);t&&l.remove(),l=o}}function Pi(t){if(!t||t.nodeType!==dr)throw sn(),ir;return t.data}function ha(t){if(typeof t!="object"||t===null||ms in t)return t;const r=On(t);if(r!==Wl&&r!==Ql)return t;var l=new Map,a=Ir(t),o=pt(0),v=Rs,_=h=>{if(Rs===v)return h();var b=St,w=Rs;Ya(null),vi(v);var S=h();return Ya(b),vi(w),S};return a&&l.set("length",pt(t.length)),new Proxy(t,{defineProperty(h,b,w){(!("value"in w)||w.configurable===!1||w.enumerable===!1||w.writable===!1)&&io();var S=l.get(b);return S===void 0?S=_(()=>{var E=pt(w.value);return l.set(b,E),E}):u(S,w.value,!0),!0},deleteProperty(h,b){var w=l.get(b);if(w===void 0){if(b in h){const S=_(()=>pt(ma));l.set(b,S),Er(o)}}else u(w,ma),Er(o);return!0},get(h,b,w){if(b===ms)return t;var S=l.get(b),E=b in h;if(S===void 0&&(!E||Ss(h,b)?.writable)&&(S=_(()=>{var q=ha(E?h[b]:ma),M=pt(q);return M}),l.set(b,S)),S!==void 0){var C=e(S);return C===ma?void 0:C}return Reflect.get(h,b,w)},getOwnPropertyDescriptor(h,b){var w=Reflect.getOwnPropertyDescriptor(h,b);if(w&&"value"in w){var S=l.get(b);S&&(w.value=e(S))}else if(w===void 0){var E=l.get(b),C=E?.v;if(E!==void 0&&C!==ma)return{enumerable:!0,configurable:!0,value:C,writable:!0}}return w},has(h,b){if(b===ms)return!0;var w=l.get(b),S=w!==void 0&&w.v!==ma||Reflect.has(h,b);if(w!==void 0||It!==null&&(!S||Ss(h,b)?.writable)){w===void 0&&(w=_(()=>{var C=S?ha(h[b]):ma,q=pt(C);return q}),l.set(b,w));var E=e(w);if(E===ma)return!1}return S},set(h,b,w,S){var E=l.get(b),C=b in h;if(a&&b==="length")for(var q=w;q<E.v;q+=1){var M=l.get(q+"");M!==void 0?u(M,ma):q in h&&(M=_(()=>pt(ma)),l.set(q+"",M))}if(E===void 0)(!C||Ss(h,b)?.writable)&&(E=_(()=>pt(void 0)),u(E,ha(w)),l.set(b,E));else{C=E.v!==ma;var F=_(()=>ha(w));u(E,F)}var m=Reflect.getOwnPropertyDescriptor(h,b);if(m?.set&&m.set.call(S,w),!C){if(a&&typeof b=="string"){var c=l.get("length"),x=Number(b);Number.isInteger(x)&&x>=c.v&&u(c,x+1)}Er(o)}return!0},ownKeys(h){e(o);var b=Reflect.ownKeys(h).filter(E=>{var C=l.get(E);return C===void 0||C.v!==ma});for(var[w,S]of l)S.v!==ma&&!(w in h)&&b.push(w);return b},setPrototypeOf(){lo()}})}function ni(t){try{if(t!==null&&typeof t=="object"&&ms in t)return t[ms]}catch{}return t}function Co(t,r){return Object.is(ni(t),ni(r))}var zn,Ri,ji,Fi;function Sn(){if(zn===void 0){zn=window,Ri=/Firefox/.test(navigator.userAgent);var t=Element.prototype,r=Node.prototype,l=Text.prototype;ji=Ss(r,"firstChild").get,Fi=Ss(r,"nextSibling").get,ri(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),ri(l)&&(l.__t=void 0)}}function Ca(t=""){return document.createTextNode(t)}function La(t){return ji.call(t)}function os(t){return Fi.call(t)}function n(t,r){if(!ft)return La(t);var l=La($t);if(l===null)l=$t.appendChild(Ca());else if(r&&l.nodeType!==Dr){var a=Ca();return l?.before(a),ya(a),a}return r&&rn(l),ya(l),l}function ze(t,r=!1){if(!ft){var l=La(t);return l instanceof Comment&&l.data===""?os(l):l}if(r){if($t?.nodeType!==Dr){var a=Ca();return $t?.before(a),ya(a),a}rn($t)}return $t}function i(t,r=1,l=!1){let a=ft?$t:t;for(var o;r--;)o=a,a=os(a);if(!ft)return a;if(l){if(a?.nodeType!==Dr){var v=Ca();return a===null?o?.after(v):a.before(v),ya(v),v}rn(a)}return ya(a),a}function Vn(t){t.textContent=""}function Bi(){return!1}function rn(t){if(t.nodeValue.length<65536)return;let r=t.nextSibling;for(;r!==null&&r.nodeType===Dr;)r.remove(),t.nodeValue+=r.nodeValue,r=t.nextSibling}function Oi(t){var r=It;if(r===null)return St.f|=zs,t;if((r.f&Xr)===0){if((r.f&Rn)===0)throw t;r.b.error(t)}else or(t,r)}function or(t,r){for(;r!==null;){if((r.f&Rn)!==0)try{r.b.error(t);return}catch(l){t=l}r=r.parent}throw t}const To=-7169;function ea(t,r){t.f=t.f&To|r}function Un(t){(t.f&Na)!==0||t.deps===null?ea(t,ra):ea(t,Ua)}function Ni(t){if(t!==null)for(const r of t)(r.f&ga)===0||(r.f&Vs)===0||(r.f^=Vs,Ni(r.deps))}function Vi(t,r,l){(t.f&ba)!==0?r.add(t):(t.f&Ua)!==0&&l.add(t),Ni(t.deps),ea(t,ra)}const Yr=new Set;let Dt=null,Zr=null,Wa=null,Ia=[],nn=null,$n=!1,Tr=!1;class Cs{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#a=0;#i=0;#l=null;#r=new Set;#s=new Set;#n=new Map;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#i>0}skip_effect(r){this.#n.has(r)||this.#n.set(r,{d:[],m:[]})}unskip_effect(r){var l=this.#n.get(r);if(l){this.#n.delete(r);for(var a of l.d)ea(a,ba),Qa(a);for(a of l.m)ea(a,Ua),Qa(a)}}process(r){Ia=[],this.apply();var l=[],a=[];for(const o of r)this.#v(o,l,a);if(this.is_deferred()){this.#d(a),this.#d(l);for(const[o,v]of this.#n)Gi(o,v)}else{for(const o of this.#e)o();this.#e.clear(),this.#a===0&&this.#c(),Zr=this,Dt=null,ii(a),ii(l),Zr=null,this.#l?.resolve()}Wa=null}#v(r,l,a){r.f^=ra;for(var o=r.first,v=null;o!==null;){var _=o.f,h=(_&(Xa|Gs))!==0,b=h&&(_&ra)!==0,w=b||(_&Pa)!==0||this.#n.has(o);if(!w&&o.fn!==null){h?o.f^=ra:v!==null&&(_&(Wr|qr|zi))!==0?v.b.defer_effect(o):(_&Wr)!==0?l.push(o):fr(o)&&((_&gs)!==0&&this.#s.add(o),vr(o));var S=o.first;if(S!==null){o=S;continue}}var E=o.parent;for(o=o.next;o===null&&E!==null;)E===v&&(v=null),o=E.next,E=E.parent}}#d(r){for(var l=0;l<r.length;l+=1)Vi(r[l],this.#r,this.#s)}capture(r,l){l!==ma&&!this.previous.has(r)&&this.previous.set(r,l),(r.f&zs)===0&&(this.current.set(r,r.v),Wa?.set(r,r.v))}activate(){Dt=this,this.apply()}deactivate(){Dt===this&&(Dt=null,Wa=null)}flush(){if(this.activate(),Ia.length>0){if(Ui(),Dt!==null&&Dt!==this)return}else this.#a===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#t)r(this);this.#t.clear()}#c(){if(Yr.size>1){this.previous.clear();var r=Wa,l=!0;for(const o of Yr){if(o===this){l=!1;continue}const v=[];for(const[h,b]of this.current){if(o.current.has(h))if(l&&b!==o.current.get(h))o.current.set(h,b);else continue;v.push(h)}if(v.length===0)continue;const _=[...o.current.keys()].filter(h=>!this.current.has(h));if(_.length>0){var a=Ia;Ia=[];const h=new Set,b=new Map;for(const w of v)Yi(w,_,h,b);if(Ia.length>0){Dt=o,o.apply();for(const w of Ia)o.#v(w,[],[]);o.deactivate()}Ia=a}}Dt=null,Wa=r}this.committed=!0,Yr.delete(this)}increment(r){this.#a+=1,r&&(this.#i+=1)}decrement(r){this.#a-=1,r&&(this.#i-=1),!this.#o&&(this.#o=!0,hs(()=>{this.#o=!1,this.is_deferred()?Ia.length>0&&this.flush():this.revive()}))}revive(){for(const r of this.#r)this.#s.delete(r),ea(r,ba),Qa(r);for(const r of this.#s)ea(r,Ua),Qa(r);this.flush()}oncommit(r){this.#e.add(r)}ondiscard(r){this.#t.add(r)}settled(){return(this.#l??=Ti()).promise}static ensure(){if(Dt===null){const r=Dt=new Cs;Yr.add(Dt),Tr||hs(()=>{Dt===r&&r.flush()})}return Dt}apply(){}}function xa(t){var r=Tr;Tr=!0;try{for(var l;;){if(zo(),Ia.length===0&&(Dt?.flush(),Ia.length===0))return nn=null,l;Ui()}}finally{Tr=r}}function Ui(){$n=!0;var t=null;try{for(var r=0;Ia.length>0;){var l=Cs.ensure();if(r++>1e3){var a,o;Eo()}l.process(Ia),Ts.clear()}}finally{$n=!1,nn=null}}function Eo(){try{ao()}catch(t){or(t,nn)}}let us=null;function ii(t){var r=t.length;if(r!==0){for(var l=0;l<r;){var a=t[l++];if((a.f&(_s|Pa))===0&&fr(a)&&(us=new Set,vr(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?ul(a):a.fn=null),us?.size>0)){Ts.clear();for(const o of us){if((o.f&(_s|Pa))!==0)continue;const v=[o];let _=o.parent;for(;_!==null;)us.has(_)&&(us.delete(_),v.push(_)),_=_.parent;for(let h=v.length-1;h>=0;h--){const b=v[h];(b.f&(_s|Pa))===0&&vr(b)}}us.clear()}}us=null}}function Yi(t,r,l,a){if(!l.has(t)&&(l.add(t),t.reactions!==null))for(const o of t.reactions){const v=o.f;(v&ga)!==0?Yi(o,r,l,a):(v&(jn|gs))!==0&&(v&ba)===0&&Hi(o,r,a)&&(ea(o,ba),Qa(o))}}function Hi(t,r,l){const a=l.get(t);if(a!==void 0)return a;if(t.deps!==null)for(const o of t.deps){if(nr.call(r,o))return!0;if((o.f&ga)!==0&&Hi(o,r,l))return l.set(o,!0),!0}return l.set(t,!1),!1}function Qa(t){for(var r=nn=t;r.parent!==null;){r=r.parent;var l=r.f;if($n&&r===It&&(l&gs)!==0&&(l&Si)===0)return;if((l&(Gs|Xa))!==0){if((l&ra)===0)return;r.f^=ra}}Ia.push(r)}function Gi(t,r){if(!((t.f&Xa)!==0&&(t.f&ra)!==0)){(t.f&ba)!==0?r.d.push(t):(t.f&Ua)!==0&&r.m.push(t),ea(t,ra);for(var l=t.first;l!==null;)Gi(l,r),l=l.next}}function Mo(t){let r=0,l=Us(0),a;return()=>{Wn()&&(e(l),Rr(()=>(r===0&&(a=p(()=>t(()=>Er(l)))),r+=1,()=>{hs(()=>{r-=1,r===0&&(a?.(),a=void 0,Er(l))})})))}}var Ao=Ns|cr|Rn;function qo(t,r,l){new Do(t,r,l)}class Do{parent;is_pending=!1;#e;#t=ft?$t:null;#a;#i;#l;#r=null;#s=null;#n=null;#o=null;#v=null;#d=0;#c=0;#f=!1;#p=!1;#_=new Set;#m=new Set;#u=null;#x=Mo(()=>(this.#u=Us(this.#d),()=>{this.#u=null}));constructor(r,l,a){this.#e=r,this.#a=l,this.#i=a,this.parent=It.b,this.is_pending=!!this.#a.pending,this.#l=cn(()=>{if(It.b=this,ft){const v=this.#t;pr(),v.nodeType===dr&&v.data===an?this.#w():(this.#k(),this.#c===0&&(this.is_pending=!1))}else{var o=this.#b();try{this.#r=Oa(()=>a(o))}catch(v){this.error(v)}this.#c>0?this.#g():this.is_pending=!1}return()=>{this.#v?.remove()}},Ao),ft&&(this.#e=$t)}#k(){try{this.#r=Oa(()=>this.#i(this.#e))}catch(r){this.error(r)}}#w(){const r=this.#a.pending;r&&(this.#s=Oa(()=>r(this.#e)),hs(()=>{var l=this.#b();this.#r=this.#h(()=>(Cs.ensure(),Oa(()=>this.#i(l)))),this.#c>0?this.#g():(Fs(this.#s,()=>{this.#s=null}),this.is_pending=!1)}))}#b(){var r=this.#e;return this.is_pending&&(this.#v=Ca(),this.#e.before(this.#v),r=this.#v),r}defer_effect(r){Vi(r,this.#_,this.#m)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#a.pending}#h(r){var l=It,a=St,o=Ot;ls(this.#l),Ya(this.#l),lr(this.#l.ctx);try{return r()}catch(v){return Oi(v),null}finally{ls(l),Ya(a),lr(o)}}#g(){const r=this.#a.pending;this.#r!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#v),_l(this.#r,this.#o)),this.#s===null&&(this.#s=Oa(()=>r(this.#e)))}#y(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(r);return}if(this.#c+=r,this.#c===0){this.is_pending=!1;for(const l of this.#_)ea(l,ba),Qa(l);for(const l of this.#m)ea(l,Ua),Qa(l);this.#_.clear(),this.#m.clear(),this.#s&&Fs(this.#s,()=>{this.#s=null}),this.#o&&(this.#e.before(this.#o),this.#o=null)}}update_pending_count(r){this.#y(r),this.#d+=r,!(!this.#u||this.#f)&&(this.#f=!0,hs(()=>{this.#f=!1,this.#u&&Ys(this.#u,this.#d)}))}get_effect_pending(){return this.#x(),e(this.#u)}error(r){var l=this.#a.onerror;let a=this.#a.failed;if(this.#p||!l&&!a)throw r;this.#r&&(Ta(this.#r),this.#r=null),this.#s&&(Ta(this.#s),this.#s=null),this.#n&&(Ta(this.#n),this.#n=null),ft&&(ya(this.#t),ct(),ya(Kr()));var o=!1,v=!1;const _=()=>{if(o){$o();return}o=!0,v&&vo(),Cs.ensure(),this.#d=0,this.#n!==null&&Fs(this.#n,()=>{this.#n=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#h(()=>(this.#p=!1,Oa(()=>this.#i(this.#e)))),this.#c>0?this.#g():this.is_pending=!1};hs(()=>{try{v=!0,l?.(r,_),v=!1}catch(h){or(h,this.#l&&this.#l.parent)}a&&(this.#n=this.#h(()=>{Cs.ensure(),this.#p=!0;try{return Oa(()=>{a(this.#e,()=>r,()=>_)})}catch(h){return or(h,this.#l.parent),null}finally{this.#p=!1}}))})}}function Io(t,r,l,a){const o=Lr()?Pr:ln;var v=t.filter(C=>!C.settled);if(l.length===0&&v.length===0){a(r.map(o));return}var _=Dt,h=It,b=Lo(),w=v.length===1?v[0].promise:v.length>1?Promise.all(v.map(C=>C.promise)):null;function S(C){b();try{a(C)}catch(q){(h.f&_s)===0&&or(q,h)}_?.deactivate(),Cn()}if(l.length===0){w.then(()=>S(r.map(o)));return}function E(){b(),Promise.all(l.map(C=>Po(C))).then(C=>S([...r.map(o),...C])).catch(C=>or(C,h))}w?w.then(E):E()}function Lo(){var t=It,r=St,l=Ot,a=Dt;return function(v=!0){ls(t),Ya(r),lr(l),v&&a?.activate()}}function Cn(){ls(null),Ya(null),lr(null)}function Pr(t){var r=ga|ba,l=St!==null&&(St.f&ga)!==0?St:null;return It!==null&&(It.f|=cr),{ctx:Ot,deps:null,effects:null,equals:Ei,f:r,fn:t,reactions:null,rv:0,v:ma,wv:0,parent:l??It,ac:null}}function Po(t,r,l){let a=It;a===null&&Jl();var o=a.b,v=void 0,_=Us(ma),h=!St,b=new Map;return Yo(()=>{var w=Ti();v=w.promise;try{Promise.resolve(t()).then(w.resolve,w.reject).then(()=>{S===Dt&&S.committed&&S.deactivate(),Cn()})}catch(q){w.reject(q),Cn()}var S=Dt;if(h){var E=o.is_rendered();o.update_pending_count(1),S.increment(E),b.get(S)?.reject(ar),b.delete(S),b.set(S,w)}const C=(q,M=void 0)=>{if(S.activate(),M)M!==ar&&(_.f|=zs,Ys(_,M));else{(_.f&zs)!==0&&(_.f^=zs),Ys(_,q);for(const[F,m]of b){if(b.delete(F),F===S)break;m.reject(ar)}}h&&(o.update_pending_count(-1),S.decrement(E))};w.promise.then(C,q=>C(null,q||"unknown"))}),vn(()=>{for(const w of b.values())w.reject(ar)}),new Promise(w=>{function S(E){function C(){E===v?w(_):S(v)}E.then(C,C)}S(v)})}function Wi(t){const r=Pr(t);return el(r),r}function ln(t){const r=Pr(t);return r.equals=Ai,r}function Qi(t){var r=t.effects;if(r!==null){t.effects=null;for(var l=0;l<r.length;l+=1)Ta(r[l])}}function Ro(t){for(var r=t.parent;r!==null;){if((r.f&ga)===0)return(r.f&_s)===0?r:null;r=r.parent}return null}function Yn(t){var r,l=It;ls(Ro(t));try{t.f&=~Vs,Qi(t),r=rl(t)}finally{ls(l)}return r}function Ki(t){var r=Yn(t);if(!t.equals(r)&&(t.wv=al(),(!Dt?.is_fork||t.deps===null)&&(t.v=r,t.deps===null))){ea(t,ra);return}Es||(Wa!==null?(Wn()||Dt?.is_fork)&&Wa.set(t,r):Un(t))}let Tn=new Set;const Ts=new Map;let Zi=!1;function Us(t,r){var l={f:0,v:t,reactions:null,equals:Ei,rv:0,wv:0};return l}function pt(t,r){const l=Us(t);return el(l),l}function _e(t,r=!1,l=!0){const a=Us(t);return r||(a.equals=Ai),ur&&l&&Ot!==null&&Ot.l!==null&&(Ot.l.s??=[]).push(a),a}function P(t,r){return u(t,p(()=>e(t))),r}function u(t,r,l=!1){St!==null&&(!Ka||(St.f&si)!==0)&&Lr()&&(St.f&(ga|gs|jn|si))!==0&&(Va===null||!nr.call(Va,t))&&oo();let a=l?ha(r):r;return Ys(t,a)}function Ys(t,r){if(!t.equals(r)){var l=t.v;Es?Ts.set(t,r):Ts.set(t,l),t.v=r;var a=Cs.ensure();if(a.capture(t,l),(t.f&ga)!==0){const o=t;(t.f&ba)!==0&&Yn(o),Un(o)}t.wv=al(),Ji(t,ba),Lr()&&It!==null&&(It.f&ra)!==0&&(It.f&(Xa|Gs))===0&&(Ba===null?Bo([t]):Ba.push(t)),!a.is_fork&&Tn.size>0&&!Zi&&jo()}return r}function jo(){Zi=!1;for(const t of Tn)(t.f&ra)!==0&&ea(t,Ua),fr(t)&&vr(t);Tn.clear()}function Er(t){u(t,t.v+1)}function Ji(t,r){var l=t.reactions;if(l!==null)for(var a=Lr(),o=l.length,v=0;v<o;v++){var _=l[v],h=_.f;if(!(!a&&_===It)){var b=(h&ba)===0;if(b&&ea(_,r),(h&ga)!==0){var w=_;Wa?.delete(w),(h&Vs)===0&&(h&Na&&(_.f|=Vs),Ji(w,Ua))}else b&&((h&gs)!==0&&us!==null&&us.add(_),Qa(_))}}}let er=null;function Fo(t){var r=er;try{if(er=new Set,p(t),r!==null)for(var l of er)r.add(l);return er}finally{er=r}}function $a(t){for(var r of Fo(t))Ys(r,r.v)}function Hs(t){ft&&La(t)!==null&&Vn(t)}let li=!1;function Xi(){li||(li=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const r of t.target.elements)r.__on_r?.()})},{capture:!0}))}function on(t){var r=St,l=It;Ya(null),ls(null);try{return t()}finally{Ya(r),ls(l)}}function Hn(t,r,l,a=l){t.addEventListener(r,()=>on(l));const o=t.__on_r;o?t.__on_r=()=>{o(),a(!0)}:t.__on_r=()=>a(!0),Xi()}let Gr=!1,Es=!1;function oi(t){Es=t}let St=null,Ka=!1;function Ya(t){St=t}let It=null;function ls(t){It=t}let Va=null;function el(t){St!==null&&(Va===null?Va=[t]:Va.push(t))}let Sa=null,Da=0,Ba=null;function Bo(t){Ba=t}let tl=1,Ps=0,Rs=Ps;function vi(t){Rs=t}function al(){return++tl}function fr(t){var r=t.f;if((r&ba)!==0)return!0;if(r&ga&&(t.f&=~Vs),(r&Ua)!==0){for(var l=t.deps,a=l.length,o=0;o<a;o++){var v=l[o];if(fr(v)&&Ki(v),v.wv>t.wv)return!0}(r&Na)!==0&&Wa===null&&ea(t,ra)}return!1}function sl(t,r,l=!0){var a=t.reactions;if(a!==null&&!(Va!==null&&nr.call(Va,t)))for(var o=0;o<a.length;o++){var v=a[o];(v.f&ga)!==0?sl(v,r,!1):r===v&&(l?ea(v,ba):(v.f&ra)!==0&&ea(v,Ua),Qa(v))}}function rl(t){var r=Sa,l=Da,a=Ba,o=St,v=Va,_=Ot,h=Ka,b=Rs,w=t.f;Sa=null,Da=0,Ba=null,St=(w&(Xa|Gs))===0?t:null,Va=null,lr(t.ctx),Ka=!1,Rs=++Ps,t.ac!==null&&(on(()=>{t.ac.abort(ar)}),t.ac=null);try{t.f|=kn;var S=t.fn,E=S(),C=t.deps,q=Dt?.is_fork;if(Sa!==null){var M;if(q||Jr(t,Da),C!==null&&Da>0)for(C.length=Da+Sa.length,M=0;M<Sa.length;M++)C[Da+M]=Sa[M];else t.deps=C=Sa;if(Wn()&&(t.f&Na)!==0)for(M=Da;M<C.length;M++)(C[M].reactions??=[]).push(t)}else!q&&C!==null&&Da<C.length&&(Jr(t,Da),C.length=Da);if(Lr()&&Ba!==null&&!Ka&&C!==null&&(t.f&(ga|Ua|ba))===0)for(M=0;M<Ba.length;M++)sl(Ba[M],t);if(o!==null&&o!==t){if(Ps++,o.deps!==null)for(let F=0;F<l;F+=1)o.deps[F].rv=Ps;if(r!==null)for(const F of r)F.rv=Ps;Ba!==null&&(a===null?a=Ba:a.push(...Ba))}return(t.f&zs)!==0&&(t.f^=zs),E}catch(F){return Oi(F)}finally{t.f^=kn,Sa=r,Da=l,Ba=a,St=o,Va=v,lr(_),Ka=h,Rs=b}}function Oo(t,r){let l=r.reactions;if(l!==null){var a=Gl.call(l,t);if(a!==-1){var o=l.length-1;o===0?l=r.reactions=null:(l[a]=l[o],l.pop())}}if(l===null&&(r.f&ga)!==0&&(Sa===null||!nr.call(Sa,r))){var v=r;(v.f&Na)!==0&&(v.f^=Na,v.f&=~Vs),Un(v),Qi(v),Jr(v,0)}}function Jr(t,r){var l=t.deps;if(l!==null)for(var a=r;a<l.length;a++)Oo(t,l[a])}function vr(t){var r=t.f;if((r&_s)===0){ea(t,ra);var l=It,a=Gr;It=t,Gr=!0;try{(r&(gs|zi))!==0?Ho(t):dl(t),cl(t);var o=rl(t);t.teardown=typeof o=="function"?o:null,t.wv=tl;var v;wn&&co&&(t.f&ba)!==0&&t.deps}finally{Gr=a,It=l}}}async function Gn(){await Promise.resolve(),xa()}function e(t){var r=t.f,l=(r&ga)!==0;if(er?.add(t),St!==null&&!Ka){var a=It!==null&&(It.f&_s)!==0;if(!a&&(Va===null||!nr.call(Va,t))){var o=St.deps;if((St.f&kn)!==0)t.rv<Ps&&(t.rv=Ps,Sa===null&&o!==null&&o[Da]===t?Da++:Sa===null?Sa=[t]:Sa.push(t));else{(St.deps??=[]).push(t);var v=t.reactions;v===null?t.reactions=[St]:nr.call(v,St)||v.push(St)}}}if(Es&&Ts.has(t))return Ts.get(t);if(l){var _=t;if(Es){var h=_.v;return((_.f&ra)===0&&_.reactions!==null||il(_))&&(h=Yn(_)),Ts.set(_,h),h}var b=(_.f&Na)===0&&!Ka&&St!==null&&(Gr||(St.f&Na)!==0),w=_.deps===null;fr(_)&&(b&&(_.f|=Na),Ki(_)),b&&!w&&nl(_)}if(Wa?.has(t))return Wa.get(t);if((t.f&zs)!==0)throw t.v;return t.v}function nl(t){if(t.deps!==null){t.f|=Na;for(const r of t.deps)(r.reactions??=[]).push(t),(r.f&ga)!==0&&(r.f&Na)===0&&nl(r)}}function il(t){if(t.v===ma)return!0;if(t.deps===null)return!1;for(const r of t.deps)if(Ts.has(r)||(r.f&ga)!==0&&il(r))return!0;return!1}function p(t){var r=Ka;try{return Ka=!0,t()}finally{Ka=r}}function Ar(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ms in t)En(t);else if(!Array.isArray(t))for(let r in t){const l=t[r];typeof l=="object"&&l&&ms in l&&En(l)}}}function En(t,r=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!r.has(t)){r.add(t),t instanceof Date&&t.getTime();for(let a in t)try{En(t[a],r)}catch{}const l=On(t);if(l!==Object.prototype&&l!==Array.prototype&&l!==Map.prototype&&l!==Set.prototype&&l!==Date.prototype){const a=Ci(l);for(let o in a){const v=a[o].get;if(v)try{v.call(t)}catch{}}}}}function ll(t){It===null&&(St===null&&to(),eo()),Es&&Xl()}function No(t,r){var l=r.last;l===null?r.last=r.first=t:(l.next=t,t.prev=l,r.last=t)}function vs(t,r,l){var a=It;a!==null&&(a.f&Pa)!==0&&(t|=Pa);var o={ctx:Ot,deps:null,nodes:null,f:t|ba|Na,first:null,fn:r,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(l)try{vr(o),o.f|=Xr}catch(h){throw Ta(o),h}else r!==null&&Qa(o);var v=o;if(l&&v.deps===null&&v.teardown===null&&v.nodes===null&&v.first===v.last&&(v.f&cr)===0&&(v=v.first,(t&gs)!==0&&(t&Ns)!==0&&v!==null&&(v.f|=Ns)),v!==null&&(v.parent=a,a!==null&&No(v,a),St!==null&&(St.f&ga)!==0&&(t&Gs)===0)){var _=St;(_.effects??=[]).push(v)}return o}function Wn(){return St!==null&&!Ka}function vn(t){const r=vs(qr,null,!1);return ea(r,ra),r.teardown=t,r}function Mn(t){ll();var r=It.f,l=!St&&(r&Xa)!==0&&(r&Xr)===0;if(l){var a=Ot;(a.e??=[]).push(t)}else return ol(t)}function ol(t){return vs(Wr|$i,t,!1)}function Vo(t){return ll(),vs(qr|$i,t,!0)}function Uo(t){Cs.ensure();const r=vs(Gs|cr,t,!0);return(l={})=>new Promise(a=>{l.outro?Fs(r,()=>{Ta(r),a(void 0)}):(Ta(r),a(void 0))})}function vl(t){return vs(Wr,t,!1)}function js(t,r){var l=Ot,a={effect:null,ran:!1,deps:t};l.l.$.push(a),a.effect=Rr(()=>{t(),!a.ran&&(a.ran=!0,p(r))})}function Qn(){var t=Ot;Rr(()=>{for(var r of t.l.$){r.deps();var l=r.effect;(l.f&ra)!==0&&l.deps!==null&&ea(l,Ua),fr(l)&&vr(l),r.ran=!1}})}function Yo(t){return vs(jn|cr,t,!0)}function Rr(t,r=0){return vs(qr|r,t,!0)}function z(t,r=[],l=[],a=[]){Io(a,r,l,o=>{vs(qr,()=>t(...o.map(e)),!0)})}function cn(t,r=0){var l=vs(gs|r,t,!0);return l}function Oa(t){return vs(Xa|cr,t,!0)}function cl(t){var r=t.teardown;if(r!==null){const l=Es,a=St;oi(!0),Ya(null);try{r.call(null)}finally{oi(l),Ya(a)}}}function dl(t,r=!1){var l=t.first;for(t.first=t.last=null;l!==null;){const o=l.ac;o!==null&&on(()=>{o.abort(ar)});var a=l.next;(l.f&Gs)!==0?l.parent=null:Ta(l,r),l=a}}function Ho(t){for(var r=t.first;r!==null;){var l=r.next;(r.f&Xa)===0&&Ta(r),r=l}}function Ta(t,r=!0){var l=!1;(r||(t.f&Si)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Go(t.nodes.start,t.nodes.end),l=!0),dl(t,r&&!l),Jr(t,0),ea(t,_s);var a=t.nodes&&t.nodes.t;if(a!==null)for(const v of a)v.stop();cl(t);var o=t.parent;o!==null&&o.first!==null&&ul(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Go(t,r){for(;t!==null;){var l=t===r?null:os(t);t.remove(),t=l}}function ul(t){var r=t.parent,l=t.prev,a=t.next;l!==null&&(l.next=a),a!==null&&(a.prev=l),r!==null&&(r.first===t&&(r.first=a),r.last===t&&(r.last=l))}function Fs(t,r,l=!0){var a=[];pl(t,a,!0);var o=()=>{l&&Ta(t),r&&r()},v=a.length;if(v>0){var _=()=>--v||o();for(var h of a)h.out(_)}else o()}function pl(t,r,l){if((t.f&Pa)===0){t.f^=Pa;var a=t.nodes&&t.nodes.t;if(a!==null)for(const h of a)(h.is_global||l)&&r.push(h);for(var o=t.first;o!==null;){var v=o.next,_=(o.f&Ns)!==0||(o.f&Xa)!==0&&(t.f&gs)!==0;pl(o,r,_?l:!1),o=v}}}function Kn(t){fl(t,!0)}function fl(t,r){if((t.f&Pa)!==0){t.f^=Pa,(t.f&ra)===0&&(ea(t,ba),Qa(t));for(var l=t.first;l!==null;){var a=l.next,o=(l.f&Ns)!==0||(l.f&Xa)!==0;fl(l,o?r:!1),l=a}var v=t.nodes&&t.nodes.t;if(v!==null)for(const _ of v)(_.is_global||r)&&_.in()}}function _l(t,r){if(t.nodes)for(var l=t.nodes.start,a=t.nodes.end;l!==null;){var o=l===a?null:os(l);r.append(l),l=o}}const ml=new Set,An=new Set;function Wo(t,r,l,a={}){function o(v){if(a.capture||$r.call(r,v),!v.cancelBubble)return on(()=>l?.call(this,v))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?hs(()=>{r.addEventListener(t,o,a)}):r.addEventListener(t,o,a),o}function J(t,r,l,a,o){var v={capture:a,passive:o},_=Wo(t,r,l,v);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&vn(()=>{r.removeEventListener(t,_,v)})}function Zn(t){for(var r=0;r<t.length;r++)ml.add(t[r]);for(var l of An)l(t)}let ci=null;function $r(t){var r=this,l=r.ownerDocument,a=t.type,o=t.composedPath?.()||[],v=o[0]||t.target;ci=t;var _=0,h=ci===t&&t.__root;if(h){var b=o.indexOf(h);if(b!==-1&&(r===document||r===window)){t.__root=r;return}var w=o.indexOf(r);if(w===-1)return;b<=w&&(_=b)}if(v=o[_]||t.target,v!==r){Bn(t,"currentTarget",{configurable:!0,get(){return v||l}});var S=St,E=It;Ya(null),ls(null);try{for(var C,q=[];v!==null;){var M=v.assignedSlot||v.parentNode||v.host||null;try{var F=v["__"+a];F!=null&&(!v.disabled||t.target===v)&&F.call(v,t)}catch(m){C?q.push(m):C=m}if(t.cancelBubble||M===r||M===null)break;v=M}if(C){for(let m of q)queueMicrotask(()=>{throw m});throw C}}finally{t.__root=r,delete t.currentTarget,Ya(S),ls(E)}}}function hl(t){var r=document.createElement("template");return r.innerHTML=t.replaceAll("<!>","<!---->"),r.content}function Za(t,r){var l=It;l.nodes===null&&(l.nodes={start:t,end:r,a:null,t:null})}function f(t,r){var l=(r&Di)!==0,a=(r&ko)!==0,o,v=!t.startsWith("<!>");return()=>{if(ft)return Za($t,null),$t;o===void 0&&(o=hl(v?t:"<!>"+t),l||(o=La(o)));var _=a||Ri?document.importNode(o,!0):o.cloneNode(!0);if(l){var h=La(_),b=_.lastChild;Za(h,b)}else Za(_,_);return _}}function Qo(t,r,l="svg"){var a=!t.startsWith("<!>"),o=(r&Di)!==0,v=`<${l}>${a?t:"<!>"+t}</${l}>`,_;return()=>{if(ft)return Za($t,null),$t;if(!_){var h=hl(v),b=La(h);if(o)for(_=document.createDocumentFragment();La(b);)_.appendChild(La(b));else _=La(b)}var w=_.cloneNode(!0);if(o){var S=La(w),E=w.lastChild;Za(S,E)}else Za(w,w);return w}}function es(t,r){return Qo(t,r,"svg")}function sr(t=""){if(!ft){var r=Ca(t+"");return Za(r,r),r}var l=$t;return l.nodeType!==Dr?(l.before(l=Ca()),ya(l)):rn(l),Za(l,l),l}function Bt(){if(ft)return Za($t,null),$t;var t=document.createDocumentFragment(),r=document.createComment(""),l=Ca();return t.append(r,l),Za(r,l),t}function d(t,r){if(ft){var l=It;((l.f&Xr)===0||l.nodes.end===null)&&(l.nodes.end=$t),pr();return}t!==null&&t.before(r)}const Ko=["touchstart","touchmove"];function Zo(t){return Ko.includes(t)}function y(t,r){var l=r==null?"":typeof r=="object"?r+"":r;l!==(t.__t??=t.nodeValue)&&(t.__t=l,t.nodeValue=l+"")}function gl(t,r){return bl(t,r)}function Jo(t,r){Sn(),r.intro=r.intro??!1;const l=r.target,a=ft,o=$t;try{for(var v=La(l);v&&(v.nodeType!==dr||v.data!==Ii);)v=os(v);if(!v)throw ir;fs(!0),ya(v);const _=bl(t,{...r,anchor:v});return fs(!1),_}catch(_){if(_ instanceof Error&&_.message.split(`
`).some(h=>h.startsWith("https://svelte.dev/e/")))throw _;return _!==ir&&console.warn("Failed to hydrate: ",_),r.recover===!1&&so(),Sn(),Vn(l),fs(!1),gl(t,r)}finally{fs(a),ya(o)}}const Js=new Map;function bl(t,{target:r,anchor:l,props:a={},events:o,context:v,intro:_=!0}){Sn();var h=new Set,b=E=>{for(var C=0;C<E.length;C++){var q=E[C];if(!h.has(q)){h.add(q);var M=Zo(q);r.addEventListener(q,$r,{passive:M});var F=Js.get(q);F===void 0?(document.addEventListener(q,$r,{passive:M}),Js.set(q,1)):Js.set(q,F+1)}}};b(en(ml)),An.add(b);var w=void 0,S=Uo(()=>{var E=l??r.appendChild(Ca());return qo(E,{pending:()=>{}},C=>{if(v){na({});var q=Ot;q.c=v}if(o&&(a.$$events=o),ft&&Za(C,null),w=t(C,a)||{},ft&&(It.nodes.end=$t,$t===null||$t.nodeType!==dr||$t.data!==Nn))throw sn(),ir;v&&ia()}),()=>{for(var C of h){r.removeEventListener(C,$r);var q=Js.get(C);--q===0?(document.removeEventListener(C,$r),Js.delete(C)):Js.set(C,q)}An.delete(b),E!==l&&E.parentNode?.removeChild(E)}});return qn.set(w,S),w}let qn=new WeakMap;function Xo(t,r){const l=qn.get(t);return l?(qn.delete(t),l(r)):Promise.resolve()}function di(t){return function(...r){var l=r[0];return l.stopPropagation(),t?.apply(this,r)}}function Ja(t){return function(...r){var l=r[0];return l.preventDefault(),t?.apply(this,r)}}function da(t){return new ev(t)}class ev{#e;#t;constructor(r){var l=new Map,a=(v,_)=>{var h=_e(_,!1,!1);return l.set(v,h),h};const o=new Proxy({...r.props||{},$$events:{}},{get(v,_){return e(l.get(_)??a(_,Reflect.get(v,_)))},has(v,_){return _===Fn?!0:(e(l.get(_)??a(_,Reflect.get(v,_))),Reflect.has(v,_))},set(v,_,h){return u(l.get(_)??a(_,h),h),Reflect.set(v,_,h)}});this.#t=(r.hydrate?Jo:gl)(r.component,{target:r.target,anchor:r.anchor,props:o,context:r.context,intro:r.intro??!1,recover:r.recover}),(!r?.props?.$$host||r.sync===!1)&&xa(),this.#e=o.$$events;for(const v of Object.keys(this.#t))v==="$set"||v==="$destroy"||v==="$on"||Bn(this,v,{get(){return this.#t[v]},set(_){this.#t[v]=_},enumerable:!0});this.#t.$set=v=>{Object.assign(o,v)},this.#t.$destroy=()=>{Xo(this.#t)}}$set(r){this.#t.$set(r)}$on(r,l){this.#e[r]=this.#e[r]||[];const a=(...o)=>l.call(this,...o);return this.#e[r].push(a),()=>{this.#e[r]=this.#e[r].filter(o=>o!==a)}}$destroy(){this.#t.$destroy()}}const tv="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(tv);uo();class yl{anchor;#e=new Map;#t=new Map;#a=new Map;#i=new Set;#l=!0;constructor(r,l=!0){this.anchor=r,this.#l=l}#r=()=>{var r=Dt;if(this.#e.has(r)){var l=this.#e.get(r),a=this.#t.get(l);if(a)Kn(a),this.#i.delete(l);else{var o=this.#a.get(l);o&&(this.#t.set(l,o.effect),this.#a.delete(l),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),a=o.effect)}for(const[v,_]of this.#e){if(this.#e.delete(v),v===r)break;const h=this.#a.get(_);h&&(Ta(h.effect),this.#a.delete(_))}for(const[v,_]of this.#t){if(v===l||this.#i.has(v))continue;const h=()=>{if(Array.from(this.#e.values()).includes(v)){var w=document.createDocumentFragment();_l(_,w),w.append(Ca()),this.#a.set(v,{effect:_,fragment:w})}else Ta(_);this.#i.delete(v),this.#t.delete(v)};this.#l||!a?(this.#i.add(v),Fs(_,h,!1)):h()}}};#s=r=>{this.#e.delete(r);const l=Array.from(this.#e.values());for(const[a,o]of this.#a)l.includes(a)||(Ta(o.effect),this.#a.delete(a))};ensure(r,l){var a=Dt,o=Bi();if(l&&!this.#t.has(r)&&!this.#a.has(r))if(o){var v=document.createDocumentFragment(),_=Ca();v.append(_),this.#a.set(r,{effect:Oa(()=>l(_)),fragment:v})}else this.#t.set(r,Oa(()=>l(this.anchor)));if(this.#e.set(a,r),o){for(const[h,b]of this.#t)h===r?a.unskip_effect(b):a.skip_effect(b);for(const[h,b]of this.#a)h===r?a.unskip_effect(b.effect):a.skip_effect(b.effect);a.oncommit(this.#r),a.ondiscard(this.#s)}else ft&&(this.anchor=$t),this.#r()}}function cs(t){Ot===null&&tn(),ur&&Ot.l!==null?xl(Ot).m.push(t):Mn(()=>{const r=p(t);if(typeof r=="function")return r})}function av(t){Ot===null&&tn(),cs(()=>()=>p(t))}function sv(t,r,{bubbles:l=!1,cancelable:a=!1}={}){return new CustomEvent(t,{detail:r,bubbles:l,cancelable:a})}function Jn(){const t=Ot;return t===null&&tn(),(r,l,a)=>{const o=t.s.$$events?.[r];if(o){const v=Ir(o)?o.slice():[o],_=sv(r,l,a);for(const h of v)h.call(t.x,_);return!_.defaultPrevented}return!0}}function rv(t){Ot===null&&tn(),Ot.l===null&&ro(),xl(Ot).a.push(t)}function xl(t){var r=t.l;return r.u??={a:[],b:[],m:[]}}function $(t,r,l=!1){ft&&pr();var a=new yl(t),o=l?Ns:0;function v(_,h){if(ft){const w=Pi(t)===an;if(_===w){var b=Kr();ya(b),a.anchor=b,fs(!1),a.ensure(_,h),fs(!0);return}}a.ensure(_,h)}cn(()=>{var _=!1;r((h,b=!0)=>{_=!0,v(b,h)}),_||v(!1,null)},o)}function at(t,r){return r}function nv(t,r,l){for(var a=[],o=r.length,v,_=r.length,h=0;h<o;h++){let E=r[h];Fs(E,()=>{if(v){if(v.pending.delete(E),v.done.add(E),v.pending.size===0){var C=t.outrogroups;Dn(en(v.done)),C.delete(v),C.size===0&&(t.outrogroups=null)}}else _-=1},!1)}if(_===0){var b=a.length===0&&l!==null;if(b){var w=l,S=w.parentNode;Vn(S),S.append(w),t.items.clear()}Dn(r,!b)}else v={pending:new Set(r),done:new Set},(t.outrogroups??=new Set).add(v)}function Dn(t,r=!0){for(var l=0;l<t.length;l++)Ta(t[l],r)}var ui;function st(t,r,l,a,o,v=null){var _=t,h=new Map,b=(r&qi)!==0;if(b){var w=t;_=ft?ya(La(w)):w.appendChild(Ca())}ft&&pr();var S=null,E=ln(()=>{var c=l();return Ir(c)?c:c==null?[]:en(c)}),C,q=!0;function M(){m.fallback=S,iv(m,C,_,r,a),S!==null&&(C.length===0?(S.f&ps)===0?Kn(S):(S.f^=ps,Cr(S,null,_)):Fs(S,()=>{S=null}))}var F=cn(()=>{C=e(E);var c=C.length;let x=!1;if(ft){var K=Pi(_)===an;K!==(c===0)&&(_=Kr(),ya(_),fs(!1),x=!0)}for(var Se=new Set,ke=Dt,te=Bi(),G=0;G<c;G+=1){ft&&$t.nodeType===dr&&$t.data===Nn&&(_=$t,x=!0,fs(!1));var be=C[G],De=a(be,G),Me=q?null:h.get(De);Me?(Me.v&&Ys(Me.v,be),Me.i&&Ys(Me.i,G),te&&ke.unskip_effect(Me.e)):(Me=lv(h,q?_:ui??=Ca(),be,De,G,o,r,l),q||(Me.e.f|=ps),h.set(De,Me)),Se.add(De)}if(c===0&&v&&!S&&(q?S=Oa(()=>v(_)):(S=Oa(()=>v(ui??=Ca())),S.f|=ps)),ft&&c>0&&ya(Kr()),!q)if(te){for(const[Ze,Ct]of h)Se.has(Ze)||ke.skip_effect(Ct.e);ke.oncommit(M),ke.ondiscard(()=>{})}else M();x&&fs(!0),e(E)}),m={effect:F,items:h,outrogroups:null,fallback:S};q=!1,ft&&(_=$t)}function Sr(t){for(;t!==null&&(t.f&Xa)===0;)t=t.next;return t}function iv(t,r,l,a,o){var v=(a&_o)!==0,_=r.length,h=t.items,b=Sr(t.effect.first),w,S=null,E,C=[],q=[],M,F,m,c;if(v)for(c=0;c<_;c+=1)M=r[c],F=o(M,c),m=h.get(F).e,(m.f&ps)===0&&(m.nodes?.a?.measure(),(E??=new Set).add(m));for(c=0;c<_;c+=1){if(M=r[c],F=o(M,c),m=h.get(F).e,t.outrogroups!==null)for(const Me of t.outrogroups)Me.pending.delete(m),Me.done.delete(m);if((m.f&ps)!==0)if(m.f^=ps,m===b)Cr(m,null,l);else{var x=S?S.next:b;m===t.effect.last&&(t.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),ws(t,S,m),ws(t,m,x),Cr(m,x,l),S=m,C=[],q=[],b=Sr(S.next);continue}if((m.f&Pa)!==0&&(Kn(m),v&&(m.nodes?.a?.unfix(),(E??=new Set).delete(m))),m!==b){if(w!==void 0&&w.has(m)){if(C.length<q.length){var K=q[0],Se;S=K.prev;var ke=C[0],te=C[C.length-1];for(Se=0;Se<C.length;Se+=1)Cr(C[Se],K,l);for(Se=0;Se<q.length;Se+=1)w.delete(q[Se]);ws(t,ke.prev,te.next),ws(t,S,ke),ws(t,te,K),b=K,S=te,c-=1,C=[],q=[]}else w.delete(m),Cr(m,b,l),ws(t,m.prev,m.next),ws(t,m,S===null?t.effect.first:S.next),ws(t,S,m),S=m;continue}for(C=[],q=[];b!==null&&b!==m;)(w??=new Set).add(b),q.push(b),b=Sr(b.next);if(b===null)continue}(m.f&ps)===0&&C.push(m),S=m,b=Sr(m.next)}if(t.outrogroups!==null){for(const Me of t.outrogroups)Me.pending.size===0&&(Dn(en(Me.done)),t.outrogroups?.delete(Me));t.outrogroups.size===0&&(t.outrogroups=null)}if(b!==null||w!==void 0){var G=[];if(w!==void 0)for(m of w)(m.f&Pa)===0&&G.push(m);for(;b!==null;)(b.f&Pa)===0&&b!==t.fallback&&G.push(b),b=Sr(b.next);var be=G.length;if(be>0){var De=(a&qi)!==0&&_===0?l:null;if(v){for(c=0;c<be;c+=1)G[c].nodes?.a?.measure();for(c=0;c<be;c+=1)G[c].nodes?.a?.fix()}nv(t,G,De)}}v&&hs(()=>{if(E!==void 0)for(m of E)m.nodes?.a?.apply()})}function lv(t,r,l,a,o,v,_,h){var b=(_&po)!==0?(_&mo)===0?_e(l,!1,!1):Us(l):null,w=(_&fo)!==0?Us(o):null;return{v:b,i:w,e:Oa(()=>(v(r,b??l,w??o,h),()=>{t.delete(a)}))}}function Cr(t,r,l){if(t.nodes)for(var a=t.nodes.start,o=t.nodes.end,v=r&&(r.f&ps)===0?r.nodes.start:l;a!==null;){var _=os(a);if(v.before(a),a===o)return;a=_}}function ws(t,r,l){r===null?t.effect.first=l:r.next=l,l===null?t.effect.last=r:l.prev=r}function pi(t,r,l,a,o){ft&&pr();var v=r.$$slots?.[l],_=!1;v===!0&&(v=r[l==="default"?"children":l],_=!0),v===void 0||v(t,_?()=>a:a)}function ov(t){const r={};t.children&&(r.default=!0);for(const l in t.$$slots)r[l]=!0;return r}function fi(t,r,l){ft&&pr();var a=new yl(t);cn(()=>{var o=r()??null;a.ensure(o,o&&(v=>l(v,o)))},Ns)}function Bs(t,r,l){vl(()=>{var a=p(()=>r(t,l?.())||{});if(a?.destroy)return()=>a.destroy()})}const _i=[...` 	
\r\fÂ \v\uFEFF`];function vv(t,r,l){var a=t==null?"":""+t;if(r&&(a=a?a+" "+r:r),l){for(var o in l)if(l[o])a=a?a+" "+o:o;else if(a.length)for(var v=o.length,_=0;(_=a.indexOf(o,_))>=0;){var h=_+v;(_===0||_i.includes(a[_-1]))&&(h===a.length||_i.includes(a[h]))?a=(_===0?"":a.substring(0,_))+a.substring(h+1):_=h}}return a===""?null:a}function cv(t,r){return t==null?null:String(t)}function ot(t,r,l,a,o,v){var _=t.__className;if(ft||_!==l||_===void 0){var h=vv(l,a,v);(!ft||h!==t.getAttribute("class"))&&(h==null?t.removeAttribute("class"):r?t.className=h:t.setAttribute("class",h)),t.__className=l}else if(v&&o!==v)for(var b in v){var w=!!v[b];(o==null||w!==!!o[b])&&t.classList.toggle(b,w)}return v}function In(t,r,l,a){var o=t.__style;if(ft||o!==r){var v=cv(r);(!ft||v!==t.getAttribute("style"))&&(v==null?t.removeAttribute("style"):t.style.cssText=v),t.__style=r}return a}function kl(t,r,l=!1){if(t.multiple){if(r==null)return;if(!Ir(r))return So();for(var a of t.options)a.selected=r.includes(Mr(a));return}for(a of t.options){var o=Mr(a);if(Co(o,r)){a.selected=!0;return}}(!l||r!==void 0)&&(t.selectedIndex=-1)}function dv(t){var r=new MutationObserver(()=>{kl(t,t.__value)});r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),vn(()=>{r.disconnect()})}function Ht(t,r,l=r){var a=new WeakSet,o=!0;Hn(t,"change",v=>{var _=v?"[selected]":":checked",h;if(t.multiple)h=[].map.call(t.querySelectorAll(_),Mr);else{var b=t.querySelector(_)??t.querySelector("option:not([disabled])");h=b&&Mr(b)}l(h),Dt!==null&&a.add(Dt)}),vl(()=>{var v=r();if(t===document.activeElement){var _=Zr??Dt;if(a.has(_))return}if(kl(t,v,o),o&&v===void 0){var h=t.querySelector(":checked");h!==null&&(v=Mr(h),l(v))}t.__value=v,o=!1}),dv(t)}function Mr(t){return"__value"in t?t.__value:t.value}const uv=Symbol("is custom element"),pv=Symbol("is html");function de(t){if(ft){var r=!1,l=()=>{if(!r){if(r=!0,t.hasAttribute("value")){var a=t.value;Je(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var o=t.checked;Je(t,"checked",null),t.checked=o}}};t.__on_r=l,hs(l),Xi()}}function fv(t,r){var l=Xn(t);l.value===(l.value=r??void 0)||t.value===r&&(r!==0||t.nodeName!=="PROGRESS")||(t.value=r??"")}function rr(t,r){var l=Xn(t);l.checked!==(l.checked=r??void 0)&&(t.checked=r)}function Je(t,r,l,a){var o=Xn(t);ft&&(o[r]=t.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&t.nodeName==="LINK")||o[r]!==(o[r]=l)&&(r==="loading"&&(t[Hl]=l),l==null?t.removeAttribute(r):typeof l!="string"&&_v(t).includes(r)?t[r]=l:t.setAttribute(r,l))}function Xn(t){return t.__attributes??={[uv]:t.nodeName.includes("-"),[pv]:t.namespaceURI===wo}}var mi=new Map;function _v(t){var r=t.getAttribute("is")||t.nodeName,l=mi.get(r);if(l)return l;mi.set(r,l=[]);for(var a,o=t,v=Element.prototype;v!==o;){a=Ci(o);for(var _ in a)a[_].set&&l.push(_);o=On(o)}return l}function ue(t,r,l=r){var a=new WeakSet;Hn(t,"input",async o=>{var v=o?t.defaultValue:t.value;if(v=yn(t)?xn(v):v,l(v),Dt!==null&&a.add(Dt),await Gn(),v!==(v=r())){var _=t.selectionStart,h=t.selectionEnd,b=t.value.length;if(t.value=v??"",h!==null){var w=t.value.length;_===h&&h===b&&w>b?(t.selectionStart=w,t.selectionEnd=w):(t.selectionStart=_,t.selectionEnd=Math.min(h,w))}}}),(ft&&t.defaultValue!==t.value||p(r)==null&&t.value)&&(l(yn(t)?xn(t.value):t.value),Dt!==null&&a.add(Dt)),Rr(()=>{var o=r();if(t===document.activeElement){var v=Zr??Dt;if(a.has(v))return}yn(t)&&o===xn(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function mv(t,r,l=r){Hn(t,"change",a=>{var o=a?t.defaultChecked:t.checked;l(o)}),(ft&&t.defaultChecked!==t.checked||p(r)==null)&&l(t.checked),Rr(()=>{var a=r();t.checked=!!a})}function yn(t){var r=t.type;return r==="number"||r==="range"}function xn(t){return t===""?null:+t}function ts(t=!1){const r=Ot,l=r.l.u;if(!l)return;let a=()=>Ar(r.s);if(t){let o=0,v={};const _=Pr(()=>{let h=!1;const b=r.s;for(const w in b)b[w]!==v[w]&&(v[w]=b[w],h=!0);return h&&o++,o});a=()=>e(_)}l.b.length&&Vo(()=>{hi(r,a),Qr(l.b)}),Mn(()=>{const o=p(()=>l.m.map(Kl));return()=>{for(const v of o)typeof v=="function"&&v()}}),l.a.length&&Mn(()=>{hi(r,a),Qr(l.a)})}function hi(t,r){if(t.l.s)for(const l of t.l.s)e(l);r()}function gi(t,r){var l=t.$$events?.[r.type],a=Ir(l)?l.slice():l==null?[]:[l];for(var o of a)o.call(this,r)}function ua(t,r,l){t.$$events||={},t.$$events[r]||=[],t.$$events[r].push(l)}function pa(t){for(var r in t)r in this&&(this[r]=t[r])}function ei(t,r,l){if(t==null)return r(void 0),l&&l(void 0),$s;const a=p(()=>t.subscribe(r,l));return a.unsubscribe?()=>a.unsubscribe():a}const Xs=[];function wl(t,r){return{subscribe:zl(t,r).subscribe}}function zl(t,r=$s){let l=null;const a=new Set;function o(h){if(Mi(t,h)&&(t=h,l)){const b=!Xs.length;for(const w of a)w[1](),Xs.push(w,t);if(b){for(let w=0;w<Xs.length;w+=2)Xs[w][0](Xs[w+1]);Xs.length=0}}}function v(h){o(h(t))}function _(h,b=$s){const w=[h,b];return a.add(w),a.size===1&&(l=r(o,v)||$s),h(t),()=>{a.delete(w),a.size===0&&l&&(l(),l=null)}}return{set:o,update:v,subscribe:_}}function Sl(t,r,l){const a=!Array.isArray(t),o=a?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const v=r.length<2;return wl(l,(_,h)=>{let b=!1;const w=[];let S=0,E=$s;const C=()=>{if(S)return;E();const M=r(a?w[0]:w,_,h);v?_(M):E=typeof M=="function"?M:$s},q=o.map((M,F)=>ei(M,m=>{w[F]=m,S&=~(1<<F),b&&C()},()=>{S|=1<<F}));return b=!0,C(),function(){Qr(q),E(),b=!1}})}function hv(t){let r;return ei(t,l=>r=l)(),r}let Hr=!1,Ln=Symbol();function gv(t,r,l){const a=l[r]??={store:null,source:_e(void 0),unsubscribe:$s};if(a.store!==t&&!(Ln in l))if(a.unsubscribe(),a.store=t??null,t==null)a.source.v=void 0,a.unsubscribe=$s;else{var o=!0;a.unsubscribe=ei(t,v=>{o?a.source.v=v:u(a.source,v)}),o=!1}return t&&Ln in l?hv(t):e(a.source)}function bv(){const t={};function r(){vn(()=>{for(var l in t)t[l].unsubscribe();Bn(t,Ln,{enumerable:!1,value:!0})})}return[t,r]}function yv(t){var r=Hr;try{return Hr=!1,[t(),Hr]}finally{Hr=r}}const xv={get(t,r){let l=t.props.length;for(;l--;){let a=t.props[l];if(zr(a)&&(a=a()),typeof a=="object"&&a!==null&&r in a)return a[r]}},set(t,r,l){let a=t.props.length;for(;a--;){let o=t.props[a];zr(o)&&(o=o());const v=Ss(o,r);if(v&&v.set)return v.set(l),!0}return!1},getOwnPropertyDescriptor(t,r){let l=t.props.length;for(;l--;){let a=t.props[l];if(zr(a)&&(a=a()),typeof a=="object"&&a!==null&&r in a){const o=Ss(a,r);return o&&!o.configurable&&(o.configurable=!0),o}}},has(t,r){if(r===ms||r===Fn)return!1;for(let l of t.props)if(zr(l)&&(l=l()),l!=null&&r in l)return!0;return!1},ownKeys(t){const r=[];for(let l of t.props)if(zr(l)&&(l=l()),!!l){for(const a in l)r.includes(a)||r.push(a);for(const a of Object.getOwnPropertySymbols(l))r.includes(a)||r.push(a)}return r}};function bi(...t){return new Proxy({props:t},xv)}function Ra(t,r,l,a){var o=!ur||(l&go)!==0,v=(l&yo)!==0,_=(l&xo)!==0,h=a,b=!0,w=()=>(b&&(b=!1,h=_?p(a):a),h),S;if(v){var E=ms in t||Fn in t;S=Ss(t,r)?.set??(E&&r in t?K=>t[r]=K:void 0)}var C,q=!1;v?[C,q]=yv(()=>t[r]):C=t[r],C===void 0&&a!==void 0&&(C=w(),S&&(o&&no(),S(C)));var M;if(o?M=()=>{var K=t[r];return K===void 0?w():(b=!0,K)}:M=()=>{var K=t[r];return K!==void 0&&(h=void 0),K===void 0?h:K},o&&(l&bo)===0)return M;if(S){var F=t.$$legacy;return(function(K,Se){return arguments.length>0?((!o||!Se||F||q)&&S(Se?M():K),K):M()})}var m=!1,c=((l&ho)!==0?Pr:ln)(()=>(m=!1,M()));v&&e(c);var x=It;return(function(K,Se){if(arguments.length>0){const ke=Se?e(c):o&&v?ha(K):K;return u(c,ke),m=!0,h!==void 0&&(h=ke),K}return Es&&m||(x.f&_s)!==0?c.v:e(c)})}function kv(t,r){if(t instanceof RegExp)return{keys:!1,pattern:t};var l,a,o,v,_=[],h="",b=t.split("/");for(b[0]||b.shift();o=b.shift();)l=o[0],l==="*"?(_.push("wild"),h+="/(.*)"):l===":"?(a=o.indexOf("?",1),v=o.indexOf(".",1),_.push(o.substring(1,~a?a:~v?v:o.length)),h+=~a&&!~v?"(?:/([^/]+?))?":"/([^/]+?)",~v&&(h+=(~a?"?":"")+"\\"+o.substring(v))):h+="/"+o;return{keys:_,pattern:new RegExp("^"+h+"/?$","i")}}function yi(){const t=window.location.href.indexOf("#/");let r=t>-1?window.location.href.substr(t+1):"/";const l=r.indexOf("?");let a="";return l>-1&&(a=r.substr(l+1),r=r.substr(0,l)),{location:r,querystring:a}}const ti=wl(null,function(r){r(yi());const l=()=>{r(yi())};return window.addEventListener("hashchange",l,!1),function(){window.removeEventListener("hashchange",l,!1)}}),wv=Sl(ti,t=>t.location);Sl(ti,t=>t.querystring);const xi=zl(void 0);async function $l(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Gn(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function Os(t,r){if(r=wi(r),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return ki(t,r),{update(l){l=wi(l),ki(t,l)}}}function zv(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function ki(t,r){let l=r.href||t.getAttribute("href");if(l&&l.charAt(0)=="/")l="#"+l;else if(!l||l.length<2||l.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+l);t.setAttribute("href",l),t.addEventListener("click",a=>{a.preventDefault(),r.disabled||Sv(a.currentTarget.getAttribute("href"))})}function wi(t){return t&&typeof t=="string"?{href:t}:t||{}}function Sv(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function Cl(t,r){if(new.target)return da({component:Cl,...t});na(r,!1);let l=Ra(r,"routes",28,()=>({})),a=Ra(r,"prefix",12,""),o=Ra(r,"restoreScrollState",12,!1);class v{constructor(G,be){if(!be||typeof be!="function"&&(typeof be!="object"||be._sveltesparouter!==!0))throw Error("Invalid component object");if(!G||typeof G=="string"&&(G.length<1||G.charAt(0)!="/"&&G.charAt(0)!="*")||typeof G=="object"&&!(G instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:De,keys:Me}=kv(G);this.path=G,typeof be=="object"&&be._sveltesparouter===!0?(this.component=be.component,this.conditions=be.conditions||[],this.userData=be.userData,this.props=be.props||{}):(this.component=()=>Promise.resolve(be),this.conditions=[],this.props={}),this._pattern=De,this._keys=Me}match(G){if(a()){if(typeof a()=="string")if(G.startsWith(a()))G=G.substr(a().length)||"/";else return null;else if(a()instanceof RegExp){const Ze=G.match(a());if(Ze&&Ze[0])G=G.substr(Ze[0].length)||"/";else return null}}const be=this._pattern.exec(G);if(be===null)return null;if(this._keys===!1)return be;const De={};let Me=0;for(;Me<this._keys.length;){try{De[this._keys[Me]]=decodeURIComponent(be[Me+1]||"")||null}catch{De[this._keys[Me]]=null}Me++}return De}async checkConditions(G){for(let be=0;be<this.conditions.length;be++)if(!await this.conditions[be](G))return!1;return!0}}const _=[];l()instanceof Map?l().forEach((te,G)=>{_.push(new v(G,te))}):Object.keys(l()).forEach(te=>{_.push(new v(te,l()[te]))});let h=_e(null),b=_e(null),w=_e({});const S=Jn();async function E(te,G){await Gn(),S(te,G)}let C=null,q=null;o()&&(q=te=>{te.state&&(te.state.__svelte_spa_router_scrollY||te.state.__svelte_spa_router_scrollX)?C=te.state:C=null},window.addEventListener("popstate",q),rv(()=>{zv(C)}));let M=null,F=null;const m=ti.subscribe(async te=>{M=te;let G=0;for(;G<_.length;){const be=_[G].match(te.location);if(!be){G++;continue}const De={route:_[G].path,location:te.location,querystring:te.querystring,userData:_[G].userData,params:be&&typeof be=="object"&&Object.keys(be).length?be:null};if(!await _[G].checkConditions(De)){u(h,null),F=null,E("conditionsFailed",De);return}E("routeLoading",Object.assign({},De));const Me=_[G].component;if(F!=Me){Me.loading?(u(h,Me.loading),F=Me,u(b,Me.loadingParams),u(w,{}),E("routeLoaded",Object.assign({},De,{component:e(h),name:e(h).name,params:e(b)}))):(u(h,null),F=null);const Ze=await Me();if(te!=M)return;u(h,Ze&&Ze.default||Ze),F=Me}be&&typeof be=="object"&&Object.keys(be).length?u(b,be):u(b,null),u(w,_[G].props),E("routeLoaded",Object.assign({},De,{component:e(h),name:e(h).name,params:e(b)})).then(()=>{xi.set(e(b))});return}u(h,null),F=null,xi.set(void 0)});av(()=>{m(),q&&window.removeEventListener("popstate",q)}),js(()=>Ar(o()),()=>{history.scrollRestoration=o()?"manual":"auto"}),Qn();var c={get routes(){return l()},set routes(te){l(te),xa()},get prefix(){return a()},set prefix(te){a(te),xa()},get restoreScrollState(){return o()},set restoreScrollState(te){o(te),xa()},$set:pa,$on:(te,G)=>ua(r,te,G)};ts();var x=Bt(),K=ze(x);{var Se=te=>{var G=Bt(),be=ze(G);fi(be,()=>e(h),(De,Me)=>{Me(De,bi({get params(){return e(b)}},()=>e(w),{$$events:{routeEvent(Ze){gi.call(this,r,Ze)}}}))}),d(te,G)},ke=te=>{var G=Bt(),be=ze(G);fi(be,()=>e(h),(De,Me)=>{Me(De,bi(()=>e(w),{$$events:{routeEvent(Ze){gi.call(this,r,Ze)}}}))}),d(te,G)};$(K,te=>{e(b)?te(Se):te(ke,!1)})}return d(t,x),ia(c)}var $v=es('<svg viewBox="0 0 91 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M84.3703 17.2033C83.1577 17.2033 81.9553 16.9978 80.7631 16.5867C79.571 16.1757 78.605 15.559 77.8651 14.7369C77.639 14.4903 77.5465 14.2128 77.5876 13.9045C77.6287 13.5962 77.7829 13.329 78.0501 13.1029C78.3378 12.8973 78.6358 12.8151 78.9442 12.8562C79.2525 12.8973 79.5094 13.0309 79.7149 13.257C80.2082 13.8325 80.8556 14.2744 81.6572 14.5827C82.4794 14.891 83.3837 15.0452 84.3703 15.0452C85.8913 15.0452 86.9909 14.7883 87.6692 14.2744C88.3474 13.74 88.6969 13.1029 88.7174 12.3629C88.7174 11.623 88.368 11.0167 87.6692 10.544C86.9703 10.0507 85.8193 9.67042 84.2162 9.40322C82.1402 9.07437 80.6193 8.49887 79.6533 7.67672C78.6872 6.85457 78.2042 5.87828 78.2042 4.74782C78.2042 3.69959 78.4817 2.82606 79.0366 2.12723C79.5916 1.42841 80.3315 0.904293 81.2564 0.55488C82.1814 0.205468 83.1988 0.0307617 84.3087 0.0307617C85.6857 0.0307617 86.8676 0.267129 87.8542 0.739863C88.8613 1.2126 89.6732 1.84976 90.2898 2.65135C90.4953 2.91855 90.5775 3.19602 90.5364 3.48378C90.4953 3.77153 90.3309 4.00789 90.0431 4.19288C89.7965 4.33675 89.5087 4.38814 89.1799 4.34703C88.8716 4.28537 88.6044 4.13122 88.3783 3.88457C87.8644 3.28852 87.2684 2.85689 86.5901 2.58969C85.9118 2.30194 85.1308 2.15807 84.247 2.15807C83.1165 2.15807 82.2122 2.39443 81.5339 2.86717C80.8556 3.31935 80.5165 3.89485 80.5165 4.59367C80.5165 5.06641 80.6398 5.47748 80.8865 5.82689C81.1537 6.1763 81.5956 6.48461 82.2122 6.7518C82.8493 7.019 83.7331 7.24509 84.8636 7.43008C86.4051 7.67672 87.6178 8.04668 88.5016 8.53997C89.406 9.01271 90.0431 9.57793 90.4131 10.2356C90.8036 10.8728 90.9989 11.5716 90.9989 12.3321C90.9989 13.2981 90.7111 14.1511 90.1356 14.891C89.5807 15.6104 88.7996 16.1757 87.7925 16.5867C86.8059 16.9978 85.6652 17.2033 84.3703 17.2033Z" fill="#E50914"></path><path d="M69.5786 17.2343C68.1193 17.2343 66.8141 16.9363 65.6631 16.3402C64.5121 15.7236 63.5975 14.8295 62.9192 13.658C62.2615 12.4864 61.9326 11.0579 61.9326 9.37254V1.35662C61.9326 1.02776 62.0457 0.750285 62.2718 0.524195C62.4978 0.298104 62.7753 0.185059 63.1042 0.185059C63.4536 0.185059 63.7413 0.298104 63.9674 0.524195C64.1935 0.750285 64.3066 1.02776 64.3066 1.35662V9.37254C64.3066 10.6469 64.5429 11.6951 65.0157 12.5172C65.5089 13.3394 66.1667 13.956 66.9888 14.3671C67.8315 14.7781 68.777 14.9837 69.8252 14.9837C70.8323 14.9837 71.7367 14.7884 72.5383 14.3979C73.3604 14.0074 74.0079 13.473 74.4806 12.7947C74.9533 12.1165 75.1897 11.3457 75.1897 10.4824H76.8854C76.8237 11.7773 76.464 12.9386 75.8063 13.9663C75.1692 14.9734 74.3059 15.775 73.2166 16.3711C72.1272 16.9466 70.9146 17.2343 69.5786 17.2343ZM76.3613 17.0493C76.0119 17.0493 75.7241 16.9466 75.498 16.741C75.2925 16.5149 75.1897 16.2169 75.1897 15.8469V1.35662C75.1897 1.00721 75.2925 0.729731 75.498 0.524195C75.7241 0.298104 76.0119 0.185059 76.3613 0.185059C76.7107 0.185059 76.9984 0.298104 77.2245 0.524195C77.4506 0.729731 77.5637 1.00721 77.5637 1.35662V15.8469C77.5637 16.2169 77.4506 16.5149 77.2245 16.741C76.9984 16.9466 76.7107 17.0493 76.3613 17.0493Z" fill="#E50914"></path><path d="M59.6497 17.0486C59.2797 17.0486 58.9817 16.9458 58.7556 16.7403C58.55 16.5142 58.4473 16.2162 58.4473 15.8462V1.38672C58.4473 1.01675 58.55 0.728999 58.7556 0.523463C58.9817 0.297372 59.2797 0.184326 59.6497 0.184326C59.9991 0.184326 60.2765 0.297372 60.4821 0.523463C60.7082 0.728999 60.8212 1.01675 60.8212 1.38672V15.8462C60.8212 16.2162 60.7082 16.5142 60.4821 16.7403C60.2765 16.9458 59.9991 17.0486 59.6497 17.0486Z" fill="#E50914"></path><path d="M56.1734 17.0493C55.8239 17.0493 55.5362 16.9362 55.3101 16.7101C55.084 16.484 54.971 16.2066 54.971 15.8777V7.86177C54.971 6.58744 54.7243 5.53921 54.231 4.71706C53.7583 3.89492 53.1006 3.27831 52.2579 2.86723C51.4357 2.45616 50.5006 2.25062 49.4523 2.25062C48.4452 2.25062 47.5306 2.44588 46.7084 2.8364C45.9068 3.22692 45.2696 3.76132 44.7969 4.43959C44.3242 5.11786 44.0878 5.88862 44.0878 6.75187H42.3921C42.4332 5.45699 42.7827 4.30599 43.4404 3.29886C44.0981 2.27118 44.9716 1.46959 46.061 0.894083C47.1503 0.298028 48.363 0 49.699 0C51.1583 0 52.4634 0.308305 53.6144 0.924915C54.7654 1.52097 55.6698 2.40478 56.3275 3.57634C57.0058 4.74789 57.3449 6.17637 57.3449 7.86177V15.8777C57.3449 16.2066 57.2319 16.484 57.0058 16.7101C56.7797 16.9362 56.5022 17.0493 56.1734 17.0493ZM42.9163 17.0493C42.5463 17.0493 42.2483 16.9465 42.0222 16.7409C41.8166 16.5149 41.7139 16.2271 41.7139 15.8777V1.38737C41.7139 1.01741 41.8166 0.729655 42.0222 0.524119C42.2483 0.298028 42.5463 0.184982 42.9163 0.184982C43.2657 0.184982 43.5431 0.298028 43.7487 0.524119C43.9748 0.729655 44.0878 1.01741 44.0878 1.38737V15.8777C44.0878 16.2271 43.9748 16.5149 43.7487 16.7409C43.5431 16.9465 43.2657 17.0493 42.9163 17.0493Z" fill="#E50914"></path><path d="M39.9175 17.0493C39.5681 17.0493 39.2803 16.9465 39.0543 16.7409C38.8282 16.5149 38.7151 16.2271 38.7151 15.8777V6.99852C38.7151 5.53921 38.3349 4.3882 37.5744 3.5455C36.8139 2.68225 35.8376 2.25062 34.6455 2.25062C33.3712 2.25062 32.3229 2.68225 31.5008 3.5455C30.6992 4.3882 30.3087 5.51866 30.3292 6.93686H28.2019C28.2225 5.55976 28.5205 4.3471 29.096 3.29886C29.6715 2.25062 30.4628 1.43876 31.47 0.863253C32.4771 0.287751 33.6178 0 34.8921 0C36.1048 0 37.1736 0.287751 38.0985 0.863253C39.044 1.43876 39.7736 2.25062 40.2875 3.29886C40.8219 4.3471 41.0891 5.58032 41.0891 6.99852V15.8777C41.0891 16.2271 40.976 16.5149 40.7499 16.7409C40.5444 16.9465 40.2669 17.0493 39.9175 17.0493ZM18.3362 17.0493C17.9662 17.0493 17.6682 16.9465 17.4421 16.7409C17.2366 16.5149 17.1338 16.2271 17.1338 15.8777V1.38737C17.1338 1.03796 17.2366 0.750208 17.4421 0.524119C17.6682 0.298028 17.9662 0.184982 18.3362 0.184982C18.6856 0.184982 18.9631 0.298028 19.1686 0.524119C19.3947 0.750208 19.5077 1.03796 19.5077 1.38737V15.8777C19.5077 16.2271 19.3947 16.5149 19.1686 16.7409C18.9631 16.9465 18.6856 17.0493 18.3362 17.0493ZM29.1577 17.0493C28.8083 17.0493 28.5205 16.9465 28.2944 16.7409C28.0683 16.5149 27.9553 16.2271 27.9553 15.8777V6.99852C27.9553 5.53921 27.575 4.3882 26.8146 3.5455C26.0541 2.68225 25.0778 2.25062 23.8857 2.25062C22.6113 2.25062 21.5631 2.67197 20.741 3.51467C19.9188 4.33682 19.5077 5.41589 19.5077 6.75187H17.8121C17.8532 5.43644 18.1409 4.27516 18.6753 3.26803C19.2303 2.24035 19.9805 1.43876 20.9259 0.863253C21.8714 0.287751 22.9402 0 24.1323 0C25.345 0 26.4138 0.287751 27.3387 0.863253C28.2841 1.43876 29.0138 2.25062 29.5276 3.29886C30.062 4.3471 30.3292 5.58032 30.3292 6.99852V15.8777C30.3292 16.2271 30.2162 16.5149 29.9901 16.7409C29.7846 16.9465 29.5071 17.0493 29.1577 17.0493Z" fill="#E50914"></path><path d="M8.57087 17.2033C6.92658 17.2033 5.45699 16.8334 4.16211 16.0934C2.86723 15.3535 1.84983 14.3361 1.1099 13.0412C0.369966 11.7463 0 10.2768 0 8.63246C0 6.96762 0.369966 5.48776 1.1099 4.19288C1.84983 2.898 2.86723 1.88059 4.16211 1.14066C5.45699 0.400727 6.92658 0.0307617 8.57087 0.0307617C10.2152 0.0307617 11.6745 0.400727 12.9488 1.14066C14.2437 1.88059 15.2611 2.898 16.001 4.19288C16.7409 5.48776 17.1212 6.96762 17.1417 8.63246C17.1417 10.2768 16.7615 11.7463 16.001 13.0412C15.2611 14.3361 14.2437 15.3535 12.9488 16.0934C11.6745 16.8334 10.2152 17.2033 8.57087 17.2033ZM8.57087 15.0452C9.76298 15.0452 10.8318 14.7677 11.7772 14.2128C12.7227 13.6578 13.4626 12.8973 13.997 11.9313C14.5314 10.9653 14.7986 9.86568 14.7986 8.63246C14.7986 7.39925 14.5314 6.29962 13.997 5.3336C13.4626 4.34703 12.7227 3.57627 11.7772 3.02132C10.8318 2.46637 9.76298 2.18889 8.57087 2.18889C7.37876 2.18889 6.30997 2.46637 5.3645 3.02132C4.41903 3.57627 3.66883 4.34703 3.11388 5.3336C2.57948 6.29962 2.31229 7.39925 2.31229 8.63246C2.31229 9.86568 2.57948 10.9653 3.11388 11.9313C3.66883 12.8973 4.41903 13.6578 5.3645 14.2128C6.30997 14.7677 7.37876 15.0452 8.57087 15.0452Z" fill="#E50914"></path></svg>');function ai(t,r){if(new.target)return da({component:ai,...t});na(r,!1);let l=Ra(r,"width",12,91),a=Ra(r,"height",12,18);var o={get width(){return l()},set width(_){l(_),xa()},get height(){return a()},set height(_){a(_),xa()},$set:pa,$on:(_,h)=>ua(r,_,h)},v=$v();return z(()=>{Je(v,"width",l()),Je(v,"height",a())}),d(t,v),ia(o)}var Cv=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="9" rx="1"></rect><rect x="14" y="3" width="7" height="5" rx="1"></rect><rect x="14" y="12" width="7" height="9" rx="1"></rect><rect x="3" y="16" width="7" height="5" rx="1"></rect></svg>'),Tv=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>'),Ev=f("<a><!> </a>"),Mv=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>'),Av=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg>'),qv=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline></svg>'),Dv=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path></svg>'),Iv=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>'),Lv=f("<a><!> </a>"),Pv=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>'),Rv=es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>'),jv=f("<a><!> </a>"),Fv=f('<aside class="sidebar svelte-129hoe0"><div class="sidebar-header svelte-129hoe0"><!></div> <nav class="sidebar-nav svelte-129hoe0"><div class="nav-section svelte-129hoe0"></div> <div class="nav-section svelte-129hoe0"></div></nav> <div class="sidebar-footer svelte-129hoe0"><div class="nav-section svelte-129hoe0"><!> <a href="/admin/logout" class="nav-item logout svelte-129hoe0"><svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> Logout</a></div> <div class="version svelte-129hoe0"></div></div></aside>');function Tl(t,r){if(new.target)return da({component:Tl,...t});na(r,!1);const l=()=>gv(wv,"$location",a),[a,o]=bv(),v=[{path:"/",label:"Dashboard"},{path:"/analytics",label:"Analytics"}],_=[{path:"/home",label:"Home Sections"},{path:"/movies",label:"Movies"},{path:"/tvshows",label:"TV Shows"},{path:"/channels",label:"Live Channels"},{path:"/curated",label:"Curated Lists"}],h=[{path:"/api-docs",label:"API Docs"},{path:"/settings",label:"Settings"}];function b(ke,te){return ke==="/"?te==="/":te.startsWith(ke)}var w={$set:pa,$on:(ke,te)=>ua(r,ke,te)},S=Fv(),E=n(S),C=n(E);ai(C,{width:91,height:18}),s(E);var q=i(E,2),M=n(q);st(M,5,()=>v,at,(ke,te)=>{var G=Ev();let be;var De=n(G);{var Me=Ne=>{var nt=Cv();d(Ne,nt)},Ze=Ne=>{var nt=Bt(),xt=ze(nt);{var kt=_t=>{var Lt=Tv();d(_t,Lt)};$(xt,_t=>{e(te).path==="/analytics"&&_t(kt)},!0)}d(Ne,nt)};$(De,Ne=>{e(te).path==="/"?Ne(Me):Ne(Ze,!1)})}var Ct=i(De);s(G),Bs(G,Ne=>Os?.(Ne)),z(Ne=>{Je(G,"href",e(te).path),be=ot(G,1,"nav-item svelte-129hoe0",null,be,Ne),y(Ct,` ${e(te).label??""}`)},[()=>({active:b(e(te).path,l())})]),d(ke,G)}),s(M);var F=i(M,2);st(F,5,()=>_,at,(ke,te)=>{var G=Lv();let be;var De=n(G);{var Me=Ne=>{var nt=Mv();d(Ne,nt)},Ze=Ne=>{var nt=Bt(),xt=ze(nt);{var kt=Lt=>{var Rt=Av();d(Lt,Rt)},_t=Lt=>{var Rt=Bt(),Nt=ze(Rt);{var Gt=Qe=>{var mt=qv();d(Qe,mt)},Ve=Qe=>{var mt=Bt(),Tt=ze(mt);{var Pt=ae=>{var g=Dv();d(ae,g)},L=ae=>{var g=Bt(),j=ze(g);{var U=W=>{var Ae=Iv();d(W,Ae)};$(j,W=>{e(te).path==="/curated"&&W(U)},!0)}d(ae,g)};$(Tt,ae=>{e(te).path==="/channels"?ae(Pt):ae(L,!1)},!0)}d(Qe,mt)};$(Nt,Qe=>{e(te).path==="/tvshows"?Qe(Gt):Qe(Ve,!1)},!0)}d(Lt,Rt)};$(xt,Lt=>{e(te).path==="/movies"?Lt(kt):Lt(_t,!1)},!0)}d(Ne,nt)};$(De,Ne=>{e(te).path==="/home"?Ne(Me):Ne(Ze,!1)})}var Ct=i(De);s(G),Bs(G,Ne=>Os?.(Ne)),z(Ne=>{Je(G,"href",e(te).path),be=ot(G,1,"nav-item svelte-129hoe0",null,be,Ne),y(Ct,` ${e(te).label??""}`)},[()=>({active:b(e(te).path,l())})]),d(ke,G)}),s(F),s(q);var m=i(q,2),c=n(m),x=n(c);st(x,1,()=>h,at,(ke,te)=>{var G=jv();let be;var De=n(G);{var Me=Ne=>{var nt=Pv();d(Ne,nt)},Ze=Ne=>{var nt=Bt(),xt=ze(nt);{var kt=_t=>{var Lt=Rv();d(_t,Lt)};$(xt,_t=>{e(te).path==="/settings"&&_t(kt)},!0)}d(Ne,nt)};$(De,Ne=>{e(te).path==="/api-docs"?Ne(Me):Ne(Ze,!1)})}var Ct=i(De);s(G),Bs(G,Ne=>Os?.(Ne)),z(Ne=>{Je(G,"href",e(te).path),be=ot(G,1,"nav-item svelte-129hoe0",null,be,Ne),y(Ct,` ${e(te).label??""}`)},[()=>({active:b(e(te).path,l())})]),d(ke,G)}),ct(2),s(c);var K=i(c,2);K.textContent="version: 1.0.0 | commit: abc212",s(m),s(S),d(t,S);var Se=ia(w);return o(),Se}var Bv=f('<div class="error-message svelte-110obhz"> </div>'),Ov=f('<div class="login-container svelte-110obhz"><div class="login-card svelte-110obhz"><div class="login-header svelte-110obhz"><!> <p class="login-subtitle svelte-110obhz">Admin Panel</p></div> <form><!> <div class="form-group svelte-110obhz"><label for="password" class="svelte-110obhz">Password</label> <input type="password" id="password" placeholder="Enter admin password" class="svelte-110obhz"/></div> <button type="submit" class="btn btn-primary login-btn svelte-110obhz"> </button></form></div></div>');function El(t,r){if(new.target)return da({component:El,...t});na(r,!1);const l=Jn();let a=_e(""),o=_e(""),v=_e(!1);async function _(){if(!e(a)){u(o,"Password is required");return}u(v,!0),u(o,"");try{(await fetch("/admin/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e(a)})})).ok?l("login"):u(o,"Invalid password")}catch(K){u(o,"Connection error - make sure the backend is running on port 8080"),console.error("Login error:",K)}finally{u(v,!1)}}var h={$set:pa,$on:(K,Se)=>ua(r,K,Se)};ts();var b=Ov(),w=n(b),S=n(w),E=n(S);ai(E,{width:120,height:24}),ct(2),s(S);var C=i(S,2),q=n(C);{var M=K=>{var Se=Bv(),ke=n(Se,!0);s(Se),z(()=>y(ke,e(o))),d(K,Se)};$(q,K=>{e(o)&&K(M)})}var F=i(q,2),m=i(n(F),2);de(m),s(F);var c=i(F,2),x=n(c,!0);return s(c),s(C),s(w),s(b),z(()=>{m.disabled=e(v),c.disabled=e(v),y(x,e(v)?"Signing in...":"Sign In")}),ue(m,()=>e(a),K=>u(a,K)),J("submit",C,Ja(_)),d(t,b),ia(h)}var Nv=f('<span class="label-suffix svelte-17xvzis"> </span>'),Vv=f('<div class="stat-card svelte-17xvzis"><div class="stat-label svelte-17xvzis"><span class="label-main svelte-17xvzis"> </span> <!></div> <div class="stat-value svelte-17xvzis"> </div></div>');function tr(t,r){if(new.target)return da({component:tr,...t});na(r,!1);let l=Ra(r,"label",12),a=Ra(r,"value",12),o=Ra(r,"suffix",12,"");var v={get label(){return l()},set label(M){l(M),xa()},get value(){return a()},set value(M){a(M),xa()},get suffix(){return o()},set suffix(M){o(M),xa()},$set:pa,$on:(M,F)=>ua(r,M,F)};ts();var _=Vv(),h=n(_),b=n(h),w=n(b,!0);s(b);var S=i(b,2);{var E=M=>{var F=Nv(),m=n(F,!0);s(F),z(()=>y(m,o())),d(M,F)};$(S,M=>{o()&&M(E)})}s(h);var C=i(h,2),q=n(C,!0);return s(C),s(_),z(M=>{y(w,l()),y(q,M)},[()=>(Ar(a()),p(()=>typeof a()=="number"?a().toLocaleString():a()))]),d(t,_),ia(v)}const Ms="/admin/api",dn="/api/v2";async function Ha(t,r){const l=await fetch(t,{...r,headers:{"Content-Type":"application/json",Accept:"application/json",...r?.headers}});if(!l.ok)throw new Error(`API Error: ${l.status}`);return l.json()}async function Uv(){return Ha(`${Ms}/stats`)}async function Yv(t){const r=new URLSearchParams;t?.page&&r.set("page",String(t.page)),t?.limit&&r.set("limit",String(t.limit)),t?.search&&r.set("query_term",t.search),r.set("sort_by",t?.sort_by||"date_uploaded"),r.set("order_by",t?.order_by||"desc");const l=await Ha(`${dn}/list_movies.json?${r}`);return{movies:l.data.movies||[],total:l.data.movie_count}}async function Ml(t){return(await Ha(`${dn}/movie_details.json?movie_id=${t}`)).data.movie}async function Al(t){return Ha(`${Ms}/movies/${t}`,{method:"DELETE"})}async function Hv(t){return Ha(`${Ms}/movies/by-imdb/${t}`)}async function Pn(t,r){return Ha(`${Ms}/movies/${t}`,{method:"PUT",body:JSON.stringify(r)})}async function Gv(t){const r=new URLSearchParams;t?.page&&r.set("page",String(t.page)),t?.limit&&r.set("limit",String(t.limit)),t?.search&&r.set("query_term",t.search);const l=await Ha(`${dn}/list_series.json?${r}`);return{series:l.data.series||[],total:l.data.series_count}}async function Wv(t,r=!0){const l=await Ha(`${dn}/series_details.json?series_id=${t}&with_episodes=${r}`);return{...l.data.series,episodes:l.data.episodes||[],season_packs:l.data.season_packs||[]}}async function Qv(t){return Ha(`${Ms}/series/by-imdb/${t}`)}async function ql(t){return Ha(`${Ms}/series/${t}`,{method:"DELETE"})}async function Dl(t,r){return Ha(`${Ms}/series/${t}`,{method:"PUT",body:JSON.stringify(r)})}async function Kv(){return Ha(`${Ms}/curated`)}var Zv=f('<div class="loading"><div class="spinner"></div></div>'),Jv=f('<section class="stats-section svelte-1thed0a"><div class="section-header"><h2 class="section-title svelte-1thed0a"><span class="svelte-1thed0a">ONLINE</span><span class="svelte-1thed0a">STATS</span></h2></div> <div class="stats-grid"><!> <!></div></section> <section class="stats-section svelte-1thed0a"><div class="section-header"><h2 class="section-title svelte-1thed0a"><span class="svelte-1thed0a">DATABASE</span><span class="svelte-1thed0a">STATS</span></h2></div> <div class="stats-grid"><!> <!> <!></div></section> <section class="quick-actions svelte-1thed0a"><h2 class="section-title svelte-1thed0a"><span class="svelte-1thed0a">QUICK</span><span class="svelte-1thed0a">ACTIONS</span></h2> <div class="actions-grid svelte-1thed0a"><a href="#/movies" class="action-card svelte-1thed0a"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg> <span>Manage Movies</span></a> <a href="#/curated" class="action-card svelte-1thed0a"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg> <span>Curated Lists</span></a> <a href="#/settings" class="action-card svelte-1thed0a"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg> <span>Settings</span></a></div></section>',1),Xv=f('<div class="dashboard svelte-1thed0a"><h1 class="page-title svelte-1thed0a">Dashboard</h1> <!></div>');function Il(t,r){if(new.target)return da({component:Il,...t});na(r,!1);let l=_e(!0),a=_e({movies:0,series:0,channels:0,activeStreams:0});cs(async()=>{try{const w=await Uv();u(a,{movies:w.movies||0,series:w.series||0,channels:0,activeStreams:0})}catch(w){console.error("Failed to load stats:",w)}u(l,!1)});var o={$set:pa,$on:(w,S)=>ua(r,w,S)};ts();var v=Xv(),_=i(n(v),2);{var h=w=>{var S=Zv();d(w,S)},b=w=>{var S=Jv(),E=ze(S),C=i(n(E),2),q=n(C);tr(q,{label:"ACTIVE",get value(){return e(a).activeStreams},suffix:"STREAMS"});var M=i(q,2);tr(M,{label:"SERVER",value:"Online",suffix:""}),s(C),s(E);var F=i(E,2),m=i(n(F),2),c=n(m);tr(c,{label:"MOVIES",get value(){return e(a).movies}});var x=i(c,2);tr(x,{label:"TV",get value(){return e(a).series},suffix:"SHOWS"});var K=i(x,2);tr(K,{label:"LIVE",get value(){return e(a).channels},suffix:"CHANNELS"}),s(m),s(F),ct(2),d(w,S)};$(_,w=>{e(l)?w(h):w(b,!1)})}return s(v),d(t,v),ia(o)}var ec=f('<div class="loading-overlay"><div class="spinner"></div> <p>Loading analytics...</p></div>'),tc=f("<span> </span>"),ac=f('<span class="stat-sublabel svelte-1gtcppe"> </span>'),sc=f('<div class="bar-wrapper svelte-1gtcppe"><div></div> <span class="bar-label svelte-1gtcppe"></span></div>'),rc=f('<div class="quality-row svelte-1gtcppe"><span class="quality-label svelte-1gtcppe"> </span> <div class="quality-bar-container svelte-1gtcppe"><div class="quality-bar svelte-1gtcppe"></div></div> <span class="quality-value svelte-1gtcppe"> </span></div>'),nc=f('<div class="top-item svelte-1gtcppe"><span class="rank svelte-1gtcppe"></span> <span class="name svelte-1gtcppe"> </span> <span class="count svelte-1gtcppe"> </span> <span> </span></div>'),ic=f('<div class="top-item svelte-1gtcppe"><span class="rank svelte-1gtcppe"></span> <span class="name svelte-1gtcppe"> </span> <span class="count svelte-1gtcppe"> </span> <span> </span></div>'),lc=f('<div class="page-header svelte-1gtcppe"><h1 class="svelte-1gtcppe">Analytics</h1> <div class="header-actions svelte-1gtcppe"><select class="time-select svelte-1gtcppe"><option>Today</option><option>This Week</option><option>This Month</option><option>This Year</option></select> <button class="btn btn-secondary"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> Export</button></div></div> <!> <div class="analytics-grid svelte-1gtcppe"><section class="stat-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg> Streaming</h2> <div class="stat-cards svelte-1gtcppe"><div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Total Streams</span> <span class="stat-value svelte-1gtcppe"> </span> <!></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Active Now</span> <span class="stat-value highlight svelte-1gtcppe"> </span> <span class="stat-sublabel svelte-1gtcppe">live</span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Peak Today</span> <span class="stat-value svelte-1gtcppe"> </span> <!></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Avg Duration</span> <span class="stat-value svelte-1gtcppe"> </span></div></div></section> <section class="stat-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg> Bandwidth</h2> <div class="stat-cards svelte-1gtcppe"><div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Today</span> <span class="stat-value svelte-1gtcppe"> </span> <span class="stat-change positive svelte-1gtcppe">+8.2%</span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Avg / Stream</span> <span class="stat-value svelte-1gtcppe"> </span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Peak Rate</span> <span class="stat-value svelte-1gtcppe"> </span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">This Month</span> <span class="stat-value svelte-1gtcppe"> </span></div></div></section> <section class="stat-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> Users</h2> <div class="stat-cards svelte-1gtcppe"><div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Today</span> <span class="stat-value svelte-1gtcppe"> </span> <span class="stat-change positive svelte-1gtcppe">+5.3%</span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">This Week</span> <span class="stat-value svelte-1gtcppe"> </span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">This Month</span> <span class="stat-value svelte-1gtcppe"> </span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Returning</span> <span class="stat-value svelte-1gtcppe"> </span></div></div></section> <section class="chart-section wide svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg> Hourly Activity</h2> <div class="chart-container svelte-1gtcppe"><div class="bar-chart svelte-1gtcppe"></div></div></section> <section class="chart-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg> Quality Distribution</h2> <div class="quality-bars svelte-1gtcppe"></div></section> <section class="list-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg> Top Movies</h2> <div class="top-list svelte-1gtcppe"></div></section> <section class="list-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> Top Genres</h2> <div class="top-list svelte-1gtcppe"></div></section></div>',1);function Ll(t,r){if(new.target)return da({component:Ll,...t});na(r,!0);let l=pt(!0),a=pt("week"),o=pt(ha({totalStreams:0,activeStreams:0,peakToday:0,peakTime:"",avgDuration:"0 min",totalChange:0})),v=pt(ha({totalToday:"0 B",avgPerStream:"0 B",peakRate:"N/A",totalMonth:"0 B",todayChange:0})),_=pt(ha({uniqueToday:0,uniqueWeek:0,uniqueMonth:0,returningRate:"0%",todayChange:0})),h=pt(ha([])),b=pt(ha([])),w=pt(ha([])),S=pt(ha(new Array(24).fill(0)));async function E(){u(l,!0);try{const ve=await fetch(`/admin/api/analytics?period=${e(a)}`,{credentials:"include"});if(!ve.ok)throw new Error("Failed to load analytics");const H=await ve.json();u(o,{totalStreams:H.stream_stats?.total_streams||0,activeStreams:H.stream_stats?.active_streams||0,peakToday:H.stream_stats?.peak_today||0,peakTime:H.stream_stats?.peak_time||"",avgDuration:H.stream_stats?.avg_duration||"0 min",totalChange:H.stream_stats?.total_change||0},!0),u(v,{totalToday:H.bandwidth_stats?.total_today||"0 B",avgPerStream:H.bandwidth_stats?.avg_per_stream||"0 B",peakRate:H.bandwidth_stats?.peak_rate||"N/A",totalMonth:H.bandwidth_stats?.total_month||"0 B",todayChange:H.bandwidth_stats?.today_change||0},!0),u(_,{uniqueToday:H.user_stats?.unique_today||0,uniqueWeek:H.user_stats?.unique_week||0,uniqueMonth:H.user_stats?.unique_month||0,returningRate:H.user_stats?.returning_rate||"0%",todayChange:H.user_stats?.today_change||0},!0),u(h,H.top_movies||[],!0),u(b,H.top_genres||[],!0),u(w,H.quality_distribution||[],!0),u(S,H.hourly_activity||new Array(24).fill(0),!0)}catch(ve){console.error("Failed to load analytics:",ve)}finally{u(l,!1)}}function C(ve){const H=ve.target;u(a,H.value,!0),E()}cs(()=>{E();const ve=setInterval(E,3e4);return()=>{clearInterval(ve)}});var q={$set:pa,$on:(ve,H)=>ua(r,ve,H)},M=lc(),F=ze(M),m=i(n(F),2),c=n(m);c.__change=C;var x=n(c);x.value=x.__value="today";var K=i(x);K.value=K.__value="week";var Se=i(K);Se.value=Se.__value="month";var ke=i(Se);ke.value=ke.__value="year",s(c),ct(2),s(m),s(F);var te=i(F,2);{var G=ve=>{var H=ec();d(ve,H)};$(te,ve=>{e(l)&&ve(G)})}var be=i(te,2),De=n(be),Me=i(n(De),2),Ze=n(Me),Ct=i(n(Ze),2),Ne=n(Ct,!0);s(Ct);var nt=i(Ct,2);{var xt=ve=>{var H=tc();let Pe;var Re=n(H);s(H),z(Ue=>{Pe=ot(H,1,"stat-change svelte-1gtcppe",null,Pe,{positive:e(o).totalChange>0,negative:e(o).totalChange<0}),y(Re,`${e(o).totalChange>0?"+":""}${Ue??""}%`)},[()=>e(o).totalChange.toFixed(1)]),d(ve,H)};$(nt,ve=>{e(o).totalChange!==0&&ve(xt)})}s(Ze);var kt=i(Ze,2),_t=i(n(kt),2),Lt=n(_t,!0);s(_t),ct(2),s(kt);var Rt=i(kt,2),Nt=i(n(Rt),2),Gt=n(Nt,!0);s(Nt);var Ve=i(Nt,2);{var Qe=ve=>{var H=ac(),Pe=n(H);s(H),z(()=>y(Pe,`at ${e(o).peakTime??""}`)),d(ve,H)};$(Ve,ve=>{e(o).peakTime&&ve(Qe)})}s(Rt);var mt=i(Rt,2),Tt=i(n(mt),2),Pt=n(Tt,!0);s(Tt),s(mt),s(Me),s(De);var L=i(De,2),ae=i(n(L),2),g=n(ae),j=i(n(g),2),U=n(j,!0);s(j),ct(2),s(g);var W=i(g,2),Ae=i(n(W),2),Fe=n(Ae,!0);s(Ae),s(W);var I=i(W,2),Q=i(n(I),2),ce=n(Q,!0);s(Q),s(I);var he=i(I,2),ee=i(n(he),2),Ye=n(ee,!0);s(ee),s(he),s(ae),s(L);var Ee=i(L,2),Le=i(n(Ee),2),ye=n(Le),Y=i(n(ye),2),re=n(Y,!0);s(Y),ct(2),s(ye);var le=i(ye,2),$e=i(n(le),2),k=n($e,!0);s($e),s(le);var T=i(le,2),O=i(n(T),2),R=n(O,!0);s(O),s(T);var N=i(T,2),X=i(n(N),2),V=n(X,!0);s(X),s(N),s(Le),s(Ee);var se=i(Ee,2),xe=i(n(se),2),me=n(xe);st(me,21,()=>e(S),at,(ve,H,Pe)=>{var Re=sc(),Ue=n(Re);let je;var He=i(Ue,2);He.textContent=Pe,s(Re),z(Ge=>{je=ot(Ue,1,"bar svelte-1gtcppe",null,je,Ge),In(Ue,`height: ${e(H)/200*100}%`)},[()=>({peak:e(H)===Math.max(...e(S))})]),d(ve,Re)}),s(me),s(xe),s(se);var oe=i(se,2),pe=i(n(oe),2);st(pe,21,()=>e(w),at,(ve,H)=>{var Pe=rc(),Re=n(Pe),Ue=n(Re,!0);s(Re);var je=i(Re,2),He=n(je);s(je);var Ge=i(je,2),ne=n(Ge);s(Ge),s(Pe),z(()=>{y(Ue,e(H).quality),In(He,`width: ${e(H).percentage??""}%`),y(ne,`${e(H).percentage??""}%`)}),d(ve,Pe)}),s(pe),s(oe);var Ce=i(oe,2),B=i(n(Ce),2);st(B,21,()=>e(h),at,(ve,H,Pe)=>{var Re=nc(),Ue=n(Re);Ue.textContent=`#${Pe+1}`;var je=i(Ue,2),He=n(je,!0);s(je);var Ge=i(je,2),ne=n(Ge,!0);s(Ge);var fe=i(Ge,2);let Oe;var Ke=n(fe);s(fe),s(Re),z(Te=>{y(He,e(H).name),y(ne,Te),Oe=ot(fe,1,"change svelte-1gtcppe",null,Oe,{positive:e(H).change>0,negative:e(H).change<0}),y(Ke,`${e(H).change>0?"+":""}${e(H).change??""}%`)},[()=>e(H).count.toLocaleString()]),d(ve,Re)}),s(B),s(Ce);var ge=i(Ce,2),ie=i(n(ge),2);return st(ie,21,()=>e(b),at,(ve,H,Pe)=>{var Re=ic(),Ue=n(Re);Ue.textContent=`#${Pe+1}`;var je=i(Ue,2),He=n(je,!0);s(je);var Ge=i(je,2),ne=n(Ge,!0);s(Ge);var fe=i(Ge,2);let Oe;var Ke=n(fe);s(fe),s(Re),z(Te=>{y(He,e(H).name),y(ne,Te),Oe=ot(fe,1,"change svelte-1gtcppe",null,Oe,{positive:e(H).change>0,negative:e(H).change<0}),y(Ke,`${e(H).change>0?"+":""}${e(H).change??""}%`)},[()=>e(H).count.toLocaleString()]),d(ve,Re)}),s(ie),s(ge),s(be),z((ve,H,Pe,Re)=>{y(Ne,ve),y(Lt,e(o).activeStreams),y(Gt,e(o).peakToday),y(Pt,e(o).avgDuration),y(U,e(v).totalToday),y(Fe,e(v).avgPerStream),y(ce,e(v).peakRate),y(Ye,e(v).totalMonth),y(re,H),y(k,Pe),y(R,Re),y(V,e(_).returningRate)},[()=>e(o).totalStreams.toLocaleString(),()=>e(_).uniqueToday.toLocaleString(),()=>e(_).uniqueWeek.toLocaleString(),()=>e(_).uniqueMonth.toLocaleString()]),Ht(c,()=>e(a),ve=>u(a,ve)),d(t,M),ia(q)}Zn(["change"]);var oc=f('<div class="modal-footer svelte-ta60gp"><!></div>'),vc=f('<div class="modal-backdrop svelte-ta60gp" role="dialog" aria-modal="true" tabindex="-1"><div><div class="modal-header svelte-ta60gp"><h2 class="modal-title svelte-ta60gp"> </h2> <button class="modal-close svelte-ta60gp" aria-label="Close"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="modal-body svelte-ta60gp"><!></div> <!></div></div>');function ca(t,r){if(new.target)return da({component:ca,...t});const l=ov(r);na(r,!1);let a=Ra(r,"open",12,!1),o=Ra(r,"title",12,""),v=Ra(r,"size",12,"md");const _=Jn();function h(){_("close")}function b(M){M.key==="Escape"&&h()}function w(M){M.target===M.currentTarget&&h()}var S={get open(){return a()},set open(M){a(M),xa()},get title(){return o()},set title(M){o(M),xa()},get size(){return v()},set size(M){v(M),xa()},$set:pa,$on:(M,F)=>ua(r,M,F)};ts();var E=Bt();J("keydown",zn,b);var C=ze(E);{var q=M=>{var F=vc(),m=n(F),c=n(m),x=n(c),K=n(x,!0);s(x);var Se=i(x,2);s(c);var ke=i(c,2),te=n(ke);pi(te,r,"default",{}),s(ke);var G=i(ke,2);{var be=De=>{var Me=oc(),Ze=n(Me);pi(Ze,r,"footer",{}),s(Me),d(De,Me)};$(G,De=>{p(()=>l.footer)&&De(be)})}s(m),s(F),z(()=>{ot(m,1,`modal modal-${v()??""}`,"svelte-ta60gp"),y(K,o())}),J("click",Se,h),J("click",F,w),J("keydown",F,b),d(M,F)};$(C,M=>{a()&&M(q)})}return d(t,E),ia(S)}var cc=f('<div class="loading"><div class="spinner"></div></div>'),dc=f('<div class="empty-state svelte-1nmp6pz"><p>No home sections configured yet.</p> <p class="text-muted">Default sections will be shown when no custom sections exist.</p> <button class="btn btn-primary mt-4 svelte-1nmp6pz">Add First Section</button></div>'),uc=f('<span class="config-tag svelte-1nmp6pz"> </span>'),pc=f('<span class="badge badge-content svelte-1nmp6pz"> </span> <!>',1),fc=f('<span class="badge badge-type svelte-1nmp6pz"> </span> <span class="config-tag svelte-1nmp6pz"> </span>',1),_c=f('<span class="config-tag svelte-1nmp6pz"> </span>'),mc=f('<span class="badge badge-type svelte-1nmp6pz"> </span> <!>',1),hc=f('<span class="config-tag svelte-1nmp6pz"> </span>'),gc=f('<span class="badge badge-type svelte-1nmp6pz"> </span> <!>',1),bc=f('<tr><td><div class="order-controls svelte-1nmp6pz"><button class="btn-icon svelte-1nmp6pz">â²</button> <button class="btn-icon svelte-1nmp6pz">â¼</button></div></td><td><strong> </strong> <div class="section-id svelte-1nmp6pz"> </div></td><td><span class="badge badge-display svelte-1nmp6pz"> </span></td><td><!></td><td> </td><td><button> </button></td><td><div class="actions"><button class="btn btn-sm btn-secondary">EDIT</button> <button class="btn btn-sm btn-danger">DELETE</button></div></td></tr>'),yc=f('<div class="card"><table class="data-table"><thead><tr><th style="width: 50px;">Order</th><th>Title</th><th>Display</th><th>Content</th><th>Limit</th><th>Status</th><th style="text-align: right;">Actions</th></tr></thead><tbody></tbody></table></div>'),xc=f('<button type="button"><span class="dt-label svelte-1nmp6pz"> </span> <span class="dt-desc svelte-1nmp6pz"> </span></button>'),kc=f('<button type="button"> </button>'),wc=f('<img alt="" class="content-thumb svelte-1nmp6pz"/>'),zc=f('<div class="selected-content svelte-1nmp6pz"><div class="selected-content-info svelte-1nmp6pz"><!> <div><strong> </strong> <div class="text-muted"> </div></div></div> <button type="button" class="btn btn-sm btn-secondary">Change</button></div>'),Sc=f('<span class="searching svelte-1nmp6pz">Searching...</span>'),$c=f('<img alt="" class="result-thumb svelte-1nmp6pz"/>'),Cc=f('<img alt="" class="result-thumb svelte-1nmp6pz"/>'),Tc=f('<div class="result-thumb placeholder svelte-1nmp6pz"></div>'),Ec=f('<button type="button" class="search-result-item svelte-1nmp6pz"><!> <div class="result-info svelte-1nmp6pz"><strong class="svelte-1nmp6pz"> </strong> <span class="text-muted"> </span></div></button>'),Mc=f('<div class="search-results svelte-1nmp6pz"></div>'),Ac=f('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz"> </label> <div class="search-row svelte-1nmp6pz"><input type="text" class="form-input svelte-1nmp6pz" placeholder="Search by title..."/> <!></div> <!></div>'),qc=f('<div class="content-picker svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz">Content Type</label> <div class="content-type-row svelte-1nmp6pz"></div></div> <!></div>'),Dc=f("<option> </option>"),Ic=f("<option> </option>"),Lc=f('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="genre">Genre</label> <select id="genre" class="form-input svelte-1nmp6pz"><option>Select genre...</option><!></select></div>'),Pc=f("<option> </option>"),Rc=f('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="curated_list">Curated List</label> <select id="curated_list" class="form-input svelte-1nmp6pz"><option>Select list...</option><!></select> <small class="text-muted"><a href="/admin/curated" class="link svelte-1nmp6pz">Manage curated lists</a> (e.g., Oscars 2025, Best of 2024)</small></div>'),jc=f('<div class="form-row svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="sort_by">Sort By</label> <select id="sort_by" class="form-input svelte-1nmp6pz"><option>Rating</option><option>Date Added</option><option>Year</option><option>Title</option><option>Downloads</option></select></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="order_by">Order</label> <select id="order_by" class="form-input svelte-1nmp6pz"><option>Descending</option><option>Ascending</option></select></div></div> <div class="form-row svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="minimum_rating">Minimum Rating</label> <input type="number" id="minimum_rating" class="form-input svelte-1nmp6pz" min="0" max="10" step="0.1"/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="limit_count">Limit</label> <input type="number" id="limit_count" class="form-input svelte-1nmp6pz" min="1" max="50"/></div></div>',1),Fc=f('<div class="query-config svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="section_type">Data Source</label> <select id="section_type" class="form-input svelte-1nmp6pz"></select></div> <!> <!> <!></div>'),Bc=f('<form><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="title">Section Title *</label> <input type="text" id="title" class="form-input svelte-1nmp6pz" placeholder="e.g., Featured Movie, Top 10, Oscars 2025" required/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="section_id">Section ID</label> <input type="text" id="section_id" class="form-input svelte-1nmp6pz" placeholder="auto-generated from title"/> <small class="text-muted">Leave empty to auto-generate</small></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz">Display Type *</label> <div class="display-type-grid svelte-1nmp6pz"></div></div> <!></form>'),Oc=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Create Section</button>',1),Nc=f('<button type="button"><span class="dt-label svelte-1nmp6pz"> </span> <span class="dt-desc svelte-1nmp6pz"> </span></button>'),Vc=f('<button type="button"> </button>'),Uc=f('<img alt="" class="content-thumb svelte-1nmp6pz"/>'),Yc=f('<div class="selected-content svelte-1nmp6pz"><div class="selected-content-info svelte-1nmp6pz"><!> <div><strong> </strong> <div class="text-muted"> </div></div></div> <button type="button" class="btn btn-sm btn-secondary">Change</button></div>'),Hc=f('<span class="searching svelte-1nmp6pz">Searching...</span>'),Gc=f('<img alt="" class="result-thumb svelte-1nmp6pz"/>'),Wc=f('<img alt="" class="result-thumb svelte-1nmp6pz"/>'),Qc=f('<div class="result-thumb placeholder svelte-1nmp6pz"></div>'),Kc=f('<button type="button" class="search-result-item svelte-1nmp6pz"><!> <div class="result-info svelte-1nmp6pz"><strong class="svelte-1nmp6pz"> </strong> <span class="text-muted"> </span></div></button>'),Zc=f('<div class="search-results svelte-1nmp6pz"></div>'),Jc=f('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz"> </label> <div class="search-row svelte-1nmp6pz"><input type="text" class="form-input svelte-1nmp6pz" placeholder="Search by title..."/> <!></div> <!></div>'),Xc=f('<div class="content-picker svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz">Content Type</label> <div class="content-type-row svelte-1nmp6pz"></div></div> <!></div>'),ed=f("<option> </option>"),td=f("<option> </option>"),ad=f('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_genre">Genre</label> <select id="edit_genre" class="form-input svelte-1nmp6pz"><option>Select genre...</option><!></select></div>'),sd=f("<option> </option>"),rd=f('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_curated_list">Curated List</label> <select id="edit_curated_list" class="form-input svelte-1nmp6pz"><option>Select list...</option><!></select> <small class="text-muted"><a href="/admin/curated" class="link svelte-1nmp6pz">Manage curated lists</a></small></div>'),nd=f('<div class="form-row svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_sort_by">Sort By</label> <select id="edit_sort_by" class="form-input svelte-1nmp6pz"><option>Rating</option><option>Date Added</option><option>Year</option><option>Title</option><option>Downloads</option></select></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_order_by">Order</label> <select id="edit_order_by" class="form-input svelte-1nmp6pz"><option>Descending</option><option>Ascending</option></select></div></div> <div class="form-row svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_minimum_rating">Minimum Rating</label> <input type="number" id="edit_minimum_rating" class="form-input svelte-1nmp6pz" min="0" max="10" step="0.1"/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_limit_count">Limit</label> <input type="number" id="edit_limit_count" class="form-input svelte-1nmp6pz" min="1" max="50"/></div></div>',1),id=f('<div class="query-config svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_section_type">Data Source</label> <select id="edit_section_type" class="form-input svelte-1nmp6pz"></select></div> <!> <!> <!></div>'),ld=f('<form><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_title">Section Title *</label> <input type="text" id="edit_title" class="form-input svelte-1nmp6pz" required/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_section_id">Section ID</label> <input type="text" id="edit_section_id" class="form-input svelte-1nmp6pz"/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz">Display Type</label> <div class="display-type-grid svelte-1nmp6pz"></div></div> <!> <div class="form-group svelte-1nmp6pz"><label class="toggle-label svelte-1nmp6pz"><input type="checkbox" class="svelte-1nmp6pz"/> Active</label></div></form>'),od=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Save Changes</button>',1),vd=f('<div class="home-page"><header class="page-header"><h1 class="page-title">HOME SECTIONS</h1> <div class="page-actions"><a href="/api/v2/home.json" target="_blank" class="btn btn-secondary">Preview API</a> <button class="btn btn-primary">ADD SECTION</button></div></header> <p class="page-description svelte-1nmp6pz">Configure the sections that appear on the Streamer home page.</p> <!></div> <!> <!>',1);function Pl(t,r){if(new.target)return da({component:Pl,...t});na(r,!0);let l=pt(ha([])),a=pt(ha([])),o=pt(!0),v=pt(!1),_=pt(!1),h=pt(null),b=pt(""),w=pt(ha([])),S=pt(!1),E=pt(null);const C=[{value:"carousel",label:"Carousel",description:"Horizontal scrolling row of posters",needsQuery:!0},{value:"top10",label:"Top 10",description:"Netflix-style ranked list with numbers",needsQuery:!0},{value:"grid",label:"Grid",description:"Grid layout of posters",needsQuery:!0},{value:"featured",label:"Featured",description:"Large featured cards with details",needsQuery:!0},{value:"hero",label:"Hero",description:"Full-width hero banner with single item",needsQuery:!1},{value:"banner",label:"Banner",description:"Promotional banner with single item",needsQuery:!1}],q=[{value:"top_viewed",label:"Top Viewed (Analytics)"},{value:"recent",label:"Recently Added"},{value:"top_rated",label:"Top Rated"},{value:"genre",label:"By Genre"},{value:"curated_list",label:"Curated List"},{value:"query",label:"Custom Query"}],M=[{value:"movie",label:"Movie"},{value:"series",label:"TV Series"},{value:"channel",label:"Live Channel"}],F=["Action","Adventure","Animation","Biography","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Sci-Fi","Sport","Thriller","War","Western"];let m=pt(ha({section_id:"",title:"",display_type:"carousel",section_type:"recent",content_type:"movie",content_id:null,genre:"",curated_list_id:null,sort_by:"rating",order_by:"desc",minimum_rating:0,limit_count:10,is_active:!0,display_order:0}));function c(g){return C.find(U=>U.value===g)?.needsQuery??!0}cs(async()=>{await Promise.all([x(),K()])});async function x(){u(o,!0);try{const g=await fetch("/admin/api/home/sections");g.ok?u(l,await g.json(),!0):console.error("Failed to load sections:",await g.text())}catch(g){console.error("Failed to load sections:",g)}finally{u(o,!1)}}async function K(){try{const g=await fetch("/admin/api/curated");g.ok&&u(a,await g.json(),!0)}catch(g){console.error("Failed to load curated lists:",g)}}async function Se(){if(!e(b).trim()){u(w,[],!0);return}u(S,!0);try{if(e(m).content_type==="movie"){const g=await fetch(`/api/v2/list_movies.json?query_term=${encodeURIComponent(e(b))}&limit=10`);if(g.ok){const j=await g.json();u(w,j.data?.movies||[],!0)}}else if(e(m).content_type==="series"){const g=await fetch(`/api/v2/list_series.json?query_term=${encodeURIComponent(e(b))}&limit=10`);if(g.ok){const j=await g.json();u(w,j.data?.series||[],!0)}}}catch(g){console.error("Failed to search content:",g)}finally{u(S,!1)}}function ke(g){const j="medium_cover_image"in g;u(E,{type:e(m).content_type,id:g.id,title:g.title,image:j?g.medium_cover_image:g.poster_image},!0),e(m).content_id=g.id,u(b,""),u(w,[],!0)}function te(){u(E,null),e(m).content_id=null}function G(){u(m,{section_id:"",title:"",display_type:"carousel",section_type:"recent",content_type:"movie",content_id:null,genre:"",curated_list_id:null,sort_by:"rating",order_by:"desc",minimum_rating:0,limit_count:10,is_active:!0,display_order:e(l).length},!0),u(E,null),u(b,""),u(w,[],!0),u(v,!0)}function be(g){u(h,g,!0),u(m,{section_id:g.section_id,title:g.title,display_type:g.display_type||"carousel",section_type:g.section_type||"recent",content_type:g.content_type||"movie",content_id:g.content_id||null,genre:g.genre||"",curated_list_id:g.curated_list_id||null,sort_by:g.sort_by||"rating",order_by:g.order_by||"desc",minimum_rating:g.minimum_rating||0,limit_count:g.limit_count||10,is_active:g.is_active,display_order:g.display_order},!0),g.content_id&&!c(g.display_type)?u(E,{type:g.content_type||"movie",id:g.content_id,title:"Content #"+g.content_id,image:""},!0):u(E,null),u(b,""),u(w,[],!0),u(_,!0)}async function De(){e(m).section_id||(e(m).section_id=e(m).title.toLowerCase().replace(/[^a-z0-9]+/g,"_"));const g={...e(m)};c(e(m).display_type)?(g.content_type="",g.content_id=null):(g.section_type="",g.genre="",g.curated_list_id=null);try{const j=await fetch("/admin/api/home/sections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(j.ok)u(v,!1),await x();else{const U=await j.text();alert("Failed to create section: "+U)}}catch(j){console.error("Failed to create section:",j)}}async function Me(){if(!e(h))return;const g={...e(m),id:e(h).id};c(e(m).display_type)?(g.content_type="",g.content_id=null):(g.section_type="",g.genre="",g.curated_list_id=null);try{const j=await fetch(`/admin/api/home/sections/${e(h).id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(j.ok)u(_,!1),await x();else{const U=await j.text();alert("Failed to update section: "+U)}}catch(j){console.error("Failed to update section:",j)}}async function Ze(g){if(confirm(`Delete "${g.title}"?`))try{await fetch(`/admin/api/home/sections/${g.id}`,{method:"DELETE"}),await x()}catch(j){console.error("Failed to delete section:",j)}}async function Ct(g){try{await fetch(`/admin/api/home/sections/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...g,is_active:!g.is_active})}),await x()}catch(j){console.error("Failed to toggle section:",j)}}async function Ne(g,j){const U=e(l).findIndex(W=>W.id===g.id);if(j==="up"&&U>0){const W=[...e(l)];[W[U-1],W[U]]=[W[U],W[U-1]],await nt(W)}else if(j==="down"&&U<e(l).length-1){const W=[...e(l)];[W[U],W[U+1]]=[W[U+1],W[U]],await nt(W)}}async function nt(g){const j=g.map(U=>U.id);try{await fetch("/admin/api/home/sections/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:j})}),await x()}catch(U){console.error("Failed to reorder sections:",U)}}function xt(g){return q.find(j=>j.value===g)?.label||g}function kt(g){return C.find(j=>j.value===g)?.label||g}function _t(g){return M.find(j=>j.value===g)?.label||g}var Lt={$set:pa,$on:(g,j)=>ua(r,g,j)},Rt=vd(),Nt=ze(Rt),Gt=n(Nt),Ve=i(n(Gt),2),Qe=i(n(Ve),2);Qe.__click=G,s(Ve),s(Gt);var mt=i(Gt,4);{var Tt=g=>{var j=cc();d(g,j)},Pt=g=>{var j=Bt(),U=ze(j);{var W=Fe=>{var I=dc(),Q=i(n(I),4);Q.__click=G,s(I),d(Fe,I)},Ae=Fe=>{var I=yc(),Q=n(I),ce=i(n(Q));st(ce,21,()=>e(l),at,(he,ee,Ye)=>{var Ee=bc();let Le;var ye=n(Ee),Y=n(ye),re=n(Y);re.__click=()=>Ne(e(ee),"up"),re.disabled=Ye===0;var le=i(re,2);le.__click=()=>Ne(e(ee),"down"),s(Y),s(ye);var $e=i(ye),k=n($e),T=n(k,!0);s(k);var O=i(k,2),R=n(O,!0);s(O),s($e);var N=i($e),X=n(N),V=n(X,!0);s(X),s(N);var se=i(N),xe=n(se);{var me=je=>{var He=pc(),Ge=ze(He),ne=n(Ge,!0);s(Ge);var fe=i(Ge,2);{var Oe=Ke=>{var Te=uc(),vt=n(Te);s(Te),z(()=>y(vt,`#${e(ee).content_id??""}`)),d(Ke,Te)};$(fe,Ke=>{e(ee).content_id&&Ke(Oe)})}z(Ke=>y(ne,Ke),[()=>_t(e(ee).content_type||"movie")]),d(je,He)},oe=je=>{var He=Bt(),Ge=ze(He);{var ne=Oe=>{var Ke=fc(),Te=ze(Ke),vt=n(Te,!0);s(Te);var Vt=i(Te,2),et=n(Vt,!0);s(Vt),z(ht=>{y(vt,ht),y(et,e(ee).genre)},[()=>xt(e(ee).section_type)]),d(Oe,Ke)},fe=Oe=>{var Ke=Bt(),Te=ze(Ke);{var vt=et=>{var ht=mc(),Ut=ze(ht),Wt=n(Ut,!0);s(Ut);var Ft=i(Ut,2);{var Et=wt=>{const Yt=Wi(()=>e(a).find(it=>it.id===e(ee).curated_list_id));var Qt=_c(),rt=n(Qt,!0);s(Qt),z(()=>y(rt,e(Yt)?.name||"#"+e(ee).curated_list_id)),d(wt,Qt)};$(Ft,wt=>{e(ee).curated_list_id&&wt(Et)})}z(wt=>y(Wt,wt),[()=>xt(e(ee).section_type)]),d(et,ht)},Vt=et=>{var ht=gc(),Ut=ze(ht),Wt=n(Ut,!0);s(Ut);var Ft=i(Ut,2);{var Et=wt=>{var Yt=hc(),Qt=n(Yt);s(Yt),z(()=>y(Qt,`â¥${e(ee).minimum_rating??""}â`)),d(wt,Yt)};$(Ft,wt=>{e(ee).minimum_rating>0&&wt(Et)})}z(wt=>y(Wt,wt),[()=>xt(e(ee).section_type)]),d(et,ht)};$(Te,et=>{e(ee).section_type==="curated_list"?et(vt):et(Vt,!1)},!0)}d(Oe,Ke)};$(Ge,Oe=>{e(ee).section_type==="genre"?Oe(ne):Oe(fe,!1)},!0)}d(je,He)};$(xe,je=>{c(e(ee).display_type)?je(oe,!1):je(me)})}s(se);var pe=i(se),Ce=n(pe,!0);s(pe);var B=i(pe),ge=n(B);let ie;ge.__click=()=>Ct(e(ee));var ve=n(ge,!0);s(ge),s(B);var H=i(B),Pe=n(H),Re=n(Pe);Re.__click=()=>be(e(ee));var Ue=i(Re,2);Ue.__click=()=>Ze(e(ee)),s(Pe),s(H),s(Ee),z(je=>{Le=ot(Ee,1,"svelte-1nmp6pz",null,Le,{inactive:!e(ee).is_active}),le.disabled=Ye===e(l).length-1,y(T,e(ee).title),y(R,e(ee).section_id),y(V,je),y(Ce,e(ee).limit_count),ie=ot(ge,1,"status-toggle svelte-1nmp6pz",null,ie,{active:e(ee).is_active}),y(ve,e(ee).is_active?"Active":"Inactive")},[()=>kt(e(ee).display_type)]),d(he,Ee)}),s(ce),s(Q),s(I),d(Fe,I)};$(U,Fe=>{e(l).length===0?Fe(W):Fe(Ae,!1)},!0)}d(g,j)};$(mt,g=>{e(o)?g(Tt):g(Pt,!1)})}s(Nt);var L=i(Nt,2);ca(L,{title:"Add Home Section",size:"md",get open(){return e(v)},set open(g){u(v,g,!0)},$$events:{close:()=>u(v,!1)},children:(g,j)=>{var U=Bc(),W=n(U),Ae=i(n(W),2);de(Ae),s(W);var Fe=i(W,2),I=i(n(Fe),2);de(I),ct(2),s(Fe);var Q=i(Fe,2),ce=i(n(Q),2);st(ce,21,()=>C,at,(Ee,Le)=>{var ye=xc();let Y;ye.__click=()=>e(m).display_type=e(Le).value;var re=n(ye),le=n(re,!0);s(re);var $e=i(re,2),k=n($e,!0);s($e),s(ye),z(()=>{Y=ot(ye,1,"display-type-option svelte-1nmp6pz",null,Y,{selected:e(m).display_type===e(Le).value}),y(le,e(Le).label),y(k,e(Le).description)}),d(Ee,ye)}),s(ce),s(Q);var he=i(Q,2);{var ee=Ee=>{var Le=qc(),ye=n(Le),Y=i(n(ye),2);st(Y,21,()=>M,at,(k,T)=>{var O=kc();let R;O.__click=()=>{e(m).content_type=e(T).value,te()};var N=n(O,!0);s(O),z(()=>{R=ot(O,1,"content-type-btn svelte-1nmp6pz",null,R,{selected:e(m).content_type===e(T).value}),y(N,e(T).label)}),d(k,O)}),s(Y),s(ye);var re=i(ye,2);{var le=k=>{var T=zc(),O=n(T),R=n(O);{var N=pe=>{var Ce=wc();z(()=>Je(Ce,"src",e(E).image)),d(pe,Ce)};$(R,pe=>{e(E).image&&pe(N)})}var X=i(R,2),V=n(X),se=n(V,!0);s(V);var xe=i(V,2),me=n(xe);s(xe),s(X),s(O);var oe=i(O,2);oe.__click=te,s(T),z(pe=>{y(se,e(E).title),y(me,`${pe??""} #${e(E).id??""}`)},[()=>_t(e(E).type)]),d(k,T)},$e=k=>{var T=Ac(),O=n(T),R=n(O);s(O);var N=i(O,2),X=n(N);de(X),X.__input=()=>Se();var V=i(X,2);{var se=oe=>{var pe=Sc();d(oe,pe)};$(V,oe=>{e(S)&&oe(se)})}s(N);var xe=i(N,2);{var me=oe=>{var pe=Mc();st(pe,21,()=>e(w),at,(Ce,B)=>{var ge=Ec();ge.__click=()=>ke(e(B));var ie=n(ge);{var ve=Ge=>{var ne=$c();z(()=>Je(ne,"src",e(B).medium_cover_image)),d(Ge,ne)},H=Ge=>{var ne=Bt(),fe=ze(ne);{var Oe=Te=>{var vt=Cc();z(()=>Je(vt,"src",e(B).poster_image)),d(Te,vt)},Ke=Te=>{var vt=Tc();d(Te,vt)};$(fe,Te=>{"poster_image"in e(B)&&e(B).poster_image?Te(Oe):Te(Ke,!1)},!0)}d(Ge,ne)};$(ie,Ge=>{"medium_cover_image"in e(B)&&e(B).medium_cover_image?Ge(ve):Ge(H,!1)})}var Pe=i(ie,2),Re=n(Pe),Ue=n(Re,!0);s(Re);var je=i(Re,2),He=n(je,!0);s(je),s(Pe),s(ge),z(()=>{y(Ue,e(B).title),y(He,e(B).year)}),d(Ce,ge)}),s(pe),d(oe,pe)};$(xe,oe=>{e(w).length>0&&oe(me)})}s(T),z(oe=>y(R,`Search ${oe??""}`),[()=>_t(e(m).content_type)]),ue(X,()=>e(b),oe=>u(b,oe)),d(k,T)};$(re,k=>{e(E)?k(le):k($e,!1)})}s(Le),d(Ee,Le)},Ye=Ee=>{var Le=Fc(),ye=n(Le),Y=i(n(ye),2);st(Y,21,()=>q,at,(R,N)=>{var X=Dc(),V=n(X,!0);s(X);var se={};z(()=>{y(V,e(N).label),se!==(se=e(N).value)&&(X.value=(X.__value=e(N).value)??"")}),d(R,X)}),s(Y),s(ye);var re=i(ye,2);{var le=R=>{var N=Lc(),X=i(n(N),2),V=n(X);V.value=V.__value="";var se=i(V);st(se,17,()=>F,at,(xe,me)=>{var oe=Ic(),pe=n(oe,!0);s(oe);var Ce={};z(()=>{y(pe,e(me)),Ce!==(Ce=e(me))&&(oe.value=(oe.__value=e(me))??"")}),d(xe,oe)}),s(X),s(N),Ht(X,()=>e(m).genre,xe=>e(m).genre=xe),d(R,N)};$(re,R=>{e(m).section_type==="genre"&&R(le)})}var $e=i(re,2);{var k=R=>{var N=Rc(),X=i(n(N),2),V=n(X);V.value=(V.__value=null)??"";var se=i(V);st(se,17,()=>e(a),at,(xe,me)=>{var oe=Pc(),pe=n(oe,!0);s(oe);var Ce={};z(()=>{y(pe,e(me).name),Ce!==(Ce=e(me).id)&&(oe.value=(oe.__value=e(me).id)??"")}),d(xe,oe)}),s(X),ct(2),s(N),Ht(X,()=>e(m).curated_list_id,xe=>e(m).curated_list_id=xe),d(R,N)};$($e,R=>{e(m).section_type==="curated_list"&&R(k)})}var T=i($e,2);{var O=R=>{var N=jc(),X=ze(N),V=n(X),se=i(n(V),2),xe=n(se);xe.value=xe.__value="rating";var me=i(xe);me.value=me.__value="date_uploaded";var oe=i(me);oe.value=oe.__value="year";var pe=i(oe);pe.value=pe.__value="title";var Ce=i(pe);Ce.value=Ce.__value="download_count",s(se),s(V);var B=i(V,2),ge=i(n(B),2),ie=n(ge);ie.value=ie.__value="desc";var ve=i(ie);ve.value=ve.__value="asc",s(ge),s(B),s(X);var H=i(X,2),Pe=n(H),Re=i(n(Pe),2);de(Re),s(Pe);var Ue=i(Pe,2),je=i(n(Ue),2);de(je),s(Ue),s(H),Ht(se,()=>e(m).sort_by,He=>e(m).sort_by=He),Ht(ge,()=>e(m).order_by,He=>e(m).order_by=He),ue(Re,()=>e(m).minimum_rating,He=>e(m).minimum_rating=He),ue(je,()=>e(m).limit_count,He=>e(m).limit_count=He),d(R,N)};$(T,R=>{e(m).section_type!=="curated_list"&&R(O)})}s(Le),Ht(Y,()=>e(m).section_type,R=>e(m).section_type=R),d(Ee,Le)};$(he,Ee=>{c(e(m).display_type)?Ee(Ye,!1):Ee(ee)})}s(U),J("submit",U,Ee=>{Ee.preventDefault(),De()}),ue(Ae,()=>e(m).title,Ee=>e(m).title=Ee),ue(I,()=>e(m).section_id,Ee=>e(m).section_id=Ee),d(g,U)},$$slots:{default:!0,footer:(g,j)=>{var U=Oc(),W=ze(U);W.__click=()=>u(v,!1);var Ae=i(W,2);Ae.__click=De,d(g,U)}}});var ae=i(L,2);return ca(ae,{title:"Edit Home Section",size:"md",get open(){return e(_)},set open(g){u(_,g,!0)},$$events:{close:()=>u(_,!1)},children:(g,j)=>{var U=ld(),W=n(U),Ae=i(n(W),2);de(Ae),s(W);var Fe=i(W,2),I=i(n(Fe),2);de(I),s(Fe);var Q=i(Fe,2),ce=i(n(Q),2);st(ce,21,()=>C,at,(Y,re)=>{var le=Nc();let $e;le.__click=()=>e(m).display_type=e(re).value;var k=n(le),T=n(k,!0);s(k);var O=i(k,2),R=n(O,!0);s(O),s(le),z(()=>{$e=ot(le,1,"display-type-option svelte-1nmp6pz",null,$e,{selected:e(m).display_type===e(re).value}),y(T,e(re).label),y(R,e(re).description)}),d(Y,le)}),s(ce),s(Q);var he=i(Q,2);{var ee=Y=>{var re=Xc(),le=n(re),$e=i(n(le),2);st($e,21,()=>M,at,(R,N)=>{var X=Vc();let V;X.__click=()=>{e(m).content_type=e(N).value,te()};var se=n(X,!0);s(X),z(()=>{V=ot(X,1,"content-type-btn svelte-1nmp6pz",null,V,{selected:e(m).content_type===e(N).value}),y(se,e(N).label)}),d(R,X)}),s($e),s(le);var k=i(le,2);{var T=R=>{var N=Yc(),X=n(N),V=n(X);{var se=ge=>{var ie=Uc();z(()=>Je(ie,"src",e(E).image)),d(ge,ie)};$(V,ge=>{e(E).image&&ge(se)})}var xe=i(V,2),me=n(xe),oe=n(me,!0);s(me);var pe=i(me,2),Ce=n(pe);s(pe),s(xe),s(X);var B=i(X,2);B.__click=te,s(N),z(ge=>{y(oe,e(E).title),y(Ce,`${ge??""} #${e(E).id??""}`)},[()=>_t(e(E).type)]),d(R,N)},O=R=>{var N=Jc(),X=n(N),V=n(X);s(X);var se=i(X,2),xe=n(se);de(xe),xe.__input=()=>Se();var me=i(xe,2);{var oe=B=>{var ge=Hc();d(B,ge)};$(me,B=>{e(S)&&B(oe)})}s(se);var pe=i(se,2);{var Ce=B=>{var ge=Zc();st(ge,21,()=>e(w),at,(ie,ve)=>{var H=Kc();H.__click=()=>ke(e(ve));var Pe=n(H);{var Re=Oe=>{var Ke=Gc();z(()=>Je(Ke,"src",e(ve).medium_cover_image)),d(Oe,Ke)},Ue=Oe=>{var Ke=Bt(),Te=ze(Ke);{var vt=et=>{var ht=Wc();z(()=>Je(ht,"src",e(ve).poster_image)),d(et,ht)},Vt=et=>{var ht=Qc();d(et,ht)};$(Te,et=>{"poster_image"in e(ve)&&e(ve).poster_image?et(vt):et(Vt,!1)},!0)}d(Oe,Ke)};$(Pe,Oe=>{"medium_cover_image"in e(ve)&&e(ve).medium_cover_image?Oe(Re):Oe(Ue,!1)})}var je=i(Pe,2),He=n(je),Ge=n(He,!0);s(He);var ne=i(He,2),fe=n(ne,!0);s(ne),s(je),s(H),z(()=>{y(Ge,e(ve).title),y(fe,e(ve).year)}),d(ie,H)}),s(ge),d(B,ge)};$(pe,B=>{e(w).length>0&&B(Ce)})}s(N),z(B=>y(V,`Search ${B??""}`),[()=>_t(e(m).content_type)]),ue(xe,()=>e(b),B=>u(b,B)),d(R,N)};$(k,R=>{e(E)?R(T):R(O,!1)})}s(re),d(Y,re)},Ye=Y=>{var re=id(),le=n(re),$e=i(n(le),2);st($e,21,()=>q,at,(V,se)=>{var xe=ed(),me=n(xe,!0);s(xe);var oe={};z(()=>{y(me,e(se).label),oe!==(oe=e(se).value)&&(xe.value=(xe.__value=e(se).value)??"")}),d(V,xe)}),s($e),s(le);var k=i(le,2);{var T=V=>{var se=ad(),xe=i(n(se),2),me=n(xe);me.value=me.__value="";var oe=i(me);st(oe,17,()=>F,at,(pe,Ce)=>{var B=td(),ge=n(B,!0);s(B);var ie={};z(()=>{y(ge,e(Ce)),ie!==(ie=e(Ce))&&(B.value=(B.__value=e(Ce))??"")}),d(pe,B)}),s(xe),s(se),Ht(xe,()=>e(m).genre,pe=>e(m).genre=pe),d(V,se)};$(k,V=>{e(m).section_type==="genre"&&V(T)})}var O=i(k,2);{var R=V=>{var se=rd(),xe=i(n(se),2),me=n(xe);me.value=(me.__value=null)??"";var oe=i(me);st(oe,17,()=>e(a),at,(pe,Ce)=>{var B=sd(),ge=n(B,!0);s(B);var ie={};z(()=>{y(ge,e(Ce).name),ie!==(ie=e(Ce).id)&&(B.value=(B.__value=e(Ce).id)??"")}),d(pe,B)}),s(xe),ct(2),s(se),Ht(xe,()=>e(m).curated_list_id,pe=>e(m).curated_list_id=pe),d(V,se)};$(O,V=>{e(m).section_type==="curated_list"&&V(R)})}var N=i(O,2);{var X=V=>{var se=nd(),xe=ze(se),me=n(xe),oe=i(n(me),2),pe=n(oe);pe.value=pe.__value="rating";var Ce=i(pe);Ce.value=Ce.__value="date_uploaded";var B=i(Ce);B.value=B.__value="year";var ge=i(B);ge.value=ge.__value="title";var ie=i(ge);ie.value=ie.__value="download_count",s(oe),s(me);var ve=i(me,2),H=i(n(ve),2),Pe=n(H);Pe.value=Pe.__value="desc";var Re=i(Pe);Re.value=Re.__value="asc",s(H),s(ve),s(xe);var Ue=i(xe,2),je=n(Ue),He=i(n(je),2);de(He),s(je);var Ge=i(je,2),ne=i(n(Ge),2);de(ne),s(Ge),s(Ue),Ht(oe,()=>e(m).sort_by,fe=>e(m).sort_by=fe),Ht(H,()=>e(m).order_by,fe=>e(m).order_by=fe),ue(He,()=>e(m).minimum_rating,fe=>e(m).minimum_rating=fe),ue(ne,()=>e(m).limit_count,fe=>e(m).limit_count=fe),d(V,se)};$(N,V=>{e(m).section_type!=="curated_list"&&V(X)})}s(re),Ht($e,()=>e(m).section_type,V=>e(m).section_type=V),d(Y,re)};$(he,Y=>{c(e(m).display_type)?Y(Ye,!1):Y(ee)})}var Ee=i(he,2),Le=n(Ee),ye=n(Le);de(ye),ct(),s(Le),s(Ee),s(U),J("submit",U,Y=>{Y.preventDefault(),Me()}),ue(Ae,()=>e(m).title,Y=>e(m).title=Y),ue(I,()=>e(m).section_id,Y=>e(m).section_id=Y),mv(ye,()=>e(m).is_active,Y=>e(m).is_active=Y),d(g,U)},$$slots:{default:!0,footer:(g,j)=>{var U=od(),W=ze(U);W.__click=()=>u(_,!1);var Ae=i(W,2);Ae.__click=Me,d(g,U)}}}),d(t,Rt),ia(Lt)}Zn(["click","input"]);var cd=f('<option class="svelte-nokxp9"> </option>'),dd=f("<button> </button>"),ud=f('<div class="pagination-controls svelte-nokxp9"><button class="pagination-btn svelte-nokxp9" title="First page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><polyline points="11 17 6 12 11 7" class="svelte-nokxp9"></polyline><polyline points="18 17 13 12 18 7" class="svelte-nokxp9"></polyline></svg></button> <button class="pagination-btn svelte-nokxp9" title="Previous page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><polyline points="15 18 9 12 15 6" class="svelte-nokxp9"></polyline></svg></button> <!> <button class="pagination-btn svelte-nokxp9" title="Next page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><polyline points="9 18 15 12 9 6" class="svelte-nokxp9"></polyline></svg></button> <button class="pagination-btn svelte-nokxp9" title="Last page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><polyline points="13 17 18 12 13 7" class="svelte-nokxp9"></polyline><polyline points="6 17 11 12 6 7" class="svelte-nokxp9"></polyline></svg></button></div>'),pd=f('<div class="pagination svelte-nokxp9"><div class="pagination-left svelte-nokxp9"><span class="pagination-info svelte-nokxp9"> </span> <div class="per-page svelte-nokxp9"><span class="svelte-nokxp9">per page:</span> <select class="svelte-nokxp9"></select></div></div> <!></div>'),fd=f('<div class="loading svelte-nokxp9"><div class="spinner svelte-nokxp9"></div></div>'),_d=f('<div class="empty-state svelte-nokxp9"><p class="svelte-nokxp9">No movies found</p></div>'),md=f('<img class="poster svelte-nokxp9"/>'),hd=f('<div class="poster poster-placeholder svelte-nokxp9"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="svelte-nokxp9"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18" class="svelte-nokxp9"></rect><line x1="7" y1="2" x2="7" y2="22" class="svelte-nokxp9"></line><line x1="17" y1="2" x2="17" y2="22" class="svelte-nokxp9"></line><line x1="2" y1="12" x2="22" y2="12" class="svelte-nokxp9"></line></svg></div>'),gd=f('<span class="status-badge status-coming-soon svelte-nokxp9">COMING SOON</span>'),bd=f('<div class="rating-badge rating-imdb svelte-nokxp9"><span class="source svelte-nokxp9">IMDb</span> <span class="score svelte-nokxp9"> </span></div>'),yd=f('<div class="rating-badge rating-rt svelte-nokxp9"><span class="score svelte-nokxp9"> </span></div>'),xd=f("<span> </span>"),kd=f('<tr class="svelte-nokxp9"><td class="svelte-nokxp9"><!></td><td class="svelte-nokxp9"><a class="movie-title svelte-nokxp9"> </a> <!></td><td class="svelte-nokxp9"> </td><td class="svelte-nokxp9"><div class="ratings svelte-nokxp9"><!> <!></div></td><td class="svelte-nokxp9"><div class="torrents svelte-nokxp9"><!> <button class="btn-add-torrent svelte-nokxp9" title="Add Torrent"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><line x1="12" y1="5" x2="12" y2="19" class="svelte-nokxp9"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-nokxp9"></line></svg></button></div></td><td class="svelte-nokxp9"><div class="actions svelte-nokxp9"><button class="btn btn-sm btn-secondary svelte-nokxp9">EDIT</button> <button class="btn btn-sm btn-danger svelte-nokxp9">DELETE</button></div></td></tr>'),wd=f('<!> <div class="card svelte-nokxp9"><table class="data-table svelte-nokxp9"><thead class="svelte-nokxp9"><tr class="svelte-nokxp9"><th class="svelte-nokxp9">Poster</th><th class="svelte-nokxp9">Title</th><th class="svelte-nokxp9">Year</th><th class="svelte-nokxp9">Ratings</th><th class="svelte-nokxp9">Torrents</th><th style="text-align: right;" class="svelte-nokxp9">Actions</th></tr></thead><tbody class="svelte-nokxp9"></tbody></table></div> <!>',1),zd=f('<p class="form-error svelte-nokxp9"> </p>'),Sd=f('<img alt="" class="suggestion-poster svelte-nokxp9"/>'),$d=f('<div class="suggestion-poster suggestion-poster-empty svelte-nokxp9"></div>'),Cd=f('<span class="library-badge svelte-nokxp9">IN LIBRARY</span>'),Td=f('<button type="button"><!> <div class="suggestion-info svelte-nokxp9"><span class="suggestion-title svelte-nokxp9"> <!></span> <span class="suggestion-year svelte-nokxp9"> </span></div></button>'),Ed=f('<div class="suggestions-dropdown svelte-nokxp9"></div>'),Md=f('<div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="release_date">Release Date</label> <input type="date" id="release_date" class="form-input svelte-nokxp9"/></div>'),Ad=f('<form class="svelte-nokxp9"><div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="imdb_code">IMDB Code</label> <div class="input-with-button svelte-nokxp9"><input type="text" id="imdb_code" class="form-input svelte-nokxp9" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary svelte-nokxp9"> </button></div> <!></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="title">Title *</label> <div class="autocomplete-wrapper svelte-nokxp9"><input type="text" id="title" class="form-input svelte-nokxp9" autocomplete="off" required/> <!></div></div></div> <div class="form-row form-row-4 svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="year">Year</label> <input type="number" id="year" class="form-input svelte-nokxp9"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="rating">Rating</label> <input type="number" id="rating" class="form-input svelte-nokxp9" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="runtime">Runtime (min)</label> <input type="number" id="runtime" class="form-input svelte-nokxp9" min="0"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="language">Language</label> <select id="language" class="form-input svelte-nokxp9"><option class="svelte-nokxp9">English</option><option class="svelte-nokxp9">Spanish</option><option class="svelte-nokxp9">French</option><option class="svelte-nokxp9">German</option><option class="svelte-nokxp9">Italian</option><option class="svelte-nokxp9">Japanese</option><option class="svelte-nokxp9">Korean</option><option class="svelte-nokxp9">Chinese</option><option class="svelte-nokxp9">Hindi</option><option class="svelte-nokxp9">Other</option></select></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="genres">Genres</label> <input type="text" id="genres" class="form-input svelte-nokxp9" placeholder="Action, Drama, Thriller"/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="cover">Cover Image URL</label> <input type="text" id="cover" class="form-input svelte-nokxp9" placeholder="https://..."/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="background">Background Image URL</label> <input type="text" id="background" class="form-input svelte-nokxp9" placeholder="https://..."/></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="yt_trailer">YouTube Trailer Code</label> <input type="text" id="yt_trailer" class="form-input svelte-nokxp9" placeholder="dQw4w9WgXcQ"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="franchise">Franchise</label> <input type="text" id="franchise" class="form-input svelte-nokxp9" placeholder="e.g., Lord of the Rings, Star Wars"/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label checkbox-label svelte-nokxp9"><input type="checkbox" class="svelte-nokxp9"/> Coming Soon</label> <p class="form-hint svelte-nokxp9">Mark as upcoming release (no torrents yet)</p></div> <!></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="summary">Summary</label> <textarea id="summary" class="form-input form-textarea svelte-nokxp9" rows="3"></textarea></div></form>'),qd=f('<button class="btn btn-secondary svelte-nokxp9">Cancel</button> <button class="btn btn-primary svelte-nokxp9">Add Movie</button>',1),Dd=f('<p class="form-error svelte-nokxp9"> </p>'),Id=f('<div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_release_date">Release Date</label> <input type="date" id="edit_release_date" class="form-input svelte-nokxp9"/></div>'),Ld=f('<form class="svelte-nokxp9"><div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_imdb_code">IMDB Code</label> <div class="input-with-button svelte-nokxp9"><input type="text" id="edit_imdb_code" class="form-input svelte-nokxp9" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary svelte-nokxp9"> </button></div> <!></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_title">Title *</label> <input type="text" id="edit_title" class="form-input svelte-nokxp9" required/></div></div> <div class="form-row form-row-4 svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_year">Year</label> <input type="number" id="edit_year" class="form-input svelte-nokxp9"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_rating">Rating</label> <input type="number" id="edit_rating" class="form-input svelte-nokxp9" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_runtime">Runtime (min)</label> <input type="number" id="edit_runtime" class="form-input svelte-nokxp9" min="0"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_language">Language</label> <select id="edit_language" class="form-input svelte-nokxp9"><option class="svelte-nokxp9">English</option><option class="svelte-nokxp9">Spanish</option><option class="svelte-nokxp9">French</option><option class="svelte-nokxp9">German</option><option class="svelte-nokxp9">Other</option></select></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_genres">Genres</label> <input type="text" id="edit_genres" class="form-input svelte-nokxp9" placeholder="Action, Drama"/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_cover">Cover Image URL</label> <input type="text" id="edit_cover" class="form-input svelte-nokxp9" placeholder="https://..."/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_background">Background Image URL</label> <input type="text" id="edit_background" class="form-input svelte-nokxp9" placeholder="https://..."/></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_franchise">Franchise</label> <input type="text" id="edit_franchise" class="form-input svelte-nokxp9" placeholder="e.g., Lord of the Rings, Star Wars"/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label checkbox-label svelte-nokxp9"><input type="checkbox" class="svelte-nokxp9"/> Coming Soon</label> <p class="form-hint svelte-nokxp9">Mark as upcoming release</p></div> <!></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_summary">Summary</label> <textarea id="edit_summary" class="form-input form-textarea svelte-nokxp9" rows="3"></textarea></div></form>'),Pd=f('<button class="btn btn-secondary svelte-nokxp9">Cancel</button> <button class="btn btn-primary svelte-nokxp9">Save Changes</button>',1),Rd=f('<p class="delete-warning svelte-nokxp9">Are you sure you want to delete <strong class="svelte-nokxp9"> </strong>?</p> <p class="text-muted svelte-nokxp9">This action cannot be undone. All associated torrents will also be removed.</p>',1),jd=f('<button class="btn btn-secondary svelte-nokxp9">Cancel</button> <button class="btn btn-danger svelte-nokxp9">Delete</button>',1),Fd=f('<button type="button" class="btn btn-sm btn-secondary svelte-nokxp9"> </button>'),Bd=f('<div class="loading-inline svelte-nokxp9"><div class="spinner-small svelte-nokxp9"></div> <span class="svelte-nokxp9">Searching YTS...</span></div>'),Od=f('<label><input type="checkbox" class="svelte-nokxp9"/> <span> </span> <span class="torrent-type svelte-nokxp9"> </span> <span class="torrent-size svelte-nokxp9"> </span> <span class="torrent-seeds svelte-nokxp9"> </span></label>'),Nd=f('<button type="button" class="btn btn-primary mt-3 svelte-nokxp9"> </button>'),Vd=f('<div class="yts-torrents svelte-nokxp9"></div> <!>',1),Ud=f('<p class="text-muted svelte-nokxp9"> </p>'),Yd=f('<div class="yts-section svelte-nokxp9"><div class="section-header svelte-nokxp9"><h4 class="section-title svelte-nokxp9">Available on YTS</h4> <!></div> <!></div> <div class="divider svelte-nokxp9">or enter manually</div>',1),Hd=f('<p class="modal-subtitle svelte-nokxp9">Adding torrent to: <strong class="svelte-nokxp9"> </strong></p> <!> <form class="svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="torrent_hash">Torrent Hash / Magnet Link *</label> <input type="text" id="torrent_hash" class="form-input svelte-nokxp9" placeholder="Magnet link or info hash" required/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="torrent_quality">Quality</label> <select id="torrent_quality" class="form-input svelte-nokxp9"><option class="svelte-nokxp9">720p</option><option class="svelte-nokxp9">1080p</option><option class="svelte-nokxp9">2160p (4K)</option><option class="svelte-nokxp9">480p</option></select></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="torrent_type">Type</label> <select id="torrent_type" class="form-input svelte-nokxp9"><option class="svelte-nokxp9">Web</option><option class="svelte-nokxp9">BluRay</option><option class="svelte-nokxp9">HDTV</option><option class="svelte-nokxp9">WebRip</option></select></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="torrent_size">Size</label> <input type="text" id="torrent_size" class="form-input svelte-nokxp9" placeholder="1.5 GB"/></div></form>',1),Gd=f('<button class="btn btn-secondary svelte-nokxp9">Cancel</button> <button class="btn btn-primary svelte-nokxp9">Add Torrent</button>',1),Wd=f('<div class="movies-page svelte-nokxp9"><header class="page-header svelte-nokxp9"><h1 class="page-title svelte-nokxp9">MOVIES</h1> <div class="page-actions svelte-nokxp9"><div class="search-box svelte-nokxp9"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><circle cx="11" cy="11" r="8" class="svelte-nokxp9"></circle><path d="m21 21-4.35-4.35" class="svelte-nokxp9"></path></svg> <input type="text" placeholder="Search movies..." class="svelte-nokxp9"/></div> <button class="btn btn-primary svelte-nokxp9">ADD</button></div></header> <!></div> <!> <!> <!> <!>',1);function Rl(t,r){if(new.target)return da({component:Rl,...t});na(r,!1);const l=_e(),a=_e(),o=_e(),v=k=>{var T=pd(),O=n(T),R=n(O),N=n(R);s(R);var X=i(R,2),V=i(n(X),2);z(()=>{e(E),$a(()=>{})}),st(V,5,()=>C,at,(me,oe)=>{var pe=cd(),Ce=n(pe,!0);s(pe);var B={};z(()=>{y(Ce,e(oe)),B!==(B=e(oe))&&(pe.value=(pe.__value=e(oe))??"")}),d(me,pe)}),s(V),s(X),s(O);var se=i(O,2);{var xe=me=>{var oe=ud(),pe=n(oe),Ce=i(pe,2),B=i(Ce,2);st(B,1,()=>p(Ne),at,(ve,H)=>{var Pe=dd();let Re;var Ue=n(Pe,!0);s(Pe),z(()=>{Re=ot(Pe,1,"pagination-btn svelte-nokxp9",null,Re,{active:e(H)===e(S)}),y(Ue,e(H))}),J("click",Pe,()=>Ze(e(H))),d(ve,Pe)});var ge=i(B,2),ie=i(ge,2);s(oe),z(()=>{pe.disabled=e(S)===1,Ce.disabled=e(S)===1,ge.disabled=e(S)===e(l),ie.disabled=e(S)===e(l)}),J("click",pe,()=>Ze(1)),J("click",Ce,()=>Ze(e(S)-1)),J("click",ge,()=>Ze(e(S)+1)),J("click",ie,()=>Ze(e(l))),d(me,oe)};$(se,me=>{e(l)>1&&me(xe)})}s(T),z(me=>y(N,`Showing ${e(a)??""}-${e(o)??""} of ${me??""}`),[()=>(e(h),p(()=>e(h).toLocaleString()))]),Ht(V,()=>e(E),me=>u(E,me)),J("change",V,()=>Ct(e(E))),d(k,T)};let _=_e([]),h=_e(0),b=_e(!0),w=_e(""),S=_e(1),E=_e(20);const C=[10,20,50,100];let q=_e(!1),M=_e(!1),F=_e(!1),m=_e(!1),c=_e(null),x=_e({imdb_code:"",title:"",year:new Date().getFullYear(),rating:0,runtime:0,genres:"",language:"en",summary:"",yt_trailer_code:"",medium_cover_image:"",background_image:"",status:"available",release_date:"",franchise:""}),K=_e({hash:"",quality:"1080p",type:"web",size:""}),Se=_e([]),ke=_e(new Set),te=_e(!1),G=_e(""),be=_e(!1);cs(async()=>{await De()});async function De(){u(b,!0);try{const k=await Yv({page:e(S),limit:e(E),search:e(w)||void 0});u(_,k.movies),u(h,k.total)}catch(k){console.error("Failed to load movies:",k)}finally{u(b,!1)}}function Me(){u(S,1),De()}function Ze(k){k>=1&&k<=e(l)&&(u(S,k),De())}function Ct(k){u(E,k),u(S,1),De()}function Ne(){const k=[];let O=Math.max(1,e(S)-Math.floor(2.5)),R=Math.min(e(l),O+5-1);R-O+1<5&&(O=Math.max(1,R-5+1));for(let N=O;N<=R;N++)k.push(N);return k}function nt(){u(x,{imdb_code:"",title:"",year:new Date().getFullYear(),rating:0,runtime:0,genres:"",language:"en",summary:"",yt_trailer_code:"",medium_cover_image:"",background_image:"",status:"available",release_date:"",franchise:""}),u(q,!0)}function xt(k){u(c,k),u(x,{imdb_code:k.imdb_code||"",title:k.title,year:k.year,rating:k.rating||0,runtime:k.runtime||0,genres:k.genres?.join(", ")||"",language:k.language||"en",summary:k.summary||"",yt_trailer_code:k.yt_trailer_code||"",medium_cover_image:k.medium_cover_image||"",background_image:k.background_image||"",status:k.status||"available",release_date:k.release_date||"",franchise:k.franchise||""}),u(M,!0)}function kt(k){u(c,k),u(F,!0)}async function _t(k){if(u(c,k),u(K,{hash:"",quality:"1080p",type:"web",size:""}),u(Se,[]),u(ke,new Set),u(G,""),u(m,!0),k.imdb_code){u(te,!0);try{const T=await fetch(`/admin/api/yts/search?imdb=${encodeURIComponent(k.imdb_code)}`);if(T.ok){const O=await T.json();if(O.status==="error")u(G,"YTS unavailable - enter torrent manually");else{const R=O.data?.movies?.[0];R?.torrents?u(Se,R.torrents.map(N=>({hash:N.hash,quality:N.quality,type:N.type||"web",size:N.size,seeds:N.seeds||0,peers:N.peers||0}))):u(G,"No torrents found on YTS for this movie")}}}catch(T){console.error("Failed to search YTS:",T),u(G,"YTS unavailable - enter torrent manually")}u(te,!1)}}function Lt(k){e(ke).has(k)?e(ke).delete(k):e(ke).add(k),u(ke,e(ke))}function Rt(){e(ke).size===e(Se).length?u(ke,new Set):u(ke,new Set(e(Se).map(k=>k.hash)))}async function Nt(){if(!(!e(c)||e(ke).size===0)){u(be,!0);try{const k=e(Se).filter(T=>e(ke).has(T.hash));for(const T of k)await fetch(`/admin/movies/${e(c).id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:T.hash,quality:T.quality,type:T.type,size:T.size})});u(m,!1),De()}catch(k){console.error("Failed to add torrents:",k)}finally{u(be,!1)}}}async function Gt(){try{(await fetch("/admin/movies",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({imdb_code:e(x).imdb_code,title:e(x).title,year:String(e(x).year),rating:String(e(x).rating),runtime:String(e(x).runtime),genres:e(x).genres,language:e(x).language,summary:e(x).summary,yt_trailer_code:e(x).yt_trailer_code,medium_cover_image:e(x).medium_cover_image,background_image:e(x).background_image,status:e(x).status,release_date:e(x).release_date,franchise:e(x).franchise})})).ok&&(u(q,!1),De())}catch(k){console.error("Failed to add movie:",k)}}async function Ve(){if(e(c))try{await Pn(e(c).id,{imdb_code:e(x).imdb_code,title:e(x).title,year:e(x).year,rating:e(x).rating,runtime:e(x).runtime,genres:e(x).genres,language:e(x).language,summary:e(x).summary,yt_trailer_code:e(x).yt_trailer_code,medium_cover_image:e(x).medium_cover_image,background_image:e(x).background_image,status:e(x).status,release_date:e(x).release_date,franchise:e(x).franchise}),u(M,!1),De()}catch(k){console.error("Failed to update movie:",k)}}async function Qe(){if(e(c))try{await Al(e(c).id),u(F,!1),De()}catch(k){console.error("Failed to delete movie:",k)}}let mt=_e(!1),Tt=_e(null),Pt=_e([]),L=_e(!1),ae;async function g(k){if(k.length<2){u(Pt,[]);return}clearTimeout(ae),ae=setTimeout(async()=>{try{const[T,O]=await Promise.all([fetch(`/api/v2/list_movies.json?query_term=${encodeURIComponent(k)}&limit=5`),fetch(`/admin/api/imdb/search?query=${encodeURIComponent(k)}`)]),R=[];if(T.ok){const X=(await T.json()).data?.movies||[];for(const V of X)R.push({id:V.imdb_code||`local-${V.id}`,title:V.title,year:String(V.year),poster:V.medium_cover_image||"",inLibrary:!0,movieId:V.id})}if(O.ok){const N=await O.json(),X=new Set(R.map(V=>V.id));for(const V of(N.titles||[]).slice(0,8))X.has(V.id)||R.push({id:V.id,title:V.primaryTitle,year:V.startYear?String(V.startYear):"",poster:V.primaryImage?.url||"",inLibrary:!1})}u(Pt,R.slice(0,10)),u(L,e(Pt).length>0)}catch(T){console.error("Search failed:",T)}},300)}async function j(k){if(u(L,!1),u(Pt,[]),k.inLibrary&&k.movieId)try{const T=await Ml(k.movieId);if(T){u(q,!1),u(c,T),u(x,{imdb_code:T.imdb_code||"",title:T.title,year:T.year,rating:T.rating||0,runtime:0,genres:T.genres?.join(", ")||"",language:"en",summary:T.summary||"",yt_trailer_code:"",medium_cover_image:T.medium_cover_image||"",background_image:""}),u(M,!0);return}}catch(T){console.error("Failed to load movie:",T)}if(k.id.startsWith("tt"))try{const T=await Hv(k.id);if(T.exists&&T.movie){u(q,!1),u(c,T.movie),u(x,{imdb_code:T.movie.imdb_code||"",title:T.movie.title,year:T.movie.year,rating:T.movie.rating||0,runtime:0,genres:T.movie.genres?.join(", ")||"",language:"en",summary:T.movie.summary||"",yt_trailer_code:"",medium_cover_image:T.movie.medium_cover_image||"",background_image:""}),u(M,!0);return}}catch(T){console.error("Failed to check existing movie:",T)}P(x,e(x).imdb_code=k.id),P(x,e(x).title=k.title),P(x,e(x).year=parseInt(k.year)||new Date().getFullYear()),U()}async function U(){if(e(x).imdb_code){u(mt,!0),u(Tt,null);try{const k=await fetch(`/admin/api/imdb/title/${e(x).imdb_code}`);if(k.ok){const T=await k.json();console.log("IMDB data:",T);const O=(T.type||T.titleType||"").toLowerCase();if(O.includes("series")||O.includes("tv")){u(Tt,`"${T.primaryTitle||T.title}" is a TV Series. Add it in the Series section instead.`),u(mt,!1);return}u(Tt,null),P(x,e(x).title=T.primaryTitle||e(x).title),P(x,e(x).year=T.startYear||e(x).year),P(x,e(x).rating=T.rating?.aggregateRating||e(x).rating),P(x,e(x).runtime=T.runtimeSeconds?Math.round(T.runtimeSeconds/60):e(x).runtime),P(x,e(x).genres=T.genres?.join(", ")||e(x).genres),P(x,e(x).summary=T.plot||e(x).summary);const R=T.primaryImage?.url||"";P(x,e(x).medium_cover_image=R),P(x,e(x).language="en")}}catch(k){console.error("Failed to fetch from IMDB:",k),u(Tt,"Failed to fetch from IMDB")}finally{u(mt,!1)}}}async function W(){if(e(c))try{(await fetch(`/admin/movies/${e(c).id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:e(K).hash,quality:e(K).quality,type:e(K).type,size:e(K).size})})).ok&&(u(m,!1),De())}catch(k){console.error("Failed to add torrent:",k)}}js(()=>(e(h),e(E)),()=>{u(l,Math.ceil(e(h)/e(E)))}),js(()=>(e(h),e(S),e(E)),()=>{u(a,e(h)>0?(e(S)-1)*e(E)+1:0)}),js(()=>(e(S),e(E),e(h)),()=>{u(o,Math.min(e(S)*e(E),e(h)))}),Qn();var Ae={$set:pa,$on:(k,T)=>ua(r,k,T)};ts();var Fe=Wd(),I=ze(Fe),Q=n(I),ce=i(n(Q),2),he=n(ce),ee=i(n(he),2);de(ee),s(he);var Ye=i(he,2);s(ce),s(Q);var Ee=i(Q,2);{var Le=k=>{var T=fd();d(k,T)},ye=k=>{var T=Bt(),O=ze(T);{var R=X=>{var V=_d();d(X,V)},N=X=>{var V=wd(),se=ze(V);v(se);var xe=i(se,2),me=n(xe),oe=i(n(me));st(oe,5,()=>e(_),at,(Ce,B)=>{var ge=kd(),ie=n(ge),ve=n(ie);{var H=rt=>{var it=md();z(()=>{Je(it,"src",(e(B),p(()=>e(B).medium_cover_image))),Je(it,"alt",(e(B),p(()=>e(B).title)))}),d(rt,it)},Pe=rt=>{var it=hd();d(rt,it)};$(ve,rt=>{e(B),p(()=>e(B).medium_cover_image)?rt(H):rt(Pe,!1)})}s(ie);var Re=i(ie),Ue=n(Re),je=n(Ue,!0);s(Ue),Bs(Ue,rt=>Os?.(rt));var He=i(Ue,2);{var Ge=rt=>{var it=gd();d(rt,it)};$(He,rt=>{e(B),p(()=>e(B).status==="coming_soon")&&rt(Ge)})}s(Re);var ne=i(Re),fe=n(ne,!0);s(ne);var Oe=i(ne),Ke=n(Oe),Te=n(Ke);{var vt=rt=>{var it=bd(),jt=i(n(it),2),Xt=n(jt);s(jt),s(it),z(()=>y(Xt,`${e(B),p(()=>e(B).imdb_rating)??""}/10`)),d(rt,it)};$(Te,rt=>{e(B),p(()=>e(B).imdb_rating)&&rt(vt)})}var Vt=i(Te,2);{var et=rt=>{var it=yd(),jt=n(it),Xt=n(jt);s(jt),s(it),z(()=>y(Xt,`${e(B),p(()=>e(B).rotten_tomatoes)??""}%`)),d(rt,it)};$(Vt,rt=>{e(B),p(()=>e(B).rotten_tomatoes)&&rt(et)})}s(Ke),s(Oe);var ht=i(Oe),Ut=n(ht),Wt=n(Ut);st(Wt,1,()=>(e(B),p(()=>e(B).torrents||[])),at,(rt,it)=>{var jt=xd(),Xt=n(jt,!0);s(jt),z(()=>{ot(jt,1,`badge badge-quality badge-${e(it),p(()=>e(it).quality)??""}`,"svelte-nokxp9"),y(Xt,(e(it),p(()=>e(it).quality)))}),d(rt,jt)});var Ft=i(Wt,2);s(Ut),s(ht);var Et=i(ht),wt=n(Et),Yt=n(wt),Qt=i(Yt,2);s(wt),s(Et),s(ge),z(()=>{Je(Ue,"href",`/movies/${e(B),p(()=>e(B).id)??""}`),y(je,(e(B),p(()=>e(B).title))),y(fe,(e(B),p(()=>e(B).year)))}),J("click",Ft,()=>_t(e(B))),J("click",Yt,()=>xt(e(B))),J("click",Qt,()=>kt(e(B))),d(Ce,ge)}),s(oe),s(me),s(xe);var pe=i(xe,2);v(pe),d(X,V)};$(O,X=>{e(_),p(()=>e(_).length===0)?X(R):X(N,!1)},!0)}d(k,T)};$(Ee,k=>{e(b)?k(Le):k(ye,!1)})}s(I);var Y=i(I,2);ca(Y,{title:"Add Movie",size:"lg",get open(){return e(q)},set open(k){u(q,k)},$$events:{close:()=>u(q,!1)},children:(k,T)=>{var O=Ad(),R=n(O),N=n(R),X=i(n(N),2),V=n(X);de(V);var se=i(V,2),xe=n(se,!0);s(se),s(X);var me=i(X,2);{var oe=tt=>{var fa=zd(),Ea=n(fa,!0);s(fa),z(()=>y(Ea,e(Tt))),d(tt,fa)};$(me,tt=>{e(Tt)&&tt(oe)})}s(N);var pe=i(N,2),Ce=i(n(pe),2),B=n(Ce);de(B);var ge=i(B,2);{var ie=tt=>{var fa=Ed();st(fa,5,()=>e(Pt),at,(Ea,Kt)=>{var ja=Td();let ns;var Ws=n(ja);{var Qs=aa=>{var Fa=Sd();z(()=>Je(Fa,"src",(e(Kt),p(()=>e(Kt).poster)))),d(aa,Fa)},_r=aa=>{var Fa=$d();d(aa,Fa)};$(Ws,aa=>{e(Kt),p(()=>e(Kt).poster)?aa(Qs):aa(_r,!1)})}var we=i(Ws,2),qe=n(we),Xe=n(qe),At=i(Xe);{var ta=aa=>{var Fa=Cd();d(aa,Fa)};$(At,aa=>{e(Kt),p(()=>e(Kt).inLibrary)&&aa(ta)})}s(qe);var _a=i(qe,2),As=n(_a);s(_a),s(we),s(ja),z(()=>{ns=ot(ja,1,"suggestion-item svelte-nokxp9",null,ns,{"in-library":e(Kt).inLibrary}),y(Xe,`${e(Kt),p(()=>e(Kt).title)??""} `),y(As,`${e(Kt),p(()=>e(Kt).year)??""} ${e(Kt),p(()=>e(Kt).inLibrary?"â¢ Click to edit":"")??""}`)}),J("mousedown",ja,()=>j(e(Kt))),d(Ea,ja)}),s(fa),d(tt,fa)};$(ge,tt=>{e(L),e(Pt),p(()=>e(L)&&e(Pt).length>0)&&tt(ie)})}s(Ce),s(pe),s(R);var ve=i(R,2),H=n(ve),Pe=i(n(H),2);de(Pe),s(H);var Re=i(H,2),Ue=i(n(Re),2);de(Ue),s(Re);var je=i(Re,2),He=i(n(je),2);de(He),s(je);var Ge=i(je,2),ne=i(n(Ge),2);z(()=>{e(x),$a(()=>{})});var fe=n(ne);fe.value=fe.__value="en";var Oe=i(fe);Oe.value=Oe.__value="es";var Ke=i(Oe);Ke.value=Ke.__value="fr";var Te=i(Ke);Te.value=Te.__value="de";var vt=i(Te);vt.value=vt.__value="it";var Vt=i(vt);Vt.value=Vt.__value="ja";var et=i(Vt);et.value=et.__value="ko";var ht=i(et);ht.value=ht.__value="zh";var Ut=i(ht);Ut.value=Ut.__value="hi";var Wt=i(Ut);Wt.value=Wt.__value="other",s(ne),s(Ge),s(ve);var Ft=i(ve,2),Et=i(n(Ft),2);de(Et),s(Ft);var wt=i(Ft,2),Yt=n(wt),Qt=i(n(Yt),2);de(Qt),s(Yt);var rt=i(Yt,2),it=i(n(rt),2);de(it),s(rt),s(wt);var jt=i(wt,2),Xt=i(n(jt),2);de(Xt),s(jt);var We=i(jt,2),Mt=i(n(We),2);de(Mt),s(We);var gt=i(We,2),la=n(gt),Ga=n(la),ka=n(Ga);de(ka),ct(),s(Ga),ct(2),s(la);var as=i(la,2);{var ds=tt=>{var fa=Md(),Ea=i(n(fa),2);de(Ea),s(fa),ue(Ea,()=>e(x).release_date,Kt=>P(x,e(x).release_date=Kt)),d(tt,fa)};$(as,tt=>{e(x),p(()=>e(x).status==="coming_soon")&&tt(ds)})}s(gt);var ss=i(gt,2),rs=i(n(ss),2);Hs(rs),s(ss),s(O),z(()=>{se.disabled=(e(mt),e(x),p(()=>e(mt)||!e(x).imdb_code)),y(xe,e(mt)?"Fetching...":"Fetch"),rr(ka,(e(x),p(()=>e(x).status==="coming_soon")))}),ue(V,()=>e(x).imdb_code,tt=>P(x,e(x).imdb_code=tt)),J("click",se,U),ue(B,()=>e(x).title,tt=>P(x,e(x).title=tt)),J("input",B,tt=>g(tt.currentTarget.value)),J("focus",B,()=>u(L,e(Pt).length>0)),J("blur",B,()=>setTimeout(()=>u(L,!1),200)),ue(Pe,()=>e(x).year,tt=>P(x,e(x).year=tt)),ue(Ue,()=>e(x).rating,tt=>P(x,e(x).rating=tt)),ue(He,()=>e(x).runtime,tt=>P(x,e(x).runtime=tt)),Ht(ne,()=>e(x).language,tt=>P(x,e(x).language=tt)),ue(Et,()=>e(x).genres,tt=>P(x,e(x).genres=tt)),ue(Qt,()=>e(x).medium_cover_image,tt=>P(x,e(x).medium_cover_image=tt)),ue(it,()=>e(x).background_image,tt=>P(x,e(x).background_image=tt)),ue(Xt,()=>e(x).yt_trailer_code,tt=>P(x,e(x).yt_trailer_code=tt)),ue(Mt,()=>e(x).franchise,tt=>P(x,e(x).franchise=tt)),J("change",ka,tt=>P(x,e(x).status=tt.currentTarget.checked?"coming_soon":"available")),ue(rs,()=>e(x).summary,tt=>P(x,e(x).summary=tt)),J("submit",O,Ja(Gt)),d(k,O)},$$slots:{default:!0,footer:(k,T)=>{var O=qd(),R=ze(O),N=i(R,2);J("click",R,()=>u(q,!1)),J("click",N,Gt),d(k,O)}},$$legacy:!0});var re=i(Y,2);ca(re,{title:"Edit Movie",size:"lg",get open(){return e(M)},set open(k){u(M,k)},$$events:{close:()=>u(M,!1)},children:(k,T)=>{var O=Ld(),R=n(O),N=n(R),X=i(n(N),2),V=n(X);de(V);var se=i(V,2),xe=n(se,!0);s(se),s(X);var me=i(X,2);{var oe=We=>{var Mt=Dd(),gt=n(Mt,!0);s(Mt),z(()=>y(gt,e(Tt))),d(We,Mt)};$(me,We=>{e(Tt)&&We(oe)})}s(N);var pe=i(N,2),Ce=i(n(pe),2);de(Ce),s(pe),s(R);var B=i(R,2),ge=n(B),ie=i(n(ge),2);de(ie),s(ge);var ve=i(ge,2),H=i(n(ve),2);de(H),s(ve);var Pe=i(ve,2),Re=i(n(Pe),2);de(Re),s(Pe);var Ue=i(Pe,2),je=i(n(Ue),2);z(()=>{e(x),$a(()=>{})});var He=n(je);He.value=He.__value="en";var Ge=i(He);Ge.value=Ge.__value="es";var ne=i(Ge);ne.value=ne.__value="fr";var fe=i(ne);fe.value=fe.__value="de";var Oe=i(fe);Oe.value=Oe.__value="other",s(je),s(Ue),s(B);var Ke=i(B,2),Te=i(n(Ke),2);de(Te),s(Ke);var vt=i(Ke,2),Vt=n(vt),et=i(n(Vt),2);de(et),s(Vt);var ht=i(Vt,2),Ut=i(n(ht),2);de(Ut),s(ht),s(vt);var Wt=i(vt,2),Ft=i(n(Wt),2);de(Ft),s(Wt);var Et=i(Wt,2),wt=n(Et),Yt=n(wt),Qt=n(Yt);de(Qt),ct(),s(Yt),ct(2),s(wt);var rt=i(wt,2);{var it=We=>{var Mt=Id(),gt=i(n(Mt),2);de(gt),s(Mt),ue(gt,()=>e(x).release_date,la=>P(x,e(x).release_date=la)),d(We,Mt)};$(rt,We=>{e(x),p(()=>e(x).status==="coming_soon")&&We(it)})}s(Et);var jt=i(Et,2),Xt=i(n(jt),2);Hs(Xt),s(jt),s(O),z(()=>{se.disabled=(e(mt),e(x),p(()=>e(mt)||!e(x).imdb_code)),y(xe,e(mt)?"Updating...":"Update"),rr(Qt,(e(x),p(()=>e(x).status==="coming_soon")))}),ue(V,()=>e(x).imdb_code,We=>P(x,e(x).imdb_code=We)),J("click",se,U),ue(Ce,()=>e(x).title,We=>P(x,e(x).title=We)),ue(ie,()=>e(x).year,We=>P(x,e(x).year=We)),ue(H,()=>e(x).rating,We=>P(x,e(x).rating=We)),ue(Re,()=>e(x).runtime,We=>P(x,e(x).runtime=We)),Ht(je,()=>e(x).language,We=>P(x,e(x).language=We)),ue(Te,()=>e(x).genres,We=>P(x,e(x).genres=We)),ue(et,()=>e(x).medium_cover_image,We=>P(x,e(x).medium_cover_image=We)),ue(Ut,()=>e(x).background_image,We=>P(x,e(x).background_image=We)),ue(Ft,()=>e(x).franchise,We=>P(x,e(x).franchise=We)),J("change",Qt,We=>P(x,e(x).status=We.currentTarget.checked?"coming_soon":"available")),ue(Xt,()=>e(x).summary,We=>P(x,e(x).summary=We)),J("submit",O,Ja(Ve)),d(k,O)},$$slots:{default:!0,footer:(k,T)=>{var O=Pd(),R=ze(O),N=i(R,2);J("click",R,()=>u(M,!1)),J("click",N,Ve),d(k,O)}},$$legacy:!0});var le=i(re,2);ca(le,{title:"Delete Movie",size:"sm",get open(){return e(F)},set open(k){u(F,k)},$$events:{close:()=>u(F,!1)},children:(k,T)=>{var O=Rd(),R=ze(O),N=i(n(R)),X=n(N,!0);s(N),ct(),s(R),ct(2),z(()=>y(X,(e(c),p(()=>e(c)?.title)))),d(k,O)},$$slots:{default:!0,footer:(k,T)=>{var O=jd(),R=ze(O),N=i(R,2);J("click",R,()=>u(F,!1)),J("click",N,Qe),d(k,O)}},$$legacy:!0});var $e=i(le,2);return ca($e,{title:"Add Torrent",size:"lg",get open(){return e(m)},set open(k){u(m,k)},$$events:{close:()=>u(m,!1)},children:(k,T)=>{var O=Hd(),R=ze(O),N=i(n(R)),X=n(N,!0);s(N),s(R);var V=i(R,2);{var se=Oe=>{var Ke=Yd(),Te=ze(Ke),vt=n(Te),Vt=i(n(vt),2);{var et=Ft=>{var Et=Fd(),wt=n(Et,!0);s(Et),z(()=>y(wt,(e(ke),e(Se),p(()=>e(ke).size===e(Se).length?"Deselect All":"Select All")))),J("click",Et,Rt),d(Ft,Et)};$(Vt,Ft=>{e(Se),p(()=>e(Se).length>1)&&Ft(et)})}s(vt);var ht=i(vt,2);{var Ut=Ft=>{var Et=Bd();d(Ft,Et)},Wt=Ft=>{var Et=Bt(),wt=ze(Et);{var Yt=rt=>{var it=Vd(),jt=ze(it);st(jt,5,()=>e(Se),at,(Mt,gt)=>{var la=Od();let Ga;var ka=n(la);de(ka);var as=i(ka,2),ds=n(as,!0);s(as);var ss=i(as,2),rs=n(ss,!0);s(ss);var tt=i(ss,2),fa=n(tt,!0);s(tt);var Ea=i(tt,2),Kt=n(Ea);s(Ea),s(la),z((ja,ns)=>{Ga=ot(la,1,"yts-torrent-item svelte-nokxp9",null,Ga,ja),rr(ka,ns),ot(as,1,`torrent-quality-badge badge-${e(gt),p(()=>e(gt).quality)??""}`,"svelte-nokxp9"),y(ds,(e(gt),p(()=>e(gt).quality))),y(rs,(e(gt),p(()=>e(gt).type))),y(fa,(e(gt),p(()=>e(gt).size))),y(Kt,`ð± ${e(gt),p(()=>e(gt).seeds)??""}`)},[()=>({selected:e(ke).has(e(gt).hash)}),()=>(e(ke),e(gt),p(()=>e(ke).has(e(gt).hash)))]),J("change",ka,()=>Lt(e(gt).hash)),d(Mt,la)}),s(jt);var Xt=i(jt,2);{var We=Mt=>{var gt=Nd(),la=n(gt,!0);s(gt),z(()=>{gt.disabled=e(be),y(la,(e(be),e(ke),p(()=>e(be)?"Adding...":`Add ${e(ke).size} Torrent${e(ke).size>1?"s":""}`)))}),J("click",gt,Nt),d(Mt,gt)};$(Xt,Mt=>{e(ke),p(()=>e(ke).size>0)&&Mt(We)})}d(rt,it)},Qt=rt=>{var it=Bt(),jt=ze(it);{var Xt=We=>{var Mt=Ud(),gt=n(Mt,!0);s(Mt),z(()=>y(gt,e(G))),d(We,Mt)};$(jt,We=>{e(G)&&We(Xt)},!0)}d(rt,it)};$(wt,rt=>{e(Se),p(()=>e(Se).length>0)?rt(Yt):rt(Qt,!1)},!0)}d(Ft,Et)};$(ht,Ft=>{e(te)?Ft(Ut):Ft(Wt,!1)})}s(Te),ct(2),d(Oe,Ke)};$(V,Oe=>{e(c),p(()=>e(c)?.imdb_code)&&Oe(se)})}var xe=i(V,2),me=n(xe),oe=i(n(me),2);de(oe),s(me);var pe=i(me,2),Ce=n(pe),B=i(n(Ce),2);z(()=>{e(K),$a(()=>{})});var ge=n(B);ge.value=ge.__value="720p";var ie=i(ge);ie.value=ie.__value="1080p";var ve=i(ie);ve.value=ve.__value="2160p";var H=i(ve);H.value=H.__value="480p",s(B),s(Ce);var Pe=i(Ce,2),Re=i(n(Pe),2);z(()=>{e(K),$a(()=>{})});var Ue=n(Re);Ue.value=Ue.__value="web";var je=i(Ue);je.value=je.__value="bluray";var He=i(je);He.value=He.__value="hdtv";var Ge=i(He);Ge.value=Ge.__value="webrip",s(Re),s(Pe),s(pe);var ne=i(pe,2),fe=i(n(ne),2);de(fe),s(ne),s(xe),z(()=>y(X,(e(c),p(()=>e(c)?.title)))),ue(oe,()=>e(K).hash,Oe=>P(K,e(K).hash=Oe)),Ht(B,()=>e(K).quality,Oe=>P(K,e(K).quality=Oe)),Ht(Re,()=>e(K).type,Oe=>P(K,e(K).type=Oe)),ue(fe,()=>e(K).size,Oe=>P(K,e(K).size=Oe)),J("submit",xe,Ja(W)),d(k,O)},$$slots:{default:!0,footer:(k,T)=>{var O=Gd(),R=ze(O),N=i(R,2);z(()=>N.disabled=(e(K),p(()=>!e(K).hash))),J("click",R,()=>u(m,!1)),J("click",N,W),d(k,O)}},$$legacy:!0}),ue(ee,()=>e(w),k=>u(w,k)),J("keydown",ee,k=>k.key==="Enter"&&Me()),J("click",Ye,nt),d(t,Fe),ia(Ae)}var Qd=f('<div class="loading"><div class="spinner"></div></div>'),Kd=f('<img class="poster poster-lg"/>'),Zd=f('<div class="poster poster-lg poster-placeholder svelte-138sfuz"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg></div>'),Jd=f('<span class="movie-runtime svelte-138sfuz"> </span>'),Xd=f('<span class="mpa-rating svelte-138sfuz"> </span>'),eu=f('<span class="movie-language svelte-138sfuz"> </span>'),tu=f('<a target="_blank" rel="noopener" class="imdb-link svelte-138sfuz"> </a>'),au=f('<span class="rating-votes svelte-138sfuz"> </span>'),su=f('<div class="rating-badge rating-imdb svelte-138sfuz"><span class="rating-source svelte-138sfuz">IMDb</span> <span class="rating-score svelte-138sfuz"> </span> <!></div>'),ru=f('<div><span class="rating-source svelte-138sfuz">RT</span> <span class="rating-score svelte-138sfuz"> </span></div>'),nu=f('<div><span class="rating-source svelte-138sfuz">Meta</span> <span class="rating-score svelte-138sfuz"> </span></div>'),iu=f('<span class="genre-tag svelte-138sfuz"> </span>'),lu=f('<div class="movie-genres svelte-138sfuz"></div>'),ou=f('<p class="movie-summary svelte-138sfuz"> </p>'),vu=f('<div class="trailer-link svelte-138sfuz"><a target="_blank" rel="noopener" class="btn btn-sm btn-secondary svelte-138sfuz"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0C.488 3.45.029 5.804 0 12c.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0C23.512 20.55 23.971 18.196 24 12c-.029-6.185-.484-8.549-4.385-8.816zM9 16V8l8 3.993L9 16z"></path></svg> Watch Trailer</a></div>'),cu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">English Title</span> <span class="detail-value svelte-138sfuz"> </span></div>'),du=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Full Title</span> <span class="detail-value svelte-138sfuz"> </span></div>'),uu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Runtime</span> <span class="detail-value svelte-138sfuz"> </span></div>'),pu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Director</span> <span class="detail-value svelte-138sfuz"> </span></div>'),fu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Writers</span> <span class="detail-value svelte-138sfuz"> </span></div>'),_u=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Language</span> <span class="detail-value svelte-138sfuz"> </span></div>'),mu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Country</span> <span class="detail-value svelte-138sfuz"> </span></div>'),hu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Rating</span> <span class="detail-value svelte-138sfuz"> </span></div>'),gu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Genres</span> <span class="detail-value svelte-138sfuz"> </span></div>'),bu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Franchise</span> <span class="detail-value svelte-138sfuz"> </span></div>'),yu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Awards</span> <span class="detail-value svelte-138sfuz"> </span></div>'),xu=f('<p class="text-muted">Loading...</p>'),ku=f('<img class="franchise-poster svelte-138sfuz"/>'),wu=f('<div class="franchise-poster franchise-placeholder svelte-138sfuz"><span> </span></div>'),zu=f('<a class="franchise-movie svelte-138sfuz"><!> <div class="franchise-info svelte-138sfuz"><span class="franchise-title svelte-138sfuz"> </span> <span class="franchise-year svelte-138sfuz"> </span></div></a>'),Su=f('<div class="franchise-section svelte-138sfuz"><div class="franchise-grid svelte-138sfuz"></div></div>'),$u=f('<div class="card franchise-card svelte-138sfuz"><h3 class="svelte-138sfuz"> </h3> <!></div>'),Cu=f('<div class="box-office-item svelte-138sfuz"><span class="box-office-label svelte-138sfuz">Budget</span> <span class="box-office-value svelte-138sfuz"> </span></div>'),Tu=f('<div class="box-office-item svelte-138sfuz"><span class="box-office-label svelte-138sfuz">Worldwide Gross</span> <span class="box-office-value svelte-138sfuz"> </span></div>'),Eu=f('<div class="card box-office-card svelte-138sfuz"><h3 class="svelte-138sfuz">Box Office</h3> <div class="box-office-grid svelte-138sfuz"><!> <!></div></div>'),Mu=f('<span class="rating-votes svelte-138sfuz"> </span>'),Au=f('<div class="rating-box rating-imdb svelte-138sfuz"><div class="rating-icon svelte-138sfuz"><svg width="32" height="32" viewBox="0 0 24 24" fill="#f5c518"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div> <div class="rating-info svelte-138sfuz"><span class="rating-source svelte-138sfuz">IMDb</span> <span class="rating-value svelte-138sfuz"> <span class="rating-max svelte-138sfuz">/10</span></span> <!></div></div>'),qu=f('<span class="rt-icon fresh svelte-138sfuz">ð</span>'),Du=f('<span class="rt-icon rotten svelte-138sfuz">ð¤¢</span>'),Iu=f('<div><div class="rating-icon svelte-138sfuz"><!></div> <div class="rating-info svelte-138sfuz"><span class="rating-source svelte-138sfuz">Rotten Tomatoes</span> <span class="rating-value svelte-138sfuz"> <span class="rating-max svelte-138sfuz">%</span></span> <span class="rating-label svelte-138sfuz"> </span></div></div>'),Lu=f('<div><div> </div> <div class="rating-info svelte-138sfuz"><span class="rating-source svelte-138sfuz">Metacritic</span> <span class="rating-label svelte-138sfuz"><!></span></div></div>'),Pu=f('<div class="card ratings-card svelte-138sfuz"><h3 class="svelte-138sfuz">Ratings</h3> <div class="ratings-grid svelte-138sfuz"><!> <!> <!></div></div>'),Ru=f('<div class="stat-item svelte-138sfuz"><span class="stat-value svelte-138sfuz"> </span> <span class="stat-label svelte-138sfuz">Likes</span></div>'),ju=f('<div class="stat-item svelte-138sfuz"><span class="stat-value svelte-138sfuz"> </span> <span class="stat-label svelte-138sfuz">Downloads</span></div>'),Fu=f('<div class="card stats-card svelte-138sfuz"><h3 class="svelte-138sfuz">Statistics</h3> <div class="stats-grid svelte-138sfuz"><!> <!></div></div>'),Bu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">IMDB Code</span> <span class="detail-value svelte-138sfuz"><a target="_blank" rel="noopener" class="mono link svelte-138sfuz"> </a></span></div>'),Ou=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Slug</span> <span class="detail-value mono svelte-138sfuz"> </span></div>'),Nu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Provider</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Vu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Content Type</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Uu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Date Uploaded</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Yu=f('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">YouTube Trailer</span> <span class="detail-value svelte-138sfuz"><a target="_blank" rel="noopener" class="mono link svelte-138sfuz"> </a></span></div>'),Hu=f('<div class="image-item svelte-138sfuz"><span class="image-label svelte-138sfuz">Poster</span> <a target="_blank" rel="noopener"><img alt="Poster" class="preview-image svelte-138sfuz"/></a></div>'),Gu=f('<div class="image-item image-wide svelte-138sfuz"><span class="image-label svelte-138sfuz">Background</span> <a target="_blank" rel="noopener"><img alt="Background" class="preview-image preview-wide svelte-138sfuz"/></a></div>'),Wu=f('<div class="image-item svelte-138sfuz"><span class="image-label svelte-138sfuz"></span> <a target="_blank" rel="noopener"><img class="preview-image svelte-138sfuz" loading="lazy"/></a></div>'),Qu=f('<div class="image-item more-images svelte-138sfuz"><span class="more-count svelte-138sfuz"> </span></div>'),Ku=f("<!> <!>",1),Zu=f('<img class="cast-image svelte-138sfuz"/>'),Ju=f('<div class="cast-image cast-placeholder svelte-138sfuz"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="8" r="4"></circle><path d="M20 21a8 8 0 10-16 0"></path></svg></div>'),Xu=f('<span class="cast-character svelte-138sfuz"> </span>'),ep=f('<div class="cast-item svelte-138sfuz"><!> <div class="cast-info svelte-138sfuz"><span class="cast-name svelte-138sfuz"> </span> <!></div></div>'),tp=f('<div class="card cast-card svelte-138sfuz"><h3 class="svelte-138sfuz">Cast</h3> <div class="cast-grid svelte-138sfuz"></div></div>'),ap=f('<div class="torrent-row svelte-138sfuz"><span> </span> <span class="torrent-type svelte-138sfuz"> </span> <span class="torrent-size svelte-138sfuz"> </span> <span class="torrent-hash svelte-138sfuz"> </span></div>'),sp=f('<p class="text-muted">No torrents yet</p>'),rp=f('<div class="card movie-card svelte-138sfuz"><div class="movie-header svelte-138sfuz"><div class="movie-actions svelte-138sfuz"><button class="btn btn-primary"> </button> <button class="btn btn-secondary">FIND FRANCHISE</button> <button class="btn btn-secondary">EDIT</button> <button class="btn btn-danger">DELETE</button></div></div> <div class="movie-info svelte-138sfuz"><!> <div class="movie-meta svelte-138sfuz"><h2 class="movie-title svelte-138sfuz"> </h2> <div class="movie-details svelte-138sfuz"><span class="movie-year svelte-138sfuz"> </span> <!> <!> <!> <!></div> <div class="ratings-row svelte-138sfuz"><!> <!> <!></div> <!> <!> <!></div></div></div> <div class="card details-card svelte-138sfuz"><h3 class="svelte-138sfuz">Details</h3> <div class="details-grid svelte-138sfuz"><div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Title</span> <span class="detail-value svelte-138sfuz"> </span></div> <!> <!> <div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Year</span> <span class="detail-value svelte-138sfuz"> </span></div> <!> <!> <!> <!> <!> <!> <!> <!> <!></div></div> <!> <!> <!> <!> <div class="card tech-card svelte-138sfuz"><h3 class="svelte-138sfuz">Technical Info</h3> <div class="details-grid svelte-138sfuz"><div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Database ID</span> <span class="detail-value mono svelte-138sfuz"> </span></div> <!> <!> <!> <!> <!> <!></div></div> <div class="card images-card svelte-138sfuz"><h3 class="svelte-138sfuz"> </h3> <div class="images-grid svelte-138sfuz"><!> <!> <!></div></div> <!> <div class="card torrents-card"><div class="torrents-header svelte-138sfuz"><h3 class="svelte-138sfuz">Torrents</h3> <button class="btn btn-sm btn-primary">ADD TORRENT</button></div> <!></div>',1),np=f('<div class="empty-state svelte-138sfuz"><p class="svelte-138sfuz">Movie not found</p> <a href="/movies" class="btn btn-primary">Back to Movies</a></div>'),ip=f('<div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="release_date">Release Date</label> <input type="date" id="release_date" class="form-input svelte-138sfuz"/></div>'),lp=f('<form><div class="form-row svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="imdb_code">IMDB Code</label> <div class="input-with-button svelte-138sfuz"><input type="text" id="imdb_code" class="form-input svelte-138sfuz" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary"> </button></div></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="title">Title *</label> <input type="text" id="title" class="form-input svelte-138sfuz" required/></div></div> <div class="form-row form-row-4 svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="year">Year</label> <input type="number" id="year" class="form-input svelte-138sfuz"/></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="rating">Rating</label> <input type="number" id="rating" class="form-input svelte-138sfuz" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="runtime">Runtime (min)</label> <input type="number" id="runtime" class="form-input svelte-138sfuz" min="0"/></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="language">Language</label> <select id="language" class="form-input svelte-138sfuz"><option>English</option><option>Spanish</option><option>French</option><option>German</option><option>Italian</option><option>Albanian</option></select></div></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="genres">Genres</label> <input type="text" id="genres" class="form-input svelte-138sfuz" placeholder="Action, Drama"/></div> <div class="form-row svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="cover">Cover Image URL</label> <input type="text" id="cover" class="form-input svelte-138sfuz" placeholder="https://..."/></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="background">Background Image URL</label> <input type="text" id="background" class="form-input svelte-138sfuz" placeholder="https://..."/></div></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="summary">Summary</label> <textarea id="summary" class="form-input form-textarea svelte-138sfuz" rows="3"></textarea></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="franchise">Franchise</label> <input type="text" id="franchise" class="form-input svelte-138sfuz" placeholder="e.g., Lord of the Rings, Star Wars"/></div> <div class="form-row svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label checkbox-label svelte-138sfuz"><input type="checkbox" class="svelte-138sfuz"/> Coming Soon</label> <p class="form-hint svelte-138sfuz">Mark as upcoming release</p></div> <!></div></form>'),op=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Save Changes</button>',1),vp=f('<p class="delete-warning svelte-138sfuz">Are you sure you want to delete <strong> </strong>?</p> <p class="text-muted">This action cannot be undone. All associated torrents will also be removed.</p>',1),cp=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-danger">Delete</button>',1),dp=f('<div class="loading-small svelte-138sfuz">Searching IMDB...</div>'),up=f('<img class="svelte-138sfuz"/>'),pp=f('<div class="no-poster svelte-138sfuz"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="2" width="20" height="20" rx="2"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line></svg></div>'),fp=f('<span class="result-rating svelte-138sfuz"> </span>'),_p=f('<div class="franchise-result-item svelte-138sfuz"><!> <div class="result-info svelte-138sfuz"><span class="result-title svelte-138sfuz"> </span> <span class="result-year svelte-138sfuz"> </span> <!></div> <button class="btn btn-sm btn-primary add-btn svelte-138sfuz" title="Add to franchise">+</button></div>'),mp=f('<div class="franchise-results svelte-138sfuz"><p class="results-label svelte-138sfuz"> </p> <div class="franchise-grid svelte-138sfuz"></div></div>'),hp=f('<p class="text-muted"> </p>'),gp=f('<div class="franchise-modal svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="franchise_name">Franchise Name</label> <div class="search-row svelte-138sfuz"><input type="text" id="franchise_name" class="form-input svelte-138sfuz" placeholder="e.g., Avengers, Spider-Man, Batman"/></div> <p class="text-muted" style="margin-top: 8px; font-size: 13px;">Search IMDB for movies to add to this franchise</p></div> <!></div>'),bp=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary"> </button>',1),yp=f('<form><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="torrent_hash">Torrent Hash / Magnet Link *</label> <input type="text" id="torrent_hash" class="form-input svelte-138sfuz" placeholder="Magnet link or info hash" required/></div> <div class="form-row svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="torrent_quality">Quality</label> <select id="torrent_quality" class="form-input svelte-138sfuz"><option>720p</option><option>1080p</option><option>2160p (4K)</option><option>480p</option></select></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="torrent_type">Type</label> <select id="torrent_type" class="form-input svelte-138sfuz"><option>Web</option><option>BluRay</option><option>HDTV</option><option>WebRip</option></select></div></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="torrent_size">Size</label> <input type="text" id="torrent_size" class="form-input svelte-138sfuz" placeholder="1.5 GB"/></div></form>'),xp=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Add Torrent</button>',1),kp=f('<div class="movie-detail"><header class="page-header"><div class="breadcrumb svelte-138sfuz"><a href="/movies" class="svelte-138sfuz">MOVIES</a> <span class="svelte-138sfuz">/</span> <span class="svelte-138sfuz"> </span></div></header> <!></div> <!> <!> <!> <!>',1);function jl(t,r){if(new.target)return da({component:jl,...t});na(r,!1);let l=Ra(r,"params",12),a=_e(null),o=_e(!0),v=_e(!1),_=_e(!1),h=_e([]),b=_e(!1),w=_e(!1),S=_e(!1),E=_e(!1),C=_e(!1),q=_e(""),M=_e([]),F=_e(!1),m=_e({imdb_code:"",title:"",year:0,rating:0,runtime:0,genres:"",language:"en",summary:"",yt_trailer_code:"",medium_cover_image:"",background_image:"",status:"available",release_date:"",franchise:""}),c=_e({hash:"",quality:"1080p",type:"web",size:""});cs(async()=>{await x()});async function x(){u(o,!0);try{u(a,await Ml(parseInt(l().id))),e(a)&&K()}catch(g){console.error("Failed to load movie:",g)}finally{u(o,!1)}}async function K(){if(e(a)?.franchise){u(b,!0);try{const g=await fetch(`/api/v2/franchise_movies.json?movie_id=${e(a).id}`);if(g.ok){const j=await g.json();u(h,j.data?.movies||[])}}catch(g){console.error("Failed to load franchise movies:",g)}finally{u(b,!1)}}}function Se(){const g=e(a)?.title?.split(/[:\-â]/)[0].trim()||"";u(q,g),u(M,[]),u(C,!0),ke()}async function ke(){if(!e(q).trim()){u(M,[]);return}u(F,!0);try{const g=await fetch(`/admin/api/imdb/search?query=${encodeURIComponent(e(q))}`);if(g.ok){const j=await g.json();u(M,(j.titles||[]).filter(U=>U.type==="movie"&&U.id!==e(a)?.imdb_code).slice(0,12))}}catch(g){console.error("Failed to search franchise:",g)}finally{u(F,!1)}}async function te(){if(!(!e(a)||!e(q).trim()))try{await Pn(e(a).id,{franchise:e(q).trim()}),u(C,!1),await x()}catch(g){console.error("Failed to set franchise:",g)}}async function G(g){if(e(q).trim())try{(await fetch("/api/v2/sync_movie",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imdb_code:g.id,franchise:e(q).trim()})})).ok&&(u(M,e(M).filter(U=>U.id!==g.id)),K())}catch(j){console.error("Failed to add movie:",j)}}async function be(){if(e(a)){u(_,!0);try{const g=await fetch("/api/v2/refresh_movie",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({movie_id:e(a).id})});if(g.ok)await x();else{const j=await g.json();alert("Failed to refresh: "+(j.status_message||"Unknown error"))}}catch(g){console.error("Failed to refresh movie:",g)}finally{u(_,!1)}}}function De(){e(a)&&(u(m,{imdb_code:e(a).imdb_code||"",title:e(a).title,year:e(a).year,rating:e(a).rating||0,runtime:e(a).runtime||0,genres:e(a).genres?.join(", ")||"",language:e(a).language||"en",summary:e(a).summary||"",yt_trailer_code:e(a).yt_trailer_code||"",medium_cover_image:e(a).medium_cover_image||"",background_image:e(a).background_image||"",status:e(a).status||"available",release_date:e(a).release_date||"",franchise:e(a).franchise||""}),u(w,!0))}async function Me(){if(e(m).imdb_code){u(v,!0);try{const g=await fetch(`/admin/api/imdb/title/${e(m).imdb_code}`);if(g.ok){const j=await g.json();P(m,e(m).title=j.primaryTitle||e(m).title),P(m,e(m).year=j.startYear||e(m).year),P(m,e(m).rating=j.rating?.aggregateRating||e(m).rating),P(m,e(m).runtime=j.runtimeSeconds?Math.round(j.runtimeSeconds/60):e(m).runtime),P(m,e(m).genres=j.genres?.join(", ")||e(m).genres),P(m,e(m).summary=j.plot||e(m).summary),P(m,e(m).medium_cover_image=j.primaryImage?.url||e(m).medium_cover_image)}}catch(g){console.error("Failed to fetch from IMDB:",g)}finally{u(v,!1)}}}async function Ze(){if(e(a))try{await Pn(e(a).id,{imdb_code:e(m).imdb_code,title:e(m).title,year:e(m).year,rating:e(m).rating,runtime:e(m).runtime,genres:e(m).genres,language:e(m).language,summary:e(m).summary,yt_trailer_code:e(m).yt_trailer_code,medium_cover_image:e(m).medium_cover_image,background_image:e(m).background_image,status:e(m).status,release_date:e(m).release_date,franchise:e(m).franchise}),u(w,!1),await x()}catch(g){console.error("Failed to update movie:",g)}}async function Ct(){if(e(a))try{await Al(e(a).id),u(S,!1),$l("/movies")}catch(g){console.error("Failed to delete movie:",g)}}async function Ne(){if(e(a))try{(await fetch(`/admin/movies/${e(a).id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:e(c).hash,quality:e(c).quality,type:e(c).type,size:e(c).size})})).ok&&(u(E,!1),u(c,{hash:"",quality:"1080p",type:"web",size:""}),await x())}catch(g){console.error("Failed to add torrent:",g)}}var nt={get params(){return l()},set params(g){l(g),xa()},$set:pa,$on:(g,j)=>ua(r,g,j)};ts();var xt=kp(),kt=ze(xt),_t=n(kt),Lt=n(_t),Rt=n(Lt);Bs(Rt,g=>Os?.(g));var Nt=i(Rt,4),Gt=n(Nt,!0);s(Nt),s(Lt),s(_t);var Ve=i(_t,2);{var Qe=g=>{var j=Qd();d(g,j)},mt=g=>{var j=Bt(),U=ze(j);{var W=Fe=>{var I=rp(),Q=ze(I),ce=n(Q),he=n(ce),ee=n(he),Ye=n(ee,!0);s(ee);var Ee=i(ee,2),Le=i(Ee,2),ye=i(Le,2);s(he),s(ce);var Y=i(ce,2),re=n(Y);{var le=A=>{var D=Kd();z(()=>{Je(D,"src",(e(a),p(()=>e(a).large_cover_image||e(a).medium_cover_image))),Je(D,"alt",(e(a),p(()=>e(a).title)))}),d(A,D)},$e=A=>{var D=Zd();d(A,D)};$(re,A=>{e(a),p(()=>e(a).medium_cover_image||e(a).large_cover_image)?A(le):A($e,!1)})}var k=i(re,2),T=n(k),O=n(T,!0);s(T);var R=i(T,2),N=n(R),X=n(N,!0);s(N);var V=i(N,2);{var se=A=>{var D=Jd(),Z=n(D);s(D),z(()=>y(Z,`${e(a),p(()=>e(a).runtime)??""} min`)),d(A,D)};$(V,A=>{e(a),p(()=>e(a).runtime)&&A(se)})}var xe=i(V,2);{var me=A=>{var D=Xd(),Z=n(D,!0);s(D),z(()=>y(Z,(e(a),p(()=>e(a).mpa_rating)))),d(A,D)};$(xe,A=>{e(a),p(()=>e(a).mpa_rating)&&A(me)})}var oe=i(xe,2);{var pe=A=>{var D=eu(),Z=n(D,!0);s(D),z(Ie=>y(Z,Ie),[()=>(e(a),p(()=>e(a).language.toUpperCase()))]),d(A,D)};$(oe,A=>{e(a),p(()=>e(a).language)&&A(pe)})}var Ce=i(oe,2);{var B=A=>{var D=tu(),Z=n(D,!0);s(D),z(()=>{Je(D,"href",`https://www.imdb.com/title/${e(a),p(()=>e(a).imdb_code)??""}`),y(Z,(e(a),p(()=>e(a).imdb_code)))}),d(A,D)};$(Ce,A=>{e(a),p(()=>e(a).imdb_code)&&A(B)})}s(R);var ge=i(R,2),ie=n(ge);{var ve=A=>{var D=su(),Z=i(n(D),2),Ie=n(Z);s(Z);var Be=i(Z,2);{var bt=qt=>{var dt=au(),lt=n(dt);s(dt),z(()=>y(lt,`(${e(a),p(()=>e(a).imdb_votes)??""})`)),d(qt,dt)};$(Be,qt=>{e(a),p(()=>e(a).imdb_votes)&&qt(bt)})}s(D),z(()=>y(Ie,`${e(a),p(()=>e(a).imdb_rating)??""}/10`)),d(A,D)};$(ie,A=>{e(a),p(()=>e(a).imdb_rating)&&A(ve)})}var H=i(ie,2);{var Pe=A=>{var D=ru();let Z;var Ie=i(n(D),2),Be=n(Ie);s(Ie),s(D),z(()=>{Z=ot(D,1,"rating-badge rating-rt svelte-138sfuz",null,Z,{fresh:e(a).rotten_tomatoes>=60}),y(Be,`${e(a),p(()=>e(a).rotten_tomatoes)??""}%`)}),d(A,D)};$(H,A=>{e(a),p(()=>e(a).rotten_tomatoes)&&A(Pe)})}var Re=i(H,2);{var Ue=A=>{var D=nu();let Z;var Ie=i(n(D),2),Be=n(Ie,!0);s(Ie),s(D),z(()=>{Z=ot(D,1,"rating-badge rating-mc svelte-138sfuz",null,Z,{good:e(a).metacritic>=60}),y(Be,(e(a),p(()=>e(a).metacritic)))}),d(A,D)};$(Re,A=>{e(a),p(()=>e(a).metacritic)&&A(Ue)})}s(ge);var je=i(ge,2);{var He=A=>{var D=lu();st(D,5,()=>(e(a),p(()=>e(a).genres)),at,(Z,Ie)=>{var Be=iu(),bt=n(Be,!0);s(Be),z(()=>y(bt,e(Ie))),d(Z,Be)}),s(D),d(A,D)};$(je,A=>{e(a),p(()=>e(a).genres&&e(a).genres.length>0)&&A(He)})}var Ge=i(je,2);{var ne=A=>{var D=ou(),Z=n(D,!0);s(D),z(()=>y(Z,(e(a),p(()=>e(a).description_full||e(a).summary)))),d(A,D)};$(Ge,A=>{e(a),p(()=>e(a).summary||e(a).description_full)&&A(ne)})}var fe=i(Ge,2);{var Oe=A=>{var D=vu(),Z=n(D);s(D),z(()=>Je(Z,"href",`https://www.youtube.com/watch?v=${e(a),p(()=>e(a).yt_trailer_code)??""}`)),d(A,D)};$(fe,A=>{e(a),p(()=>e(a).yt_trailer_code)&&A(Oe)})}s(k),s(Y),s(Q);var Ke=i(Q,2),Te=i(n(Ke),2),vt=n(Te),Vt=i(n(vt),2),et=n(Vt,!0);s(Vt),s(vt);var ht=i(vt,2);{var Ut=A=>{var D=cu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).title_english)))),d(A,D)};$(ht,A=>{e(a),p(()=>e(a).title_english&&e(a).title_english!==e(a).title)&&A(Ut)})}var Wt=i(ht,2);{var Ft=A=>{var D=du(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).title_long)))),d(A,D)};$(Wt,A=>{e(a),p(()=>e(a).title_long)&&A(Ft)})}var Et=i(Wt,2),wt=i(n(Et),2),Yt=n(wt,!0);s(wt),s(Et);var Qt=i(Et,2);{var rt=A=>{var D=uu(),Z=i(n(D),2),Ie=n(Z);s(Z),s(D),z(Be=>y(Ie,`${e(a),p(()=>e(a).runtime)??""} min (${Be??""}h ${e(a),p(()=>e(a).runtime%60)??""}m)`),[()=>(e(a),p(()=>Math.floor(e(a).runtime/60)))]),d(A,D)};$(Qt,A=>{e(a),p(()=>e(a).runtime)&&A(rt)})}var it=i(Qt,2);{var jt=A=>{var D=pu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).director)))),d(A,D)};$(it,A=>{e(a),p(()=>e(a).director)&&A(jt)})}var Xt=i(it,2);{var We=A=>{var D=fu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(Be=>y(Ie,Be),[()=>(e(a),p(()=>e(a).writers.join(", ")))]),d(A,D)};$(Xt,A=>{e(a),p(()=>e(a).writers&&e(a).writers.length>0)&&A(We)})}var Mt=i(Xt,2);{var gt=A=>{var D=_u(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(Be=>y(Ie,Be),[()=>(e(a),p(()=>e(a).language.toUpperCase()))]),d(A,D)};$(Mt,A=>{e(a),p(()=>e(a).language)&&A(gt)})}var la=i(Mt,2);{var Ga=A=>{var D=mu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).country)))),d(A,D)};$(la,A=>{e(a),p(()=>e(a).country)&&A(Ga)})}var ka=i(la,2);{var as=A=>{var D=hu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).mpa_rating)))),d(A,D)};$(ka,A=>{e(a),p(()=>e(a).mpa_rating)&&A(as)})}var ds=i(ka,2);{var ss=A=>{var D=gu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(Be=>y(Ie,Be),[()=>(e(a),p(()=>e(a).genres.join(", ")))]),d(A,D)};$(ds,A=>{e(a),p(()=>e(a).genres&&e(a).genres.length>0)&&A(ss)})}var rs=i(ds,2);{var tt=A=>{var D=bu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).franchise)))),d(A,D)};$(rs,A=>{e(a),p(()=>e(a).franchise)&&A(tt)})}var fa=i(rs,2);{var Ea=A=>{var D=yu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).awards)))),d(A,D)};$(fa,A=>{e(a),p(()=>e(a).awards)&&A(Ea)})}s(Te),s(Ke);var Kt=i(Ke,2);{var ja=A=>{var D=$u(),Z=n(D),Ie=n(Z);s(Z);var Be=i(Z,2);{var bt=dt=>{var lt=xu();d(dt,lt)},qt=dt=>{var lt=Su(),ut=n(lt);st(ut,5,()=>e(h),at,(yt,zt)=>{var Jt=zu(),Ma=n(Jt);{var sa=va=>{var qa=ku();z(()=>{Je(qa,"src",(e(zt),p(()=>e(zt).medium_cover_image))),Je(qa,"alt",(e(zt),p(()=>e(zt).title)))}),d(va,qa)},oa=va=>{var qa=wu(),Ur=n(qa),gn=n(Ur,!0);s(Ur),s(qa),z(ks=>y(gn,ks),[()=>(e(zt),p(()=>e(zt).title.charAt(0)))]),d(va,qa)};$(Ma,va=>{e(zt),p(()=>e(zt).medium_cover_image)?va(sa):va(oa,!1)})}var za=i(Ma,2),Aa=n(za),Ds=n(Aa,!0);s(Aa);var Is=i(Aa,2),is=n(Is,!0);s(Is),s(za),s(Jt),z(()=>{Je(Jt,"href",`#/movies/${e(zt),p(()=>e(zt).id)??""}`),y(Ds,(e(zt),p(()=>e(zt).title))),y(is,(e(zt),p(()=>e(zt).year)))}),d(yt,Jt)}),s(ut),s(lt),d(dt,lt)};$(Be,dt=>{e(b)?dt(bt):dt(qt,!1)})}s(D),z(()=>y(Ie,`${e(a),p(()=>e(a).franchise)??""} Franchise`)),d(A,D)};$(Kt,A=>{e(a),e(h),p(()=>e(a).franchise&&e(h).length>0)&&A(ja)})}var ns=i(Kt,2);{var Ws=A=>{var D=Eu(),Z=i(n(D),2),Ie=n(Z);{var Be=dt=>{var lt=Cu(),ut=i(n(lt),2),yt=n(ut,!0);s(ut),s(lt),z(()=>y(yt,(e(a),p(()=>e(a).budget)))),d(dt,lt)};$(Ie,dt=>{e(a),p(()=>e(a).budget)&&dt(Be)})}var bt=i(Ie,2);{var qt=dt=>{var lt=Tu(),ut=i(n(lt),2),yt=n(ut,!0);s(ut),s(lt),z(()=>y(yt,(e(a),p(()=>e(a).box_office_gross)))),d(dt,lt)};$(bt,dt=>{e(a),p(()=>e(a).box_office_gross)&&dt(qt)})}s(Z),s(D),d(A,D)};$(ns,A=>{e(a),p(()=>e(a).budget||e(a).box_office_gross)&&A(Ws)})}var Qs=i(ns,2);{var _r=A=>{var D=Pu(),Z=i(n(D),2),Ie=n(Z);{var Be=ut=>{var yt=Au(),zt=i(n(yt),2),Jt=i(n(zt),2),Ma=n(Jt,!0);ct(),s(Jt);var sa=i(Jt,2);{var oa=za=>{var Aa=Mu(),Ds=n(Aa);s(Aa),z(()=>y(Ds,`${e(a),p(()=>e(a).imdb_votes)??""} votes`)),d(za,Aa)};$(sa,za=>{e(a),p(()=>e(a).imdb_votes)&&za(oa)})}s(zt),s(yt),z(()=>y(Ma,(e(a),p(()=>e(a).imdb_rating)))),d(ut,yt)};$(Ie,ut=>{e(a),p(()=>e(a).imdb_rating)&&ut(Be)})}var bt=i(Ie,2);{var qt=ut=>{var yt=Iu();let zt;var Jt=n(yt),Ma=n(Jt);{var sa=va=>{var qa=qu();d(va,qa)},oa=va=>{var qa=Du();d(va,qa)};$(Ma,va=>{e(a),p(()=>e(a).rotten_tomatoes>=60)?va(sa):va(oa,!1)})}s(Jt);var za=i(Jt,2),Aa=i(n(za),2),Ds=n(Aa,!0);ct(),s(Aa);var Is=i(Aa,2),is=n(Is,!0);s(Is),s(za),s(yt),z(()=>{zt=ot(yt,1,"rating-box svelte-138sfuz",null,zt,{"rating-rt-fresh":e(a).rotten_tomatoes>=60,"rating-rt-rotten":e(a).rotten_tomatoes<60}),y(Ds,(e(a),p(()=>e(a).rotten_tomatoes))),y(is,(e(a),p(()=>e(a).rotten_tomatoes>=60?"Fresh":"Rotten")))}),d(ut,yt)};$(bt,ut=>{e(a),p(()=>e(a).rotten_tomatoes)&&ut(qt)})}var dt=i(bt,2);{var lt=ut=>{var yt=Lu();let zt;var Jt=n(yt);let Ma;var sa=n(Jt,!0);s(Jt);var oa=i(Jt,2),za=i(n(oa),2),Aa=n(za);{var Ds=is=>{var va=sr("Generally Favorable");d(is,va)},Is=is=>{var va=Bt(),qa=ze(va);{var Ur=ks=>{var bn=sr("Mixed Reviews");d(ks,bn)},gn=ks=>{var bn=sr("Generally Unfavorable");d(ks,bn)};$(qa,ks=>{e(a),p(()=>e(a).metacritic>=40)?ks(Ur):ks(gn,!1)},!0)}d(is,va)};$(Aa,is=>{e(a),p(()=>e(a).metacritic>=60)?is(Ds):is(Is,!1)})}s(za),s(oa),s(yt),z(()=>{zt=ot(yt,1,"rating-box rating-mc svelte-138sfuz",null,zt,{"mc-good":e(a).metacritic>=60,"mc-mixed":e(a).metacritic>=40&&e(a).metacritic<60,"mc-bad":e(a).metacritic<40}),Ma=ot(Jt,1,"rating-icon mc-score svelte-138sfuz",null,Ma,{"mc-good":e(a).metacritic>=60,"mc-mixed":e(a).metacritic>=40&&e(a).metacritic<60,"mc-bad":e(a).metacritic<40}),y(sa,(e(a),p(()=>e(a).metacritic)))}),d(ut,yt)};$(dt,ut=>{e(a),p(()=>e(a).metacritic)&&ut(lt)})}s(Z),s(D),d(A,D)};$(Qs,A=>{e(a),p(()=>e(a).imdb_rating||e(a).rotten_tomatoes||e(a).metacritic||e(a).rating)&&A(_r)})}var we=i(Qs,2);{var qe=A=>{var D=Fu(),Z=i(n(D),2),Ie=n(Z);{var Be=dt=>{var lt=Ru(),ut=n(lt),yt=n(ut,!0);s(ut),ct(2),s(lt),z(zt=>y(yt,zt),[()=>(e(a),p(()=>e(a).like_count.toLocaleString()))]),d(dt,lt)};$(Ie,dt=>{e(a),p(()=>e(a).like_count)&&dt(Be)})}var bt=i(Ie,2);{var qt=dt=>{var lt=ju(),ut=n(lt),yt=n(ut,!0);s(ut),ct(2),s(lt),z(zt=>y(yt,zt),[()=>(e(a),p(()=>e(a).download_count.toLocaleString()))]),d(dt,lt)};$(bt,dt=>{e(a),p(()=>e(a).download_count)&&dt(qt)})}s(Z),s(D),d(A,D)};$(we,A=>{e(a),p(()=>e(a).like_count||e(a).download_count)&&A(qe)})}var Xe=i(we,2),At=i(n(Xe),2),ta=n(At),_a=i(n(ta),2),As=n(_a,!0);s(_a),s(ta);var aa=i(ta,2);{var Fa=A=>{var D=Bu(),Z=i(n(D),2),Ie=n(Z),Be=n(Ie,!0);s(Ie),s(Z),s(D),z(()=>{Je(Ie,"href",`https://www.imdb.com/title/${e(a),p(()=>e(a).imdb_code)??""}`),y(Be,(e(a),p(()=>e(a).imdb_code)))}),d(A,D)};$(aa,A=>{e(a),p(()=>e(a).imdb_code)&&A(Fa)})}var bs=i(aa,2);{var mr=A=>{var D=Ou(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).slug)))),d(A,D)};$(bs,A=>{e(a),p(()=>e(a).slug)&&A(mr)})}var hr=i(bs,2);{var jr=A=>{var D=Nu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).provider)))),d(A,D)};$(hr,A=>{e(a),p(()=>e(a).provider)&&A(jr)})}var Ks=i(hr,2);{var un=A=>{var D=Vu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).content_type)))),d(A,D)};$(Ks,A=>{e(a),p(()=>e(a).content_type)&&A(un)})}var gr=i(Ks,2);{var pn=A=>{var D=Uu(),Z=i(n(D),2),Ie=n(Z,!0);s(Z),s(D),z(()=>y(Ie,(e(a),p(()=>e(a).date_uploaded)))),d(A,D)};$(gr,A=>{e(a),p(()=>e(a).date_uploaded)&&A(pn)})}var Fr=i(gr,2);{var Br=A=>{var D=Yu(),Z=i(n(D),2),Ie=n(Z),Be=n(Ie,!0);s(Ie),s(Z),s(D),z(()=>{Je(Ie,"href",`https://www.youtube.com/watch?v=${e(a),p(()=>e(a).yt_trailer_code)??""}`),y(Be,(e(a),p(()=>e(a).yt_trailer_code)))}),d(A,D)};$(Fr,A=>{e(a),p(()=>e(a).yt_trailer_code)&&A(Br)})}s(At),s(Xe);var br=i(Xe,2),yr=n(br),fn=n(yr);s(yr);var Or=i(yr,2),wa=n(Or);{var ys=A=>{var D=Hu(),Z=i(n(D),2),Ie=n(Z);s(Z),s(D),z(()=>{Je(Z,"href",(e(a),p(()=>e(a).medium_cover_image))),Je(Ie,"src",(e(a),p(()=>e(a).medium_cover_image)))}),d(A,D)};$(wa,A=>{e(a),p(()=>e(a).medium_cover_image)&&A(ys)})}var xs=i(wa,2);{var Zt=A=>{var D=Gu(),Z=i(n(D),2),Ie=n(Z);s(Z),s(D),z(()=>{Je(Z,"href",(e(a),p(()=>e(a).background_image))),Je(Ie,"src",(e(a),p(()=>e(a).background_image)))}),d(A,D)};$(xs,A=>{e(a),p(()=>e(a).background_image)&&A(Zt)})}var qs=i(xs,2);{var xr=A=>{var D=Ku(),Z=ze(D);st(Z,1,()=>(e(a),p(()=>e(a).all_images.slice(0,12))),at,(bt,qt,dt)=>{var lt=Wu(),ut=n(lt);ut.textContent=`Image ${dt+1}`;var yt=i(ut,2),zt=n(yt);Je(zt,"alt",`Image ${dt+1}`),s(yt),s(lt),z(()=>{Je(yt,"href",e(qt)),Je(zt,"src",e(qt))}),d(bt,lt)});var Ie=i(Z,2);{var Be=bt=>{var qt=Qu(),dt=n(qt),lt=n(dt);s(dt),s(qt),z(()=>y(lt,`+${e(a),p(()=>e(a).all_images.length-12)??""} more`)),d(bt,qt)};$(Ie,bt=>{e(a),p(()=>e(a).all_images.length>12)&&bt(Be)})}d(A,D)};$(qs,A=>{e(a),p(()=>e(a).all_images&&e(a).all_images.length>0)&&A(xr)})}s(Or),s(br);var Nr=i(br,2);{var kr=A=>{var D=tp(),Z=i(n(D),2);st(Z,5,()=>(e(a),p(()=>e(a).cast)),at,(Ie,Be)=>{var bt=ep(),qt=n(bt);{var dt=sa=>{var oa=Zu();z(()=>{Je(oa,"src",(e(Be),p(()=>e(Be).url_small_image))),Je(oa,"alt",(e(Be),p(()=>e(Be).name)))}),d(sa,oa)},lt=sa=>{var oa=Ju();d(sa,oa)};$(qt,sa=>{e(Be),p(()=>e(Be).url_small_image)?sa(dt):sa(lt,!1)})}var ut=i(qt,2),yt=n(ut),zt=n(yt,!0);s(yt);var Jt=i(yt,2);{var Ma=sa=>{var oa=Xu(),za=n(oa,!0);s(oa),z(()=>y(za,(e(Be),p(()=>e(Be).character_name)))),d(sa,oa)};$(Jt,sa=>{e(Be),p(()=>e(Be).character_name)&&sa(Ma)})}s(ut),s(bt),z(()=>y(zt,(e(Be),p(()=>e(Be).name)))),d(Ie,bt)}),s(Z),s(D),d(A,D)};$(Nr,A=>{e(a),p(()=>e(a).cast&&e(a).cast.length>0)&&A(kr)})}var Zs=i(Nr,2),wr=n(Zs),Vr=i(n(wr),2);s(wr);var _n=i(wr,2);{var mn=A=>{var D=Bt(),Z=ze(D);st(Z,1,()=>(e(a),p(()=>e(a).torrents)),at,(Ie,Be)=>{var bt=ap(),qt=n(bt),dt=n(qt,!0);s(qt);var lt=i(qt,2),ut=n(lt,!0);s(lt);var yt=i(lt,2),zt=n(yt,!0);s(yt);var Jt=i(yt,2),Ma=n(Jt);s(Jt),s(bt),z(sa=>{ot(qt,1,`torrent-quality badge badge-${e(Be),p(()=>e(Be).quality)??""}`,"svelte-138sfuz"),y(dt,(e(Be),p(()=>e(Be).quality))),y(ut,(e(Be),p(()=>e(Be).type))),y(zt,(e(Be),p(()=>e(Be).size))),Je(Jt,"title",(e(Be),p(()=>e(Be).hash))),y(Ma,`${sa??""}...`)},[()=>(e(Be),p(()=>e(Be).hash.substring(0,8)))]),d(Ie,bt)}),d(A,D)},hn=A=>{var D=sp();d(A,D)};$(_n,A=>{e(a),p(()=>e(a).torrents&&e(a).torrents.length>0)?A(mn):A(hn,!1)})}s(Zs),z(()=>{ee.disabled=(e(_),e(a),p(()=>e(_)||!e(a)?.imdb_code)),y(Ye,e(_)?"REFRESHING...":"REFRESH DATA"),y(O,(e(a),p(()=>e(a).title))),y(X,(e(a),p(()=>e(a).year))),y(et,(e(a),p(()=>e(a).title))),y(Yt,(e(a),p(()=>e(a).year))),y(As,(e(a),p(()=>e(a).id))),y(fn,`Images (${e(a),p(()=>(e(a).all_images?.length||0)+(e(a).medium_cover_image?1:0)+(e(a).background_image?1:0))??""})`)}),J("click",ee,be),J("click",Ee,Se),J("click",Le,De),J("click",ye,()=>u(S,!0)),J("click",Vr,()=>u(E,!0)),d(Fe,I)},Ae=Fe=>{var I=np(),Q=i(n(I),2);Bs(Q,ce=>Os?.(ce)),s(I),d(Fe,I)};$(U,Fe=>{e(a)?Fe(W):Fe(Ae,!1)},!0)}d(g,j)};$(Ve,g=>{e(o)?g(Qe):g(mt,!1)})}s(kt);var Tt=i(kt,2);ca(Tt,{title:"Edit Movie",size:"lg",get open(){return e(w)},set open(g){u(w,g)},$$events:{close:()=>u(w,!1)},children:(g,j)=>{var U=lp(),W=n(U),Ae=n(W),Fe=i(n(Ae),2),I=n(Fe);de(I);var Q=i(I,2),ce=n(Q,!0);s(Q),s(Fe),s(Ae);var he=i(Ae,2),ee=i(n(he),2);de(ee),s(he),s(W);var Ye=i(W,2),Ee=n(Ye),Le=i(n(Ee),2);de(Le),s(Ee);var ye=i(Ee,2),Y=i(n(ye),2);de(Y),s(ye);var re=i(ye,2),le=i(n(re),2);de(le),s(re);var $e=i(re,2),k=i(n($e),2);z(()=>{e(m),$a(()=>{})});var T=n(k);T.value=T.__value="en";var O=i(T);O.value=O.__value="es";var R=i(O);R.value=R.__value="fr";var N=i(R);N.value=N.__value="de";var X=i(N);X.value=X.__value="it";var V=i(X);V.value=V.__value="sq",s(k),s($e),s(Ye);var se=i(Ye,2),xe=i(n(se),2);de(xe),s(se);var me=i(se,2),oe=n(me),pe=i(n(oe),2);de(pe),s(oe);var Ce=i(oe,2),B=i(n(Ce),2);de(B),s(Ce),s(me);var ge=i(me,2),ie=i(n(ge),2);Hs(ie),s(ge);var ve=i(ge,2),H=i(n(ve),2);de(H),s(ve);var Pe=i(ve,2),Re=n(Pe),Ue=n(Re),je=n(Ue);de(je),ct(),s(Ue),ct(2),s(Re);var He=i(Re,2);{var Ge=ne=>{var fe=ip(),Oe=i(n(fe),2);de(Oe),s(fe),ue(Oe,()=>e(m).release_date,Ke=>P(m,e(m).release_date=Ke)),d(ne,fe)};$(He,ne=>{e(m),p(()=>e(m).status==="coming_soon")&&ne(Ge)})}s(Pe),s(U),z(()=>{Q.disabled=(e(v),e(m),p(()=>e(v)||!e(m).imdb_code)),y(ce,e(v)?"Updating...":"Update"),rr(je,(e(m),p(()=>e(m).status==="coming_soon")))}),ue(I,()=>e(m).imdb_code,ne=>P(m,e(m).imdb_code=ne)),J("click",Q,Me),ue(ee,()=>e(m).title,ne=>P(m,e(m).title=ne)),ue(Le,()=>e(m).year,ne=>P(m,e(m).year=ne)),ue(Y,()=>e(m).rating,ne=>P(m,e(m).rating=ne)),ue(le,()=>e(m).runtime,ne=>P(m,e(m).runtime=ne)),Ht(k,()=>e(m).language,ne=>P(m,e(m).language=ne)),ue(xe,()=>e(m).genres,ne=>P(m,e(m).genres=ne)),ue(pe,()=>e(m).medium_cover_image,ne=>P(m,e(m).medium_cover_image=ne)),ue(B,()=>e(m).background_image,ne=>P(m,e(m).background_image=ne)),ue(ie,()=>e(m).summary,ne=>P(m,e(m).summary=ne)),ue(H,()=>e(m).franchise,ne=>P(m,e(m).franchise=ne)),J("change",je,ne=>P(m,e(m).status=ne.currentTarget.checked?"coming_soon":"available")),J("submit",U,Ja(Ze)),d(g,U)},$$slots:{default:!0,footer:(g,j)=>{var U=op(),W=ze(U),Ae=i(W,2);J("click",W,()=>u(w,!1)),J("click",Ae,Ze),d(g,U)}},$$legacy:!0});var Pt=i(Tt,2);ca(Pt,{title:"Delete Movie",size:"sm",get open(){return e(S)},set open(g){u(S,g)},$$events:{close:()=>u(S,!1)},children:(g,j)=>{var U=vp(),W=ze(U),Ae=i(n(W)),Fe=n(Ae,!0);s(Ae),ct(),s(W),ct(2),z(()=>y(Fe,(e(a),p(()=>e(a)?.title)))),d(g,U)},$$slots:{default:!0,footer:(g,j)=>{var U=cp(),W=ze(U),Ae=i(W,2);J("click",W,()=>u(S,!1)),J("click",Ae,Ct),d(g,U)}},$$legacy:!0});var L=i(Pt,2);ca(L,{title:"Find Franchise",size:"lg",get open(){return e(C)},set open(g){u(C,g)},$$events:{close:()=>u(C,!1)},children:(g,j)=>{var U=gp(),W=n(U),Ae=i(n(W),2),Fe=n(Ae);de(Fe),s(Ae),ct(2),s(W);var I=i(W,2);{var Q=he=>{var ee=dp();d(he,ee)},ce=he=>{var ee=Bt(),Ye=ze(ee);{var Ee=ye=>{var Y=mp(),re=n(Y),le=n(re);s(re);var $e=i(re,2);st($e,5,()=>e(M),at,(k,T)=>{var O=_p(),R=n(O);{var N=ge=>{var ie=up();z(()=>{Je(ie,"src",(e(T),p(()=>e(T).primaryImage.url))),Je(ie,"alt",(e(T),p(()=>e(T).primaryTitle)))}),d(ge,ie)},X=ge=>{var ie=pp();d(ge,ie)};$(R,ge=>{e(T),p(()=>e(T).primaryImage?.url)?ge(N):ge(X,!1)})}var V=i(R,2),se=n(V),xe=n(se,!0);s(se);var me=i(se,2),oe=n(me,!0);s(me);var pe=i(me,2);{var Ce=ge=>{var ie=fp(),ve=n(ie);s(ie),z(()=>y(ve,`IMDB: ${e(T),p(()=>e(T).rating.aggregateRating)??""}`)),d(ge,ie)};$(pe,ge=>{e(T),p(()=>e(T).rating?.aggregateRating)&&ge(Ce)})}s(V);var B=i(V,2);s(O),z(()=>{y(xe,(e(T),p(()=>e(T).primaryTitle))),y(oe,(e(T),p(()=>e(T).startYear)))}),J("click",B,()=>G(e(T))),d(k,O)}),s($e),s(Y),z(()=>y(le,`Movies from IMDB (${e(M),p(()=>e(M).length)??""}):`)),d(ye,Y)},Le=ye=>{var Y=Bt(),re=ze(Y);{var le=$e=>{var k=hp(),T=n(k);s(k),z(()=>y(T,`No movies found matching "${e(q)??""}"`)),d($e,k)};$(re,$e=>{e(q),p(()=>e(q).trim())&&$e(le)},!0)}d(ye,Y)};$(Ye,ye=>{e(M),p(()=>e(M).length>0)?ye(Ee):ye(Le,!1)},!0)}d(he,ee)};$(I,he=>{e(F)?he(Q):he(ce,!1)})}s(U),ue(Fe,()=>e(q),he=>u(q,he)),J("input",Fe,()=>ke()),d(g,U)},$$slots:{default:!0,footer:(g,j)=>{var U=bp(),W=ze(U),Ae=i(W,2),Fe=n(Ae);s(Ae),z(I=>{Ae.disabled=I,y(Fe,`Set "${e(q)??""}" as Franchise`)},[()=>(e(q),p(()=>!e(q).trim()))]),J("click",W,()=>u(C,!1)),J("click",Ae,te),d(g,U)}},$$legacy:!0});var ae=i(L,2);return ca(ae,{title:"Add Torrent",size:"md",get open(){return e(E)},set open(g){u(E,g)},$$events:{close:()=>u(E,!1)},children:(g,j)=>{var U=yp(),W=n(U),Ae=i(n(W),2);de(Ae),s(W);var Fe=i(W,2),I=n(Fe),Q=i(n(I),2);z(()=>{e(c),$a(()=>{})});var ce=n(Q);ce.value=ce.__value="720p";var he=i(ce);he.value=he.__value="1080p";var ee=i(he);ee.value=ee.__value="2160p";var Ye=i(ee);Ye.value=Ye.__value="480p",s(Q),s(I);var Ee=i(I,2),Le=i(n(Ee),2);z(()=>{e(c),$a(()=>{})});var ye=n(Le);ye.value=ye.__value="web";var Y=i(ye);Y.value=Y.__value="bluray";var re=i(Y);re.value=re.__value="hdtv";var le=i(re);le.value=le.__value="webrip",s(Le),s(Ee),s(Fe);var $e=i(Fe,2),k=i(n($e),2);de(k),s($e),s(U),ue(Ae,()=>e(c).hash,T=>P(c,e(c).hash=T)),Ht(Q,()=>e(c).quality,T=>P(c,e(c).quality=T)),Ht(Le,()=>e(c).type,T=>P(c,e(c).type=T)),ue(k,()=>e(c).size,T=>P(c,e(c).size=T)),J("submit",U,Ja(Ne)),d(g,U)},$$slots:{default:!0,footer:(g,j)=>{var U=xp(),W=ze(U),Ae=i(W,2);J("click",W,()=>u(E,!1)),J("click",Ae,Ne),d(g,U)}},$$legacy:!0}),z(()=>y(Gt,(e(a),p(()=>e(a)?.title||"Loading...")))),d(t,xt),ia(nt)}var wp=f("<option> </option>"),zp=f("<button> </button>"),Sp=f('<div class="pagination-controls svelte-aafecq"><button class="pagination-btn svelte-aafecq" title="First page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg></button> <button class="pagination-btn svelte-aafecq" title="Previous page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg></button> <!> <button class="pagination-btn svelte-aafecq" title="Next page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg></button> <button class="pagination-btn svelte-aafecq" title="Last page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg></button></div>'),$p=f('<div class="pagination svelte-aafecq"><div class="pagination-left svelte-aafecq"><span class="pagination-info svelte-aafecq"> </span> <div class="per-page svelte-aafecq"><span>per page:</span> <select class="svelte-aafecq"></select></div></div> <!></div>'),Cp=f('<div class="loading"><div class="spinner"></div></div>'),Tp=f('<div class="empty-state"><p>No TV shows found</p></div>'),Ep=f('<img class="poster"/>'),Mp=f('<div class="poster poster-placeholder svelte-aafecq"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg></div>'),Ap=f('<div class="rating-badge svelte-aafecq"><span class="score svelte-aafecq"> </span></div>'),qp=f('<span class="text-muted">-</span>'),Dp=f('<tr><td><!></td><td><a class="series-title svelte-aafecq"> </a></td><td> </td><td> </td><td><!></td><td><span> </span></td><td><div class="actions"><button class="btn btn-sm btn-secondary">EDIT</button> <button class="btn btn-sm btn-danger">DELETE</button></div></td></tr>'),Ip=f('<!> <div class="card"><table class="data-table"><thead><tr><th>Poster</th><th>Title</th><th>Year</th><th>Seasons</th><th>Rating</th><th>Status</th><th style="text-align: right;">Actions</th></tr></thead><tbody></tbody></table></div> <!>',1),Lp=f('<p class="form-error svelte-aafecq"> </p>'),Pp=f('<img alt="" class="suggestion-poster svelte-aafecq"/>'),Rp=f('<div class="suggestion-poster suggestion-poster-empty svelte-aafecq"></div>'),jp=f('<span class="library-badge svelte-aafecq">IN LIBRARY</span>'),Fp=f('<button type="button"><!> <div class="suggestion-info svelte-aafecq"><span class="suggestion-title svelte-aafecq"> <!></span> <span class="suggestion-year svelte-aafecq"> </span></div></button>'),Bp=f('<div class="suggestions-dropdown svelte-aafecq"></div>'),Op=f('<form><div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="imdb_code">IMDB Code</label> <div class="input-with-button svelte-aafecq"><input type="text" id="imdb_code" class="form-input svelte-aafecq" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary svelte-aafecq"> </button></div> <!></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="title">Title *</label> <div class="autocomplete-wrapper svelte-aafecq"><input type="text" id="title" class="form-input svelte-aafecq" autocomplete="off" required/> <!></div></div></div> <div class="form-row form-row-4 svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="year">Year</label> <input type="number" id="year" class="form-input svelte-aafecq"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="rating">Rating</label> <input type="number" id="rating" class="form-input svelte-aafecq" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="runtime">Runtime (min)</label> <input type="number" id="runtime" class="form-input svelte-aafecq" min="0"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="total_seasons">Seasons</label> <input type="number" id="total_seasons" class="form-input svelte-aafecq" min="1"/></div></div> <div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="genres">Genres</label> <input type="text" id="genres" class="form-input svelte-aafecq" placeholder="Drama, Thriller, Crime"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="status">Status</label> <select id="status" class="form-input svelte-aafecq"><option>Continuing</option><option>Ended</option></select></div></div> <div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="poster">Poster Image URL</label> <input type="text" id="poster" class="form-input svelte-aafecq" placeholder="https://..."/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="background">Background Image URL</label> <input type="text" id="background" class="form-input svelte-aafecq" placeholder="https://..."/></div></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="network">Network</label> <input type="text" id="network" class="form-input svelte-aafecq" placeholder="HBO, Netflix, AMC..."/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="summary">Summary</label> <textarea id="summary" class="form-input form-textarea svelte-aafecq" rows="3"></textarea></div></form>'),Np=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Add Series</button>',1),Vp=f('<p class="form-error svelte-aafecq"> </p>'),Up=f('<form><div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_imdb_code">IMDB Code</label> <div class="input-with-button svelte-aafecq"><input type="text" id="edit_imdb_code" class="form-input svelte-aafecq" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary svelte-aafecq"> </button></div> <!></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_title">Title *</label> <input type="text" id="edit_title" class="form-input svelte-aafecq" required/></div></div> <div class="form-row form-row-4 svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_year">Year</label> <input type="number" id="edit_year" class="form-input svelte-aafecq"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_rating">Rating</label> <input type="number" id="edit_rating" class="form-input svelte-aafecq" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_runtime">Runtime (min)</label> <input type="number" id="edit_runtime" class="form-input svelte-aafecq" min="0"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_total_seasons">Seasons</label> <input type="number" id="edit_total_seasons" class="form-input svelte-aafecq" min="1"/></div></div> <div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_genres">Genres</label> <input type="text" id="edit_genres" class="form-input svelte-aafecq" placeholder="Drama, Thriller"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_status">Status</label> <select id="edit_status" class="form-input svelte-aafecq"><option>Continuing</option><option>Ended</option></select></div></div> <div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_poster">Poster Image URL</label> <input type="text" id="edit_poster" class="form-input svelte-aafecq" placeholder="https://..."/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_background">Background Image URL</label> <input type="text" id="edit_background" class="form-input svelte-aafecq" placeholder="https://..."/></div></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_network">Network</label> <input type="text" id="edit_network" class="form-input svelte-aafecq" placeholder="HBO, Netflix, AMC..."/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_summary">Summary</label> <textarea id="edit_summary" class="form-input form-textarea svelte-aafecq" rows="3"></textarea></div></form>'),Yp=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Save Changes</button>',1),Hp=f('<p class="delete-warning svelte-aafecq">Are you sure you want to delete <strong> </strong>?</p> <p class="text-muted">This action cannot be undone. All episodes and torrents will also be removed.</p>',1),Gp=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-danger">Delete</button>',1),Wp=f('<div class="tvshows-page"><header class="page-header"><h1 class="page-title">TV SHOWS</h1> <div class="page-actions"><div class="search-box"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input type="text" placeholder="Search series..."/></div> <button class="btn btn-primary">ADD</button></div></header> <!></div> <!> <!> <!>',1);function Fl(t,r){if(new.target)return da({component:Fl,...t});na(r,!1);const l=_e(),a=_e(),o=_e(),v=I=>{var Q=$p(),ce=n(Q),he=n(ce),ee=n(he);s(he);var Ye=i(he,2),Ee=i(n(Ye),2);z(()=>{e(E),$a(()=>{})}),st(Ee,5,()=>C,at,(Y,re)=>{var le=wp(),$e=n(le,!0);s(le);var k={};z(()=>{y($e,e(re)),k!==(k=e(re))&&(le.value=(le.__value=e(re))??"")}),d(Y,le)}),s(Ee),s(Ye),s(ce);var Le=i(ce,2);{var ye=Y=>{var re=Sp(),le=n(re),$e=i(le,2),k=i($e,2);st(k,1,()=>p(te),at,(R,N)=>{var X=zp();let V;var se=n(X,!0);s(X),z(()=>{V=ot(X,1,"pagination-btn svelte-aafecq",null,V,{active:e(N)===e(S)}),y(se,e(N))}),J("click",X,()=>Se(e(N))),d(R,X)});var T=i(k,2),O=i(T,2);s(re),z(()=>{le.disabled=e(S)===1,$e.disabled=e(S)===1,T.disabled=e(S)===e(l),O.disabled=e(S)===e(l)}),J("click",le,()=>Se(1)),J("click",$e,()=>Se(e(S)-1)),J("click",T,()=>Se(e(S)+1)),J("click",O,()=>Se(e(l))),d(Y,re)};$(Le,Y=>{e(l)>1&&Y(ye)})}s(Q),z(Y=>y(ee,`Showing ${e(a)??""}-${e(o)??""} of ${Y??""}`),[()=>(e(h),p(()=>e(h).toLocaleString()))]),Ht(Ee,()=>e(E),Y=>u(E,Y)),J("change",Ee,()=>ke(e(E))),d(I,Q)};let _=_e([]),h=_e(0),b=_e(!0),w=_e(""),S=_e(1),E=_e(20);const C=[10,20,50,100];let q=_e(!1),M=_e(!1),F=_e(!1),m=_e(null),c=_e({imdb_code:"",title:"",year:new Date().getFullYear(),rating:0,runtime:0,genres:"",summary:"",poster_image:"",background_image:"",total_seasons:1,status:"Continuing",network:""});cs(async()=>{await x()});async function x(){u(b,!0);try{const I=await Gv({page:e(S),limit:e(E),search:e(w)||void 0});u(_,I.series),u(h,I.total)}catch(I){console.error("Failed to load series:",I)}finally{u(b,!1)}}function K(){u(S,1),x()}function Se(I){I>=1&&I<=e(l)&&(u(S,I),x())}function ke(I){u(E,I),u(S,1),x()}function te(){const I=[];let ce=Math.max(1,e(S)-Math.floor(2.5)),he=Math.min(e(l),ce+5-1);he-ce+1<5&&(ce=Math.max(1,he-5+1));for(let ee=ce;ee<=he;ee++)I.push(ee);return I}function G(){u(c,{imdb_code:"",title:"",year:new Date().getFullYear(),rating:0,runtime:0,genres:"",summary:"",poster_image:"",background_image:"",total_seasons:1,status:"Continuing",network:""}),u(q,!0)}function be(I){u(m,I),u(c,{imdb_code:I.imdb_code||"",title:I.title,year:I.year,rating:I.rating||0,runtime:I.runtime||0,genres:I.genres?.join(", ")||"",summary:I.summary||"",poster_image:I.poster_image||"",background_image:I.background_image||"",total_seasons:I.total_seasons||1,status:I.status||"Continuing",network:I.network||""}),u(M,!0)}function De(I){u(m,I),u(F,!0)}async function Me(){try{(await fetch("/admin/series",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({imdb_code:e(c).imdb_code,title:e(c).title,year:String(e(c).year),rating:String(e(c).rating),runtime:String(e(c).runtime),genres:e(c).genres,summary:e(c).summary,poster_image:e(c).poster_image,background_image:e(c).background_image,total_seasons:String(e(c).total_seasons),status:e(c).status,network:e(c).network})})).ok&&(u(q,!1),u(S,1),x())}catch(I){console.error("Failed to add series:",I)}}async function Ze(){if(e(m))try{await Dl(e(m).id,{imdb_code:e(c).imdb_code,title:e(c).title,year:e(c).year,rating:e(c).rating,runtime:e(c).runtime,genres:e(c).genres,summary:e(c).summary,poster_image:e(c).poster_image,background_image:e(c).background_image,total_seasons:e(c).total_seasons,status:e(c).status,network:e(c).network}),u(M,!1),x()}catch(I){console.error("Failed to update series:",I)}}async function Ct(){if(e(m))try{await ql(e(m).id),u(F,!1),x()}catch(I){console.error("Failed to delete series:",I)}}let Ne=_e(!1),nt=_e(null),xt=_e([]),kt=_e(!1),_t;async function Lt(I){if(I.length<2){u(xt,[]);return}clearTimeout(_t),_t=setTimeout(async()=>{try{const Q=I.toLowerCase(),[ce,he]=await Promise.all([fetch(`/api/v2/list_series.json?query_term=${encodeURIComponent(I)}&limit=5`),fetch(`/admin/api/imdb/search?query=${encodeURIComponent(I)}`)]),ee=[],Ye=[],Ee=new Set;if(ce.ok){const ye=(await ce.json()).data?.series||[];for(const Y of ye)Y.imdb_code&&Ee.add(Y.imdb_code),Ye.push({id:Y.imdb_code||`local-${Y.id}`,title:Y.title,year:String(Y.year),poster:Y.poster_image||"",inLibrary:!0,seriesId:Y.id})}if(he.ok){const Le=await he.json();for(const ye of(Le.titles||[]).slice(0,10)){const Y=(ye.type||ye.titleType||"").toLowerCase();!Y.includes("series")&&!Y.includes("tv")||Ee.has(ye.id)||ee.push({id:ye.id,title:ye.primaryTitle,year:ye.startYear?String(ye.startYear):"",poster:ye.primaryImage?.url||"",inLibrary:!1})}}ee.sort((Le,ye)=>{const Y=Le.title.toLowerCase(),re=ye.title.toLowerCase(),le=Y===Q,$e=re===Q,k=Y.startsWith(Q),T=re.startsWith(Q);return le&&!$e?-1:$e&&!le?1:k&&!T?-1:T&&!k?1:0}),u(xt,[...ee,...Ye].slice(0,10)),u(kt,e(xt).length>0)}catch(Q){console.error("Search failed:",Q)}},300)}async function Rt(I){if(u(kt,!1),u(xt,[]),I.inLibrary&&I.seriesId){const Q=e(_).find(ce=>ce.id===I.seriesId);if(Q){u(q,!1),be(Q);return}}if(I.id.startsWith("tt"))try{const Q=await Qv(I.id);if(Q.exists&&Q.series){u(q,!1),be(Q.series);return}}catch(Q){console.error("Failed to check existing series:",Q)}P(c,e(c).imdb_code=I.id),P(c,e(c).title=I.title),P(c,e(c).year=parseInt(I.year)||new Date().getFullYear()),Nt()}async function Nt(){if(e(c).imdb_code){u(Ne,!0),u(nt,null);try{const I=await fetch(`/admin/api/imdb/title/${e(c).imdb_code}`);if(I.ok){const Q=await I.json();console.log("IMDB data:",Q);const ce=(Q.type||Q.titleType||"").toLowerCase();if(ce==="movie"||ce==="short"||ce==="video"){u(nt,`"${Q.primaryTitle||Q.title}" is a Movie. Add it in the Movies section instead.`),u(Ne,!1);return}u(nt,null),P(c,e(c).title=Q.primaryTitle||e(c).title),P(c,e(c).year=Q.startYear||e(c).year),P(c,e(c).rating=Q.rating?.aggregateRating||e(c).rating),P(c,e(c).runtime=Q.runtimeSeconds?Math.round(Q.runtimeSeconds/60):e(c).runtime),P(c,e(c).genres=Q.genres?.join(", ")||e(c).genres),P(c,e(c).summary=Q.plot||e(c).summary),P(c,e(c).poster_image=Q.primaryImage?.url||e(c).poster_image),Q.totalSeasons&&P(c,e(c).total_seasons=Q.totalSeasons),Q.endYear?P(c,e(c).status="Ended"):P(c,e(c).status="Continuing")}}catch(I){console.error("Failed to fetch from IMDB:",I),u(nt,"Failed to fetch from IMDB")}finally{u(Ne,!1)}}}js(()=>(e(h),e(E)),()=>{u(l,Math.ceil(e(h)/e(E)))}),js(()=>(e(h),e(S),e(E)),()=>{u(a,e(h)>0?(e(S)-1)*e(E)+1:0)}),js(()=>(e(S),e(E),e(h)),()=>{u(o,Math.min(e(S)*e(E),e(h)))}),Qn();var Gt={$set:pa,$on:(I,Q)=>ua(r,I,Q)};ts();var Ve=Wp(),Qe=ze(Ve),mt=n(Qe),Tt=i(n(mt),2),Pt=n(Tt),L=i(n(Pt),2);de(L),s(Pt);var ae=i(Pt,2);s(Tt),s(mt);var g=i(mt,2);{var j=I=>{var Q=Cp();d(I,Q)},U=I=>{var Q=Bt(),ce=ze(Q);{var he=Ye=>{var Ee=Tp();d(Ye,Ee)},ee=Ye=>{var Ee=Ip(),Le=ze(Ee);v(Le);var ye=i(Le,2),Y=n(ye),re=i(n(Y));st(re,5,()=>e(_),at,($e,k)=>{var T=Dp(),O=n(T),R=n(O);{var N=ne=>{var fe=Ep();z(()=>{Je(fe,"src",(e(k),p(()=>e(k).poster_image))),Je(fe,"alt",(e(k),p(()=>e(k).title)))}),d(ne,fe)},X=ne=>{var fe=Mp();d(ne,fe)};$(R,ne=>{e(k),p(()=>e(k).poster_image)?ne(N):ne(X,!1)})}s(O);var V=i(O),se=n(V),xe=n(se,!0);s(se),Bs(se,ne=>Os?.(ne)),s(V);var me=i(V),oe=n(me,!0);s(me);var pe=i(me),Ce=n(pe,!0);s(pe);var B=i(pe),ge=n(B);{var ie=ne=>{var fe=Ap(),Oe=n(fe),Ke=n(Oe,!0);s(Oe),s(fe),z(Te=>y(Ke,Te),[()=>(e(k),p(()=>e(k).rating.toFixed(1)))]),d(ne,fe)},ve=ne=>{var fe=qp();d(ne,fe)};$(ge,ne=>{e(k),p(()=>e(k).rating)?ne(ie):ne(ve,!1)})}s(B);var H=i(B),Pe=n(H),Re=n(Pe,!0);s(Pe),s(H);var Ue=i(H),je=n(Ue),He=n(je),Ge=i(He,2);s(je),s(Ue),s(T),z(ne=>{Je(se,"href",`/tvshows/${e(k),p(()=>e(k).id)??""}`),y(xe,(e(k),p(()=>e(k).title))),y(oe,(e(k),p(()=>e(k).year))),y(Ce,(e(k),p(()=>e(k).total_seasons))),ot(Pe,1,`status status-${ne??""}`,"svelte-aafecq"),y(Re,(e(k),p(()=>e(k).status)))},[()=>(e(k),p(()=>e(k).status?.toLowerCase()))]),J("click",He,()=>be(e(k))),J("click",Ge,()=>De(e(k))),d($e,T)}),s(re),s(Y),s(ye);var le=i(ye,2);v(le),d(Ye,Ee)};$(ce,Ye=>{e(_),p(()=>e(_).length===0)?Ye(he):Ye(ee,!1)},!0)}d(I,Q)};$(g,I=>{e(b)?I(j):I(U,!1)})}s(Qe);var W=i(Qe,2);ca(W,{title:"Add TV Series",size:"lg",get open(){return e(q)},set open(I){u(q,I)},$$events:{close:()=>u(q,!1)},children:(I,Q)=>{var ce=Op(),he=n(ce),ee=n(he),Ye=i(n(ee),2),Ee=n(Ye);de(Ee);var Le=i(Ee,2),ye=n(Le,!0);s(Le),s(Ye);var Y=i(Ye,2);{var re=Te=>{var vt=Lp(),Vt=n(vt,!0);s(vt),z(()=>y(Vt,e(nt))),d(Te,vt)};$(Y,Te=>{e(nt)&&Te(re)})}s(ee);var le=i(ee,2),$e=i(n(le),2),k=n($e);de(k);var T=i(k,2);{var O=Te=>{var vt=Bp();st(vt,5,()=>e(xt),at,(Vt,et)=>{var ht=Fp();let Ut;var Wt=n(ht);{var Ft=We=>{var Mt=Pp();z(()=>Je(Mt,"src",(e(et),p(()=>e(et).poster)))),d(We,Mt)},Et=We=>{var Mt=Rp();d(We,Mt)};$(Wt,We=>{e(et),p(()=>e(et).poster)?We(Ft):We(Et,!1)})}var wt=i(Wt,2),Yt=n(wt),Qt=n(Yt),rt=i(Qt);{var it=We=>{var Mt=jp();d(We,Mt)};$(rt,We=>{e(et),p(()=>e(et).inLibrary)&&We(it)})}s(Yt);var jt=i(Yt,2),Xt=n(jt);s(jt),s(wt),s(ht),z(()=>{Ut=ot(ht,1,"suggestion-item svelte-aafecq",null,Ut,{"in-library":e(et).inLibrary}),y(Qt,`${e(et),p(()=>e(et).title)??""} `),y(Xt,`${e(et),p(()=>e(et).year)??""} ${e(et),p(()=>e(et).inLibrary?"â¢ Click to edit":"")??""}`)}),J("mousedown",ht,()=>Rt(e(et))),d(Vt,ht)}),s(vt),d(Te,vt)};$(T,Te=>{e(kt),e(xt),p(()=>e(kt)&&e(xt).length>0)&&Te(O)})}s($e),s(le),s(he);var R=i(he,2),N=n(R),X=i(n(N),2);de(X),s(N);var V=i(N,2),se=i(n(V),2);de(se),s(V);var xe=i(V,2),me=i(n(xe),2);de(me),s(xe);var oe=i(xe,2),pe=i(n(oe),2);de(pe),s(oe),s(R);var Ce=i(R,2),B=n(Ce),ge=i(n(B),2);de(ge),s(B);var ie=i(B,2),ve=i(n(ie),2);z(()=>{e(c),$a(()=>{})});var H=n(ve);H.value=H.__value="Continuing";var Pe=i(H);Pe.value=Pe.__value="Ended",s(ve),s(ie),s(Ce);var Re=i(Ce,2),Ue=n(Re),je=i(n(Ue),2);de(je),s(Ue);var He=i(Ue,2),Ge=i(n(He),2);de(Ge),s(He),s(Re);var ne=i(Re,2),fe=i(n(ne),2);de(fe),s(ne);var Oe=i(ne,2),Ke=i(n(Oe),2);Hs(Ke),s(Oe),s(ce),z(()=>{Le.disabled=(e(Ne),e(c),p(()=>e(Ne)||!e(c).imdb_code)),y(ye,e(Ne)?"Fetching...":"Fetch")}),ue(Ee,()=>e(c).imdb_code,Te=>P(c,e(c).imdb_code=Te)),J("click",Le,Nt),ue(k,()=>e(c).title,Te=>P(c,e(c).title=Te)),J("input",k,Te=>Lt(Te.currentTarget.value)),J("focus",k,()=>u(kt,e(xt).length>0)),J("blur",k,()=>setTimeout(()=>u(kt,!1),200)),ue(X,()=>e(c).year,Te=>P(c,e(c).year=Te)),ue(se,()=>e(c).rating,Te=>P(c,e(c).rating=Te)),ue(me,()=>e(c).runtime,Te=>P(c,e(c).runtime=Te)),ue(pe,()=>e(c).total_seasons,Te=>P(c,e(c).total_seasons=Te)),ue(ge,()=>e(c).genres,Te=>P(c,e(c).genres=Te)),Ht(ve,()=>e(c).status,Te=>P(c,e(c).status=Te)),ue(je,()=>e(c).poster_image,Te=>P(c,e(c).poster_image=Te)),ue(Ge,()=>e(c).background_image,Te=>P(c,e(c).background_image=Te)),ue(fe,()=>e(c).network,Te=>P(c,e(c).network=Te)),ue(Ke,()=>e(c).summary,Te=>P(c,e(c).summary=Te)),J("submit",ce,Ja(Me)),d(I,ce)},$$slots:{default:!0,footer:(I,Q)=>{var ce=Np(),he=ze(ce),ee=i(he,2);J("click",he,()=>u(q,!1)),J("click",ee,Me),d(I,ce)}},$$legacy:!0});var Ae=i(W,2);ca(Ae,{title:"Edit TV Series",size:"lg",get open(){return e(M)},set open(I){u(M,I)},$$events:{close:()=>u(M,!1)},children:(I,Q)=>{var ce=Up(),he=n(ce),ee=n(he),Ye=i(n(ee),2),Ee=n(Ye);de(Ee);var Le=i(Ee,2),ye=n(Le,!0);s(Le),s(Ye);var Y=i(Ye,2);{var re=fe=>{var Oe=Vp(),Ke=n(Oe,!0);s(Oe),z(()=>y(Ke,e(nt))),d(fe,Oe)};$(Y,fe=>{e(nt)&&fe(re)})}s(ee);var le=i(ee,2),$e=i(n(le),2);de($e),s(le),s(he);var k=i(he,2),T=n(k),O=i(n(T),2);de(O),s(T);var R=i(T,2),N=i(n(R),2);de(N),s(R);var X=i(R,2),V=i(n(X),2);de(V),s(X);var se=i(X,2),xe=i(n(se),2);de(xe),s(se),s(k);var me=i(k,2),oe=n(me),pe=i(n(oe),2);de(pe),s(oe);var Ce=i(oe,2),B=i(n(Ce),2);z(()=>{e(c),$a(()=>{})});var ge=n(B);ge.value=ge.__value="Continuing";var ie=i(ge);ie.value=ie.__value="Ended",s(B),s(Ce),s(me);var ve=i(me,2),H=n(ve),Pe=i(n(H),2);de(Pe),s(H);var Re=i(H,2),Ue=i(n(Re),2);de(Ue),s(Re),s(ve);var je=i(ve,2),He=i(n(je),2);de(He),s(je);var Ge=i(je,2),ne=i(n(Ge),2);Hs(ne),s(Ge),s(ce),z(()=>{Le.disabled=(e(Ne),e(c),p(()=>e(Ne)||!e(c).imdb_code)),y(ye,e(Ne)?"Updating...":"Update")}),ue(Ee,()=>e(c).imdb_code,fe=>P(c,e(c).imdb_code=fe)),J("click",Le,Nt),ue($e,()=>e(c).title,fe=>P(c,e(c).title=fe)),ue(O,()=>e(c).year,fe=>P(c,e(c).year=fe)),ue(N,()=>e(c).rating,fe=>P(c,e(c).rating=fe)),ue(V,()=>e(c).runtime,fe=>P(c,e(c).runtime=fe)),ue(xe,()=>e(c).total_seasons,fe=>P(c,e(c).total_seasons=fe)),ue(pe,()=>e(c).genres,fe=>P(c,e(c).genres=fe)),Ht(B,()=>e(c).status,fe=>P(c,e(c).status=fe)),ue(Pe,()=>e(c).poster_image,fe=>P(c,e(c).poster_image=fe)),ue(Ue,()=>e(c).background_image,fe=>P(c,e(c).background_image=fe)),ue(He,()=>e(c).network,fe=>P(c,e(c).network=fe)),ue(ne,()=>e(c).summary,fe=>P(c,e(c).summary=fe)),J("submit",ce,Ja(Ze)),d(I,ce)},$$slots:{default:!0,footer:(I,Q)=>{var ce=Yp(),he=ze(ce),ee=i(he,2);J("click",he,()=>u(M,!1)),J("click",ee,Ze),d(I,ce)}},$$legacy:!0});var Fe=i(Ae,2);return ca(Fe,{title:"Delete Series",size:"sm",get open(){return e(F)},set open(I){u(F,I)},$$events:{close:()=>u(F,!1)},children:(I,Q)=>{var ce=Hp(),he=ze(ce),ee=i(n(he)),Ye=n(ee,!0);s(ee),ct(),s(he),ct(2),z(()=>y(Ye,(e(m),p(()=>e(m)?.title)))),d(I,ce)},$$slots:{default:!0,footer:(I,Q)=>{var ce=Gp(),he=ze(ce),ee=i(he,2);J("click",he,()=>u(F,!1)),J("click",ee,Ct),d(I,ce)}},$$legacy:!0}),ue(L,()=>e(w),I=>u(w,I)),J("keydown",L,I=>I.key==="Enter"&&K()),J("click",ae,G),d(t,Ve),ia(Gt)}var Qp=f('<div class="loading svelte-f6m6ck"><div class="spinner svelte-f6m6ck"></div></div>'),Kp=f('<div class="error-state svelte-f6m6ck"><h2>Series not found</h2> <a href="#/tvshows" class="btn btn-primary">Back to TV Shows</a></div>'),Zp=f('<img class="detail-poster svelte-f6m6ck"/>'),Jp=f('<div class="detail-poster poster-placeholder svelte-f6m6ck"><span> </span></div>'),Xp=f('<span class="meta-item svelte-f6m6ck"> </span>'),ef=f('<span class="genre-tag svelte-f6m6ck"> </span>'),tf=f('<div class="genre-tags svelte-f6m6ck"></div>'),af=f('<div class="header-rating svelte-f6m6ck"><svg width="20" height="20" viewBox="0 0 24 24" fill="#f5c518"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg> <span class="rating-value svelte-f6m6ck"> </span> <span class="rating-max svelte-f6m6ck">/10</span></div>'),sf=f('<p class="detail-summary svelte-f6m6ck"> </p>'),rf=f('<span class="spinner-sm svelte-f6m6ck"></span> Refreshing...',1),nf=es('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"></path><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg> Refresh from IMDB',1),lf=f('<div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Runtime</span> <span class="detail-value svelte-f6m6ck"> </span></div>'),of=f('<div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Network</span> <span class="detail-value svelte-f6m6ck"> </span></div>'),vf=f('<div class="detail-item full-width svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Genres</span> <span class="detail-value svelte-f6m6ck"> </span></div>'),cf=f('<p class="text-muted">No episodes available</p>'),df=f('<span class="season-pack-badge svelte-f6m6ck" title="Season pack available"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> </span> <button class="btn btn-xs btn-expand svelte-f6m6ck" title="Create episode torrents from season pack">Expand</button>',1),uf=f('<span class="episode-date svelte-f6m6ck"> </span>'),pf=f('<p class="episode-summary svelte-f6m6ck"> </p>'),ff=f("<span> </span>"),_f=f('<div class="episode-item svelte-f6m6ck"><div class="episode-number svelte-f6m6ck"> </div> <div class="episode-info svelte-f6m6ck"><span class="episode-title svelte-f6m6ck"> </span> <!> <!></div> <div class="episode-torrents svelte-f6m6ck"><!> <button class="btn btn-xs btn-add-torrent svelte-f6m6ck" title="Add torrent"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button></div></div>'),mf=f('<div class="episodes-list svelte-f6m6ck"></div>'),hf=f('<div class="season-section svelte-f6m6ck"><div class="season-header svelte-f6m6ck" role="button" tabindex="0"><div class="season-title svelte-f6m6ck"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg> <span> </span> <span class="episode-count svelte-f6m6ck"> </span></div> <div class="season-pack-actions svelte-f6m6ck"><!> <button class="btn btn-xs btn-add-season svelte-f6m6ck" title="Add magnet link for entire season"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg> Add Season</button></div></div> <!></div>'),gf=f('<div class="seasons-list svelte-f6m6ck"></div>'),bf=f('<div class="detail-row svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">IMDB Code</span> <span class="detail-value svelte-f6m6ck"><a target="_blank" rel="noopener" class="mono link svelte-f6m6ck"> </a></span></div>'),yf=f('<div class="detail-row svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Slug</span> <span class="detail-value mono svelte-f6m6ck"> </span></div>'),xf=f('<div class="detail-row svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Date Added</span> <span class="detail-value svelte-f6m6ck"> </span></div>'),kf=f('<div class="image-item svelte-f6m6ck"><span class="image-label svelte-f6m6ck">Poster</span> <a target="_blank" rel="noopener"><img alt="Poster" class="preview-image svelte-f6m6ck"/></a></div>'),wf=f('<div class="image-item image-wide svelte-f6m6ck"><span class="image-label svelte-f6m6ck">Background</span> <a target="_blank" rel="noopener"><img alt="Background" class="preview-image preview-wide svelte-f6m6ck"/></a></div>'),zf=f('<div class="detail-header svelte-f6m6ck"><div class="header-overlay svelte-f6m6ck"><div class="header-content svelte-f6m6ck"><a href="#/tvshows" class="back-link svelte-f6m6ck"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg> Back to TV Shows</a> <div class="header-main svelte-f6m6ck"><!> <div class="header-info svelte-f6m6ck"><h1 class="detail-title svelte-f6m6ck"> </h1> <div class="detail-meta svelte-f6m6ck"><span class="meta-item svelte-f6m6ck"> </span> <!> <span class="meta-item svelte-f6m6ck"> </span> <span> </span></div> <!> <!> <!> <div class="header-actions svelte-f6m6ck"><button class="btn btn-primary svelte-f6m6ck"><!></button> <button class="btn btn-secondary svelte-f6m6ck"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> Edit</button> <button class="btn btn-danger svelte-f6m6ck"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg> Delete</button></div></div></div></div></div></div> <div class="card details-card compact svelte-f6m6ck"><h3 class="svelte-f6m6ck">Details</h3> <div class="details-grid-compact svelte-f6m6ck"><div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Year</span> <span class="detail-value svelte-f6m6ck"> <!></span></div> <div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Status</span> <span class="detail-value svelte-f6m6ck"> </span></div> <div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Seasons</span> <span class="detail-value svelte-f6m6ck"> </span></div> <div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Episodes</span> <span class="detail-value svelte-f6m6ck"> </span></div> <!> <!> <!></div></div> <div class="card episodes-card svelte-f6m6ck"><h3 class="svelte-f6m6ck"> </h3> <!></div> <div class="card tech-card svelte-f6m6ck"><h3 class="svelte-f6m6ck">Technical Info</h3> <div class="details-grid svelte-f6m6ck"><div class="detail-row svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Database ID</span> <span class="detail-value mono svelte-f6m6ck"> </span></div> <!> <!> <!></div></div> <div class="card images-card svelte-f6m6ck"><h3 class="svelte-f6m6ck">Images</h3> <div class="images-grid svelte-f6m6ck"><!> <!></div></div>',1),Sf=f('<form><div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_imdb_code">IMDB Code</label> <div class="input-with-button svelte-f6m6ck"><input type="text" id="edit_imdb_code" class="form-input svelte-f6m6ck" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary"> </button></div></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_title">Title *</label> <input type="text" id="edit_title" class="form-input svelte-f6m6ck" required/></div></div> <div class="form-row form-row-4 svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_year">Year</label> <input type="number" id="edit_year" class="form-input svelte-f6m6ck"/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_rating">Rating</label> <input type="number" id="edit_rating" class="form-input svelte-f6m6ck" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_runtime">Runtime (min)</label> <input type="number" id="edit_runtime" class="form-input svelte-f6m6ck" min="0"/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_total_seasons">Seasons</label> <input type="number" id="edit_total_seasons" class="form-input svelte-f6m6ck" min="1"/></div></div> <div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_genres">Genres</label> <input type="text" id="edit_genres" class="form-input svelte-f6m6ck" placeholder="Drama, Thriller"/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_status">Status</label> <select id="edit_status" class="form-input svelte-f6m6ck"><option>Continuing</option><option>Ended</option></select></div></div> <div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_poster">Poster Image URL</label> <input type="text" id="edit_poster" class="form-input svelte-f6m6ck" placeholder="https://..."/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_background">Background Image URL</label> <input type="text" id="edit_background" class="form-input svelte-f6m6ck" placeholder="https://..."/></div></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_network">Network</label> <input type="text" id="edit_network" class="form-input svelte-f6m6ck" placeholder="HBO, Netflix, AMC..."/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_summary">Summary</label> <textarea id="edit_summary" class="form-input form-textarea svelte-f6m6ck" rows="3"></textarea></div></form>'),$f=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Save Changes</button>',1),Cf=f('<p class="delete-warning svelte-f6m6ck">Are you sure you want to delete <strong> </strong>?</p> <p class="text-muted">This action cannot be undone. All episodes and torrents will also be removed.</p>',1),Tf=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-danger">Delete</button>',1),Ef=f('<p class="torrent-episode-info svelte-f6m6ck"><strong> </strong> </p>'),Mf=f('<!> <form><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="torrent_hash">Torrent Hash / Magnet Link *</label> <input type="text" id="torrent_hash" class="form-input svelte-f6m6ck" placeholder="Magnet link or info hash" required/></div> <div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="torrent_quality">Quality</label> <select id="torrent_quality" class="form-input svelte-f6m6ck"><option>480p</option><option>720p</option><option>1080p</option><option>2160p (4K)</option></select></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="torrent_size">Size</label> <input type="text" id="torrent_size" class="form-input svelte-f6m6ck" placeholder="500 MB"/></div></div></form>',1),Af=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Add Torrent</button>',1),qf=f('<p class="torrent-season-info svelte-f6m6ck"><strong> </strong> </p> <p class="text-muted text-sm svelte-f6m6ck">Paste a magnet link for the entire season. A torrent entry will be created for each episode with the correct file index.</p>',1),Df=f('<!> <form><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="season_magnet">Magnet Link / Hash *</label> <textarea id="season_magnet" class="form-input form-textarea svelte-f6m6ck" placeholder="magnet:?xt=urn:btih:... or just the hash" rows="3" required></textarea></div> <div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="season_quality">Quality</label> <select id="season_quality" class="form-input svelte-f6m6ck"><option>480p</option><option>720p</option><option>1080p</option><option>2160p (4K)</option></select></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="season_size">Total Size (optional)</label> <input type="text" id="season_size" class="form-input svelte-f6m6ck" placeholder="16.1 GB"/> <span class="form-hint svelte-f6m6ck">Will be divided among episodes</span></div></div></form>',1),If=f('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Add to All Episodes</button>',1),Lf=f('<div class="detail-page svelte-f6m6ck"><!></div> <!> <!> <!> <!>',1);function Bl(t,r){if(new.target)return da({component:Bl,...t});na(r,!1);let l=Ra(r,"params",12),a=_e(null),o=_e(!0),v=_e(!1),_=_e(!1),h=_e(new Map),b=_e(new Set),w=_e(!1),S=_e(!1),E=_e(!1),C=_e(!1),q=_e(null),M=_e(null),F=_e({hash:"",quality:"1080p",size:""}),m=_e({magnet:"",quality:"1080p",totalSize:""}),c=_e({imdb_code:"",title:"",year:0,rating:0,runtime:0,genres:"",summary:"",poster_image:"",background_image:"",total_seasons:1,status:"Continuing",network:""});cs(async()=>{await x()});async function x(){u(o,!0);try{u(a,await Wv(parseInt(l().id))),e(a)&&(K(),e(h).size>0&&e(b).add(Math.min(...e(h).keys())))}catch(L){console.error("Failed to load series:",L)}finally{u(o,!1)}}function K(){if(u(h,new Map),e(a)?.episodes){for(const L of e(a).episodes){const ae=L.season_number;e(h).has(ae)||e(h).set(ae,[]),e(h).get(ae).push(L)}for(const[L,ae]of e(h))ae.sort((g,j)=>g.episode_number-j.episode_number)}}function Se(L){e(b).has(L)?e(b).delete(L):e(b).add(L),u(b,e(b))}async function ke(){if(e(a)){u(_,!0);try{const L=await fetch("/api/v2/refresh_series",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({series_id:e(a).id})});if(L.ok)await x();else{const ae=await L.json();alert("Failed to refresh: "+(ae.status_message||"Unknown error"))}}catch(L){console.error("Failed to refresh series:",L)}finally{u(_,!1)}}}function te(){e(a)&&(u(c,{imdb_code:e(a).imdb_code||"",title:e(a).title,year:e(a).year,rating:e(a).rating||0,runtime:e(a).runtime||0,genres:e(a).genres?.join(", ")||"",summary:e(a).summary||"",poster_image:e(a).poster_image||"",background_image:e(a).background_image||"",total_seasons:e(a).total_seasons||1,status:e(a).status||"Continuing",network:e(a).network||""}),u(w,!0))}async function G(){if(e(a))try{await Dl(e(a).id,{imdb_code:e(c).imdb_code,title:e(c).title,year:e(c).year,rating:e(c).rating,runtime:e(c).runtime,genres:e(c).genres,summary:e(c).summary,poster_image:e(c).poster_image,background_image:e(c).background_image,total_seasons:e(c).total_seasons,status:e(c).status,network:e(c).network}),u(w,!1),await x()}catch(L){console.error("Failed to update series:",L)}}async function be(){if(e(a))try{await ql(e(a).id),u(S,!1),$l("/tvshows")}catch(L){console.error("Failed to delete series:",L)}}async function De(){if(e(c).imdb_code){u(v,!0);try{const L=await fetch(`/admin/api/imdb/title/${e(c).imdb_code}`);if(L.ok){const ae=await L.json();P(c,e(c).title=ae.primaryTitle||e(c).title),P(c,e(c).year=ae.startYear||e(c).year),P(c,e(c).rating=ae.rating?.aggregateRating||e(c).rating),P(c,e(c).runtime=ae.runtimeSeconds?Math.round(ae.runtimeSeconds/60):e(c).runtime),P(c,e(c).genres=ae.genres?.join(", ")||e(c).genres),P(c,e(c).summary=ae.plot||e(c).summary),P(c,e(c).poster_image=ae.primaryImage?.url||e(c).poster_image),ae.totalSeasons&&P(c,e(c).total_seasons=ae.totalSeasons),P(c,e(c).status=ae.endYear?"Ended":"Continuing")}}catch(L){console.error("Failed to fetch from IMDB:",L)}finally{u(v,!1)}}}function Me(L){return e(a)?.season_packs?.find(ae=>ae.season===L)}function Ze(L){u(q,L),u(F,{hash:"",quality:"1080p",size:""}),u(E,!0)}async function Ct(){if(!(!e(q)||!e(a)))try{const L=await fetch(`/admin/episodes/${e(q).id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:e(F).hash,quality:e(F).quality,size:e(F).size,series_id:String(e(a).id),season_number:String(e(q).season_number),episode_number:String(e(q).episode_number)})});if(L.ok)u(E,!1),u(q,null),u(F,{hash:"",quality:"1080p",size:""}),await x();else{const ae=await L.json();alert("Failed to add torrent: "+(ae.error||"Unknown error"))}}catch(L){console.error("Failed to add torrent:",L)}}async function Ne(L){if(!L.id&&!e(a)?.season_packs?.find(g=>g.season===L.season&&g.quality===L.quality)){alert("Season pack not found");return}try{const ae=await fetch(`/admin/api/season-packs/${L.id||0}/expand`,{method:"POST",headers:{Accept:"application/json"}}),g=await ae.json();ae.ok&&g.success?(alert(`Created ${g.created} episode torrents from season pack`),await x()):alert("Failed to expand season pack: "+(g.error||"Unknown error"))}catch(ae){console.error("Failed to expand season pack:",ae)}}function nt(L){u(M,L),u(m,{magnet:"",quality:"1080p",totalSize:""}),u(C,!0)}function xt(L){const ae=L.match(/btih:([a-fA-F0-9]{40})/i);if(ae)return ae[1].toUpperCase();const g=L.match(/btih:([A-Za-z2-7]{32})/i);return g?g[1].toUpperCase():L.trim().toUpperCase()}async function kt(){if(!e(a)||e(M)===null)return;const L=xt(e(m).magnet);if(!L){alert("Please enter a valid magnet link or hash");return}const ae=e(h).get(e(M))||[];if(ae.length===0){alert("No episodes found for this season");return}let g="";if(e(m).totalSize){const W=e(m).totalSize.match(/([\d.]+)\s*(GB|MB|TB)/i);if(W){const Ae=parseFloat(W[1]),Fe=W[2].toUpperCase();g=`${(Ae/ae.length).toFixed(1)} ${Fe}`}}let j=0,U=0;for(let W=0;W<ae.length;W++){const Ae=ae[W];try{(await fetch(`/admin/episodes/${Ae.id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:L,quality:e(m).quality,size:g,series_id:String(e(a).id),season_number:String(e(M)),episode_number:String(Ae.episode_number),file_index:String(W)})})).ok?j++:U++}catch{U++}}u(C,!1),u(M,null),j>0?(alert(`Added torrent to ${j} episodes`+(U>0?` (${U} failed)`:"")),await x()):alert("Failed to add torrents")}var _t={get params(){return l()},set params(L){l(L),xa()},$set:pa,$on:(L,ae)=>ua(r,L,ae)};ts();var Lt=Lf(),Rt=ze(Lt),Nt=n(Rt);{var Gt=L=>{var ae=Qp();d(L,ae)},Ve=L=>{var ae=Bt(),g=ze(ae);{var j=W=>{var Ae=Kp();d(W,Ae)},U=W=>{var Ae=zf(),Fe=ze(Ae),I=n(Fe),Q=n(I),ce=i(n(Q),2),he=n(ce);{var ee=we=>{var qe=Zp();z(()=>{Je(qe,"src",(e(a),p(()=>e(a).poster_image))),Je(qe,"alt",(e(a),p(()=>e(a).title)))}),d(we,qe)},Ye=we=>{var qe=Jp(),Xe=n(qe),At=n(Xe,!0);s(Xe),s(qe),z(ta=>y(At,ta),[()=>(e(a),p(()=>e(a).title.charAt(0)))]),d(we,qe)};$(he,we=>{e(a),p(()=>e(a).poster_image)?we(ee):we(Ye,!1)})}var Ee=i(he,2),Le=n(Ee),ye=n(Le,!0);s(Le);var Y=i(Le,2),re=n(Y),le=n(re,!0);s(re);var $e=i(re,2);{var k=we=>{var qe=Xp(),Xe=n(qe);s(qe),z(()=>y(Xe,`${e(a),p(()=>e(a).runtime)??""} min/ep`)),d(we,qe)};$($e,we=>{e(a),p(()=>e(a).runtime)&&we(k)})}var T=i($e,2),O=n(T);s(T);var R=i(T,2),N=n(R,!0);s(R),s(Y);var X=i(Y,2);{var V=we=>{var qe=tf();st(qe,5,()=>(e(a),p(()=>e(a).genres)),at,(Xe,At)=>{var ta=ef(),_a=n(ta,!0);s(ta),z(()=>y(_a,e(At))),d(Xe,ta)}),s(qe),d(we,qe)};$(X,we=>{e(a),p(()=>e(a).genres&&e(a).genres.length>0)&&we(V)})}var se=i(X,2);{var xe=we=>{var qe=af(),Xe=i(n(qe),2),At=n(Xe,!0);s(Xe),ct(2),s(qe),z(ta=>y(At,ta),[()=>(e(a),p(()=>e(a).rating.toFixed(1)))]),d(we,qe)};$(se,we=>{e(a),p(()=>e(a).rating)&&we(xe)})}var me=i(se,2);{var oe=we=>{var qe=sf(),Xe=n(qe,!0);s(qe),z(()=>y(Xe,(e(a),p(()=>e(a).summary)))),d(we,qe)};$(me,we=>{e(a),p(()=>e(a).summary)&&we(oe)})}var pe=i(me,2),Ce=n(pe),B=n(Ce);{var ge=we=>{var qe=rf();ct(),d(we,qe)},ie=we=>{var qe=nf();ct(),d(we,qe)};$(B,we=>{e(_)?we(ge):we(ie,!1)})}s(Ce);var ve=i(Ce,2),H=i(ve,2);s(pe),s(Ee),s(ce),s(Q),s(I),s(Fe);var Pe=i(Fe,2),Re=i(n(Pe),2),Ue=n(Re),je=i(n(Ue),2),He=n(je,!0),Ge=i(He);{var ne=we=>{var qe=sr();z(()=>y(qe,`-${e(a),p(()=>e(a).end_year)??""}`)),d(we,qe)};$(Ge,we=>{e(a),p(()=>e(a).end_year&&e(a).end_year!==e(a).year)&&we(ne)})}s(je),s(Ue);var fe=i(Ue,2),Oe=i(n(fe),2),Ke=n(Oe,!0);s(Oe),s(fe);var Te=i(fe,2),vt=i(n(Te),2),Vt=n(vt,!0);s(vt),s(Te);var et=i(Te,2),ht=i(n(et),2),Ut=n(ht,!0);s(ht),s(et);var Wt=i(et,2);{var Ft=we=>{var qe=lf(),Xe=i(n(qe),2),At=n(Xe);s(Xe),s(qe),z(()=>y(At,`${e(a),p(()=>e(a).runtime)??""} min`)),d(we,qe)};$(Wt,we=>{e(a),p(()=>e(a).runtime)&&we(Ft)})}var Et=i(Wt,2);{var wt=we=>{var qe=of(),Xe=i(n(qe),2),At=n(Xe,!0);s(Xe),s(qe),z(()=>y(At,(e(a),p(()=>e(a).network)))),d(we,qe)};$(Et,we=>{e(a),p(()=>e(a).network)&&we(wt)})}var Yt=i(Et,2);{var Qt=we=>{var qe=vf(),Xe=i(n(qe),2),At=n(Xe,!0);s(Xe),s(qe),z(ta=>y(At,ta),[()=>(e(a),p(()=>e(a).genres.join(", ")))]),d(we,qe)};$(Yt,we=>{e(a),p(()=>e(a).genres&&e(a).genres.length>0)&&we(Qt)})}s(Re),s(Pe);var rt=i(Pe,2),it=n(rt),jt=n(it);s(it);var Xt=i(it,2);{var We=we=>{var qe=cf();d(we,qe)},Mt=we=>{var qe=gf();st(qe,5,()=>(e(h),p(()=>[...e(h).entries()].sort((Xe,At)=>Xe[0]-At[0]))),at,(Xe,At)=>{var ta=Wi(()=>Zl(e(At),2));let _a=()=>e(ta)[0],As=()=>e(ta)[1];const aa=ln(()=>(_a(),p(()=>Me(_a()))));var Fa=hf(),bs=n(Fa),mr=n(bs),hr=n(mr);let jr;var Ks=i(hr,2),un=n(Ks);s(Ks);var gr=i(Ks,2),pn=n(gr);s(gr),s(mr);var Fr=i(mr,2),Br=n(Fr);{var br=wa=>{var ys=df(),xs=ze(ys),Zt=i(n(xs));s(xs);var qs=i(xs,2);z(()=>y(Zt,` ${Ar(e(aa)),p(()=>e(aa).quality)??""} â¢ ${Ar(e(aa)),p(()=>e(aa).size)??""}`)),J("click",qs,di(()=>Ne(e(aa)))),d(wa,ys)};$(Br,wa=>{e(aa)&&wa(br)})}var yr=i(Br,2);s(Fr),s(bs);var fn=i(bs,2);{var Or=wa=>{var ys=mf();st(ys,5,As,at,(xs,Zt)=>{var qs=_f(),xr=n(qs),Nr=n(xr);s(xr);var kr=i(xr,2),Zs=n(kr),wr=n(Zs,!0);s(Zs);var Vr=i(Zs,2);{var _n=Be=>{var bt=uf(),qt=n(bt,!0);s(bt),z(()=>y(qt,(e(Zt),p(()=>e(Zt).air_date)))),d(Be,bt)};$(Vr,Be=>{e(Zt),p(()=>e(Zt).air_date)&&Be(_n)})}var mn=i(Vr,2);{var hn=Be=>{var bt=pf(),qt=n(bt,!0);s(bt),z(()=>y(qt,(e(Zt),p(()=>e(Zt).summary)))),d(Be,bt)};$(mn,Be=>{e(Zt),p(()=>e(Zt).summary)&&Be(hn)})}s(kr);var A=i(kr,2),D=n(A);{var Z=Be=>{var bt=Bt(),qt=ze(bt);st(qt,1,()=>(e(Zt),p(()=>e(Zt).torrents)),at,(dt,lt)=>{var ut=ff(),yt=n(ut,!0);s(ut),z(()=>{ot(ut,1,`torrent-badge badge-${e(lt),p(()=>e(lt).quality)??""}`,"svelte-f6m6ck"),y(yt,(e(lt),p(()=>e(lt).quality)))}),d(dt,ut)}),d(Be,bt)};$(D,Be=>{e(Zt),p(()=>e(Zt).torrents&&e(Zt).torrents.length>0)&&Be(Z)})}var Ie=i(D,2);s(A),s(qs),z(()=>{y(Nr,`E${e(Zt),p(()=>e(Zt).episode_number)??""}`),y(wr,(e(Zt),p(()=>e(Zt).title||`Episode ${e(Zt).episode_number}`)))}),J("click",Ie,()=>Ze(e(Zt))),d(xs,qs)}),s(ys),d(wa,ys)};$(fn,wa=>{e(b),_a(),p(()=>e(b).has(_a()))&&wa(Or)})}s(Fa),z(wa=>{jr=ot(hr,0,"chevron svelte-f6m6ck",null,jr,wa),y(un,`Season ${_a()??""}`),y(pn,`${As(),p(()=>As().length)??""} episodes`)},[()=>({expanded:e(b).has(_a())})]),J("click",yr,di(()=>nt(_a()))),J("click",bs,()=>Se(_a())),J("keypress",bs,wa=>wa.key==="Enter"&&Se(_a())),d(Xe,Fa)}),s(qe),d(we,qe)};$(Xt,we=>{e(h),p(()=>e(h).size===0)?we(We):we(Mt,!1)})}s(rt);var gt=i(rt,2),la=i(n(gt),2),Ga=n(la),ka=i(n(Ga),2),as=n(ka,!0);s(ka),s(Ga);var ds=i(Ga,2);{var ss=we=>{var qe=bf(),Xe=i(n(qe),2),At=n(Xe),ta=n(At,!0);s(At),s(Xe),s(qe),z(()=>{Je(At,"href",`https://www.imdb.com/title/${e(a),p(()=>e(a).imdb_code)??""}`),y(ta,(e(a),p(()=>e(a).imdb_code)))}),d(we,qe)};$(ds,we=>{e(a),p(()=>e(a).imdb_code)&&we(ss)})}var rs=i(ds,2);{var tt=we=>{var qe=yf(),Xe=i(n(qe),2),At=n(Xe,!0);s(Xe),s(qe),z(()=>y(At,(e(a),p(()=>e(a).title_slug)))),d(we,qe)};$(rs,we=>{e(a),p(()=>e(a).title_slug)&&we(tt)})}var fa=i(rs,2);{var Ea=we=>{var qe=xf(),Xe=i(n(qe),2),At=n(Xe,!0);s(Xe),s(qe),z(()=>y(At,(e(a),p(()=>e(a).date_added)))),d(we,qe)};$(fa,we=>{e(a),p(()=>e(a).date_added)&&we(Ea)})}s(la),s(gt);var Kt=i(gt,2),ja=i(n(Kt),2),ns=n(ja);{var Ws=we=>{var qe=kf(),Xe=i(n(qe),2),At=n(Xe);s(Xe),s(qe),z(()=>{Je(Xe,"href",(e(a),p(()=>e(a).poster_image))),Je(At,"src",(e(a),p(()=>e(a).poster_image)))}),d(we,qe)};$(ns,we=>{e(a),p(()=>e(a).poster_image)&&we(Ws)})}var Qs=i(ns,2);{var _r=we=>{var qe=wf(),Xe=i(n(qe),2),At=n(Xe);s(Xe),s(qe),z(()=>{Je(Xe,"href",(e(a),p(()=>e(a).background_image))),Je(At,"src",(e(a),p(()=>e(a).background_image)))}),d(we,qe)};$(Qs,we=>{e(a),p(()=>e(a).background_image)&&we(_r)})}s(ja),s(Kt),z(we=>{In(Fe,`background-image: url('${e(a),p(()=>e(a).background_image||e(a).poster_image)??""}')`),y(ye,(e(a),p(()=>e(a).title))),y(le,(e(a),p(()=>e(a).year))),y(O,`${e(a),p(()=>e(a).total_seasons)??""} Season${e(a),p(()=>e(a).total_seasons!==1?"s":"")??""}`),ot(R,1,`status-badge status-${we??""}`,"svelte-f6m6ck"),y(N,(e(a),p(()=>e(a).status))),Ce.disabled=(e(_),e(a),p(()=>e(_)||!e(a).imdb_code)),y(He,(e(a),p(()=>e(a).year))),y(Ke,(e(a),p(()=>e(a).status))),y(Vt,(e(a),p(()=>e(a).total_seasons))),y(Ut,(e(a),p(()=>e(a).total_episodes||e(a).episodes?.length||0))),y(jt,`Episodes (${e(a),p(()=>e(a).episodes?.length||0)??""})`),y(as,(e(a),p(()=>e(a).id)))},[()=>(e(a),p(()=>e(a).status?.toLowerCase()))]),J("click",Ce,ke),J("click",ve,te),J("click",H,()=>u(S,!0)),d(W,Ae)};$(g,W=>{e(a)?W(U,!1):W(j)},!0)}d(L,ae)};$(Nt,L=>{e(o)?L(Gt):L(Ve,!1)})}s(Rt);var Qe=i(Rt,2);ca(Qe,{title:"Edit Series",size:"lg",get open(){return e(w)},set open(L){u(w,L)},$$events:{close:()=>u(w,!1)},children:(L,ae)=>{var g=Sf(),j=n(g),U=n(j),W=i(n(U),2),Ae=n(W);de(Ae);var Fe=i(Ae,2),I=n(Fe,!0);s(Fe),s(W),s(U);var Q=i(U,2),ce=i(n(Q),2);de(ce),s(Q),s(j);var he=i(j,2),ee=n(he),Ye=i(n(ee),2);de(Ye),s(ee);var Ee=i(ee,2),Le=i(n(Ee),2);de(Le),s(Ee);var ye=i(Ee,2),Y=i(n(ye),2);de(Y),s(ye);var re=i(ye,2),le=i(n(re),2);de(le),s(re),s(he);var $e=i(he,2),k=n($e),T=i(n(k),2);de(T),s(k);var O=i(k,2),R=i(n(O),2);z(()=>{e(c),$a(()=>{})});var N=n(R);N.value=N.__value="Continuing";var X=i(N);X.value=X.__value="Ended",s(R),s(O),s($e);var V=i($e,2),se=n(V),xe=i(n(se),2);de(xe),s(se);var me=i(se,2),oe=i(n(me),2);de(oe),s(me),s(V);var pe=i(V,2),Ce=i(n(pe),2);de(Ce),s(pe);var B=i(pe,2),ge=i(n(B),2);Hs(ge),s(B),s(g),z(()=>{Fe.disabled=(e(v),e(c),p(()=>e(v)||!e(c).imdb_code)),y(I,e(v)?"Updating...":"Fetch")}),ue(Ae,()=>e(c).imdb_code,ie=>P(c,e(c).imdb_code=ie)),J("click",Fe,De),ue(ce,()=>e(c).title,ie=>P(c,e(c).title=ie)),ue(Ye,()=>e(c).year,ie=>P(c,e(c).year=ie)),ue(Le,()=>e(c).rating,ie=>P(c,e(c).rating=ie)),ue(Y,()=>e(c).runtime,ie=>P(c,e(c).runtime=ie)),ue(le,()=>e(c).total_seasons,ie=>P(c,e(c).total_seasons=ie)),ue(T,()=>e(c).genres,ie=>P(c,e(c).genres=ie)),Ht(R,()=>e(c).status,ie=>P(c,e(c).status=ie)),ue(xe,()=>e(c).poster_image,ie=>P(c,e(c).poster_image=ie)),ue(oe,()=>e(c).background_image,ie=>P(c,e(c).background_image=ie)),ue(Ce,()=>e(c).network,ie=>P(c,e(c).network=ie)),ue(ge,()=>e(c).summary,ie=>P(c,e(c).summary=ie)),J("submit",g,Ja(G)),d(L,g)},$$slots:{default:!0,footer:(L,ae)=>{var g=$f(),j=ze(g),U=i(j,2);J("click",j,()=>u(w,!1)),J("click",U,G),d(L,g)}},$$legacy:!0});var mt=i(Qe,2);ca(mt,{title:"Delete Series",size:"sm",get open(){return e(S)},set open(L){u(S,L)},$$events:{close:()=>u(S,!1)},children:(L,ae)=>{var g=Cf(),j=ze(g),U=i(n(j)),W=n(U,!0);s(U),ct(),s(j),ct(2),z(()=>y(W,(e(a),p(()=>e(a)?.title)))),d(L,g)},$$slots:{default:!0,footer:(L,ae)=>{var g=Tf(),j=ze(g),U=i(j,2);J("click",j,()=>u(S,!1)),J("click",U,be),d(L,g)}},$$legacy:!0});var Tt=i(mt,2);ca(Tt,{title:"Add Episode Torrent",size:"md",get open(){return e(E)},set open(L){u(E,L)},$$events:{close:()=>u(E,!1)},children:(L,ae)=>{var g=Mf(),j=ze(g);{var U=Y=>{var re=Ef(),le=n(re),$e=n(le);s(le);var k=i(le);s(re),z((T,O)=>{y($e,`S${T??""}E${O??""}`),y(k,` - ${e(q),p(()=>e(q).title||`Episode ${e(q).episode_number}`)??""}`)},[()=>(e(q),p(()=>String(e(q).season_number).padStart(2,"0"))),()=>(e(q),p(()=>String(e(q).episode_number).padStart(2,"0")))]),d(Y,re)};$(j,Y=>{e(q)&&Y(U)})}var W=i(j,2),Ae=n(W),Fe=i(n(Ae),2);de(Fe),s(Ae);var I=i(Ae,2),Q=n(I),ce=i(n(Q),2);z(()=>{e(F),$a(()=>{})});var he=n(ce);he.value=he.__value="480p";var ee=i(he);ee.value=ee.__value="720p";var Ye=i(ee);Ye.value=Ye.__value="1080p";var Ee=i(Ye);Ee.value=Ee.__value="2160p",s(ce),s(Q);var Le=i(Q,2),ye=i(n(Le),2);de(ye),s(Le),s(I),s(W),ue(Fe,()=>e(F).hash,Y=>P(F,e(F).hash=Y)),Ht(ce,()=>e(F).quality,Y=>P(F,e(F).quality=Y)),ue(ye,()=>e(F).size,Y=>P(F,e(F).size=Y)),J("submit",W,Ja(Ct)),d(L,g)},$$slots:{default:!0,footer:(L,ae)=>{var g=Af(),j=ze(g),U=i(j,2);J("click",j,()=>u(E,!1)),J("click",U,Ct),d(L,g)}},$$legacy:!0});var Pt=i(Tt,2);return ca(Pt,{title:"Add Season Torrent",size:"md",get open(){return e(C)},set open(L){u(C,L)},$$events:{close:()=>u(C,!1)},children:(L,ae)=>{var g=Df(),j=ze(g);{var U=Y=>{var re=qf(),le=ze(re),$e=n(le),k=n($e);s($e);var T=i($e);s(le),ct(2),z(O=>{y(k,`Season ${e(M)??""}`),y(T,` - ${O??""} episodes`)},[()=>(e(h),e(M),p(()=>e(h).get(e(M))?.length||0))]),d(Y,re)};$(j,Y=>{e(M)!==null&&Y(U)})}var W=i(j,2),Ae=n(W),Fe=i(n(Ae),2);Hs(Fe),s(Ae);var I=i(Ae,2),Q=n(I),ce=i(n(Q),2);z(()=>{e(m),$a(()=>{})});var he=n(ce);he.value=he.__value="480p";var ee=i(he);ee.value=ee.__value="720p";var Ye=i(ee);Ye.value=Ye.__value="1080p";var Ee=i(Ye);Ee.value=Ee.__value="2160p",s(ce),s(Q);var Le=i(Q,2),ye=i(n(Le),2);de(ye),ct(2),s(Le),s(I),s(W),ue(Fe,()=>e(m).magnet,Y=>P(m,e(m).magnet=Y)),Ht(ce,()=>e(m).quality,Y=>P(m,e(m).quality=Y)),ue(ye,()=>e(m).totalSize,Y=>P(m,e(m).totalSize=Y)),J("submit",W,Ja(kt)),d(L,g)},$$slots:{default:!0,footer:(L,ae)=>{var g=If(),j=ze(g),U=i(j,2);J("click",j,()=>u(C,!1)),J("click",U,kt),d(L,g)}},$$legacy:!0}),d(t,Lt),ia(_t)}var Pf=f('<div class="channels-page"><header class="page-header"><h1 class="page-title">LIVE CHANNELS</h1> <div class="page-actions"><button class="btn btn-secondary">IMPORT M3U</button> <button class="btn btn-primary">ADD</button></div></header> <div class="empty-state"><p>Live Channels management coming soon</p></div></div>');function Ol(t,r){if(new.target)return da({component:Ol,...t});na(r,!1);var l={$set:pa,$on:(o,v)=>ua(r,o,v)},a=Pf();return d(t,a),ia(l)}var Rf=f('<div class="loading"><div class="spinner"></div></div>'),jf=f('<div class="empty-state"><p>No curated lists yet. Create one to get started.</p></div>'),Ff=f('<span class="filter svelte-1adbcgk"> </span>'),Bf=f('<span class="filter svelte-1adbcgk"> </span>'),Of=f('<span class="filter svelte-1adbcgk"> </span>'),Nf=f('<span class="filter svelte-1adbcgk"> </span>'),Vf=f('<span class="status-active svelte-1adbcgk">Active</span>'),Uf=f('<span class="status-inactive svelte-1adbcgk">Inactive</span>'),Yf=f('<tr><td class="list-name svelte-1adbcgk"> </td><td><code class="svelte-1adbcgk"> </code></td><td> </td><td class="filters svelte-1adbcgk"><!> <!> <!> <!></td><td> </td><td><!></td><td><div class="actions"><button class="btn btn-sm btn-secondary">MANAGE</button> <button class="btn btn-sm btn-warning">EDIT</button> <button class="btn btn-sm btn-danger">DELETE</button></div></td></tr>'),Hf=f('<div class="card"><table class="data-table"><thead><tr><th>Name</th><th>Slug</th><th>Sort By</th><th>Filters</th><th>Limit</th><th>Active</th><th style="text-align: right;">Actions</th></tr></thead><tbody></tbody></table></div>'),Gf=f('<div class="curated-page"><header class="page-header"><h1 class="page-title">CURATED LISTS</h1> <div class="page-actions"><button class="btn btn-primary">CREATE LIST</button></div></header> <!></div>');function Nl(t,r){if(new.target)return da({component:Nl,...t});na(r,!1);let l=_e([]),a=_e(!0);cs(async()=>{try{u(l,await Kv())}catch(w){console.error("Failed to load curated lists:",w)}finally{u(a,!1)}});var o={$set:pa,$on:(w,S)=>ua(r,w,S)};ts();var v=Gf(),_=i(n(v),2);{var h=w=>{var S=Rf();d(w,S)},b=w=>{var S=Bt(),E=ze(S);{var C=M=>{var F=jf();d(M,F)},q=M=>{var F=Hf(),m=n(F),c=i(n(m));st(c,5,()=>e(l),at,(x,K)=>{var Se=Yf(),ke=n(Se),te=n(ke,!0);s(ke);var G=i(ke),be=n(G),De=n(be,!0);s(be),s(G);var Me=i(G),Ze=n(Me);s(Me);var Ct=i(Me),Ne=n(Ct);{var nt=L=>{var ae=Ff(),g=n(ae);s(ae),z(()=>y(g,`Rating â¥ ${e(K).minimum_rating??""}`)),d(L,ae)};$(Ne,L=>{e(K).minimum_rating&&L(nt)})}var xt=i(Ne,2);{var kt=L=>{var ae=Bf(),g=n(ae);s(ae),z(()=>y(g,`Genre: ${e(K).genre??""}`)),d(L,ae)};$(xt,L=>{e(K).genre&&L(kt)})}var _t=i(xt,2);{var Lt=L=>{var ae=Of(),g=n(ae);s(ae),z(()=>y(g,`Year â¥ ${e(K).minimum_year??""}`)),d(L,ae)};$(_t,L=>{e(K).minimum_year&&L(Lt)})}var Rt=i(_t,2);{var Nt=L=>{var ae=Nf(),g=n(ae);s(ae),z(()=>y(g,`Year â¤ ${e(K).maximum_year??""}`)),d(L,ae)};$(Rt,L=>{e(K).maximum_year&&L(Nt)})}s(Ct);var Gt=i(Ct),Ve=n(Gt,!0);s(Gt);var Qe=i(Gt),mt=n(Qe);{var Tt=L=>{var ae=Vf();d(L,ae)},Pt=L=>{var ae=Uf();d(L,ae)};$(mt,L=>{e(K).is_active?L(Tt):L(Pt,!1)})}s(Qe),ct(),s(Se),z(()=>{y(te,e(K).name),y(De,e(K).slug),y(Ze,`${e(K).sort_by??""} ${e(K).order_by??""}`),y(Ve,e(K).limit)}),d(x,Se)}),s(c),s(m),s(F),d(M,F)};$(E,M=>{e(l).length===0?M(C):M(q,!1)},!0)}d(w,S)};$(_,w=>{e(a)?w(h):w(b,!1)})}return s(v),d(t,v),ia(o)}var Wf=f('<button><span> </span> <span class="path svelte-e9yfgx"> </span></button>'),Qf=f('<div class="category svelte-e9yfgx"><h3 class="svelte-e9yfgx"> </h3> <!></div>'),Kf=f('<tr><td class="svelte-e9yfgx"><code class="svelte-e9yfgx"> </code></td><td class="svelte-e9yfgx"><span class="type svelte-e9yfgx"> </span></td><td class="svelte-e9yfgx"> </td></tr>'),Zf=f('<h3 class="svelte-e9yfgx">Parameters</h3> <table class="params-table svelte-e9yfgx"><thead><tr><th class="svelte-e9yfgx">Name</th><th class="svelte-e9yfgx">Type</th><th class="svelte-e9yfgx">Description</th></tr></thead><tbody></tbody></table>',1),Jf=f('<div class="endpoint-detail svelte-e9yfgx"><div class="endpoint-header svelte-e9yfgx"><span> </span> <code class="path-code svelte-e9yfgx"> </code></div> <p class="description svelte-e9yfgx"> </p> <!> <h3 class="svelte-e9yfgx">Example Request</h3> <pre class="code-block svelte-e9yfgx"> </pre></div>'),Xf=f('<div class="welcome-message svelte-e9yfgx"><svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" class="svelte-e9yfgx"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> <h2 class="svelte-e9yfgx">Select an endpoint</h2> <p>Choose an endpoint from the sidebar to view its documentation.</p></div>'),e_=f('<div class="page-header svelte-e9yfgx"><h1 class="svelte-e9yfgx">API Documentation</h1> <div class="header-actions"><span class="base-url svelte-e9yfgx">Base URL: <code class="svelte-e9yfgx">http://localhost:8080</code></span></div></div> <div class="docs-container svelte-e9yfgx"><aside class="docs-sidebar svelte-e9yfgx"></aside> <main class="docs-content svelte-e9yfgx"><!></main></div>',1);function Vl(t,r){if(new.target)return da({component:Vl,...t});na(r,!1);const l=[{category:"Movies",items:[{method:"GET",path:"/api/v2/list_movies.json",description:"List all movies with filtering and pagination",params:[{name:"limit",type:"int",description:"Number of results (default: 20, max: 50)"},{name:"page",type:"int",description:"Page number (default: 1)"},{name:"quality",type:"string",description:"Filter by quality (720p, 1080p, 2160p)"},{name:"minimum_rating",type:"float",description:"Minimum IMDb rating"},{name:"query_term",type:"string",description:"Search term for title"},{name:"genre",type:"string",description:"Filter by genre"},{name:"sort_by",type:"string",description:"Sort field (title, year, rating, date_added)"},{name:"order_by",type:"string",description:"Sort order (asc, desc)"},{name:"year",type:"int",description:"Filter by exact year"},{name:"minimum_year",type:"int",description:"Minimum release year"},{name:"maximum_year",type:"int",description:"Maximum release year"}]},{method:"GET",path:"/api/v2/movie_details.json",description:"Get detailed information about a specific movie",params:[{name:"movie_id",type:"int",description:"Movie ID (required)"},{name:"with_cast",type:"bool",description:"Include cast information"},{name:"with_images",type:"bool",description:"Include additional images"}]},{method:"GET",path:"/api/v2/movie_suggestions.json",description:"Get movie suggestions based on a movie",params:[{name:"movie_id",type:"int",description:"Movie ID (required)"}]}]},{category:"Curated Lists",items:[{method:"GET",path:"/api/v2/curated_lists.json",description:"Get all active curated lists",params:[]},{method:"GET",path:"/api/v2/curated_list.json",description:"Get a curated list with movies",params:[{name:"slug",type:"string",description:"List slug (required)"},{name:"limit",type:"int",description:"Number of movies to return"}]}]},{category:"Streaming",items:[{method:"GET",path:"/stream/{info_hash}/{file_index}",description:"Stream a video file from a torrent",params:[{name:"info_hash",type:"string",description:"Torrent info hash"},{name:"file_index",type:"int",description:"File index in the torrent"}]}]},{category:"Stremio Addon",items:[{method:"GET",path:"/manifest.json",description:"Stremio addon manifest",params:[]},{method:"GET",path:"/catalog/{type}/{id}.json",description:"Stremio catalog endpoint",params:[{name:"type",type:"string",description:"Content type (movie, series)"},{name:"id",type:"string",description:"Catalog ID"}]},{method:"GET",path:"/stream/{type}/{id}.json",description:"Stremio stream endpoint",params:[{name:"type",type:"string",description:"Content type"},{name:"id",type:"string",description:"IMDb ID"}]}]}];let a=_e(null);var o={$set:pa,$on:(C,q)=>ua(r,C,q)};ts();var v=e_(),_=i(ze(v),2),h=n(_);st(h,5,()=>l,at,(C,q)=>{var M=Qf(),F=n(M),m=n(F,!0);s(F);var c=i(F,2);st(c,1,()=>e(q).items,at,(x,K)=>{var Se=Wf();let ke;var te=n(Se),G=n(te,!0);s(te);var be=i(te,2),De=n(be,!0);s(be),s(Se),z(Me=>{ke=ot(Se,1,"endpoint-link svelte-e9yfgx",null,ke,{active:e(a)===e(K)}),ot(te,1,`method ${Me??""}`,"svelte-e9yfgx"),y(G,e(K).method),y(De,e(K).path)},[()=>e(K).method.toLowerCase()]),J("click",Se,()=>u(a,e(K))),d(x,Se)}),s(M),z(()=>y(m,e(q).category)),d(C,M)}),s(h);var b=i(h,2),w=n(b);{var S=C=>{var q=Jf(),M=n(q),F=n(M),m=n(F,!0);s(F);var c=i(F,2),x=n(c,!0);s(c),s(M);var K=i(M,2),Se=n(K,!0);s(K);var ke=i(K,2);{var te=De=>{var Me=Zf(),Ze=i(ze(Me),2),Ct=i(n(Ze));st(Ct,5,()=>e(a).params,at,(Ne,nt)=>{var xt=Kf(),kt=n(xt),_t=n(kt),Lt=n(_t,!0);s(_t),s(kt);var Rt=i(kt),Nt=n(Rt),Gt=n(Nt,!0);s(Nt),s(Rt);var Ve=i(Rt),Qe=n(Ve,!0);s(Ve),s(xt),z(()=>{y(Lt,e(nt).name),y(Gt,e(nt).type),y(Qe,e(nt).description)}),d(Ne,xt)}),s(Ct),s(Ze),d(De,Me)};$(ke,De=>{e(a).params.length>0&&De(te)})}var G=i(ke,4),be=n(G);s(G),s(q),z((De,Me)=>{ot(F,1,`method large ${De??""}`,"svelte-e9yfgx"),y(m,e(a).method),y(x,e(a).path),y(Se,e(a).description),y(be,`curl "http://localhost:8080${e(a).path??""}${Me??""}"`)},[()=>e(a).method.toLowerCase(),()=>e(a).params.length>0?"?"+e(a).params.slice(0,2).map(De=>De.name+"=...").join("&"):""]),d(C,q)},E=C=>{var q=Xf();d(C,q)};$(w,C=>{e(a)?C(S):C(E,!1)})}return s(b),s(_),d(t,v),ia(o)}var t_=f('<label><input type="radio" name="mirror" class="svelte-15j4tnx"/> <span class="mirror-name svelte-15j4tnx"> </span> <span class="mirror-url svelte-15j4tnx"> </span> <button type="button" class="btn btn-sm btn-secondary test-btn svelte-15j4tnx">Test</button></label>'),a_=f('<button type="button" class="btn btn-sm btn-secondary test-btn svelte-15j4tnx">Test</button>'),s_=f("<div><!></div>"),r_=f('<div class="current-mirror mb-4 svelte-15j4tnx"><span class="label svelte-15j4tnx">Current Mirror:</span> <span class="value svelte-15j4tnx"> </span></div> <div class="form-group"><label class="form-label">Select Mirror</label> <div class="mirror-options svelte-15j4tnx"><!> <label><input type="radio" name="mirror" class="svelte-15j4tnx"/> <span class="mirror-name svelte-15j4tnx">CUSTOM</span> <input type="text" class="form-input custom-input svelte-15j4tnx" placeholder="https://yts.example.com/api/v2"/> <!></label></div></div> <!> <button class="btn btn-primary mt-4"> </button>',1),n_=f('<p class="text-muted">Loading settings...</p>'),i_=f('<div class="card"><h3 class="svelte-15j4tnx">YTS Mirror Configuration</h3> <p class="text-muted mb-4">Select the YTS mirror to use for torrent searches.</p> <!></div>'),l_=f("<div> </div>"),o_=f(`<div class="card"><h3 class="svelte-15j4tnx">Refresh All Content</h3> <p class="text-muted mb-4">Fetch latest metadata from IMDB/OMDB for all content. This includes ratings, cast, directors, images, and box office data.
        Runs in background with rate limiting.</p> <div class="sync-buttons svelte-15j4tnx"><div class="sync-item svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">Movies</span> <span class="sync-desc svelte-15j4tnx">Refresh all movie metadata from IMDB/OMDB</span></div> <button class="btn btn-primary"> </button></div> <div class="sync-item svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">TV Shows</span> <span class="sync-desc svelte-15j4tnx">Refresh all TV show metadata from IMDB + torrents from EZTV</span></div> <button class="btn btn-primary"> </button></div></div> <!></div> <div class="card mt-4"><h3 class="svelte-15j4tnx">Torrent Sync</h3> <p class="text-muted mb-4">Search and add torrents from YTS, EZTV, and 1337x for all content.</p> <div class="sync-buttons svelte-15j4tnx"><div class="sync-item svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">Sync Torrents</span> <span class="sync-desc svelte-15j4tnx">Find new torrents for all movies</span></div> <button class="btn btn-secondary" disabled>Coming Soon</button></div></div></div>`,1),v_=f('<div class="card"><h3 class="svelte-15j4tnx">IMDB API</h3> <p class="text-muted mb-4">Using <a href="https://imdbapi.dev" target="_blank" class="link svelte-15j4tnx">imdbapi.dev</a> - Free, no API key required.</p> <div class="api-status success svelte-15j4tnx"><span class="status-dot svelte-15j4tnx"></span> Active - No configuration needed</div></div> <div class="card mt-4"><h3 class="svelte-15j4tnx">OMDB API (Fallback)</h3> <p class="text-muted mb-4">Used as fallback for Rotten Tomatoes scores. Get a free key at <a href="https://www.omdbapi.com/apikey.aspx" target="_blank" class="link svelte-15j4tnx">omdbapi.com</a></p> <div class="form-group"><label class="form-label" for="omdb_api_key">API Key</label> <input type="text" id="omdb_api_key" class="form-input" placeholder="Enter OMDB API key"/></div> <p class="text-muted text-sm svelte-15j4tnx">Set via environment variable: OMDB_API_KEY</p></div>',1),c_=f('<div class="card"><h3 class="svelte-15j4tnx">Database Info</h3> <div class="db-info svelte-15j4tnx"><div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Location</span> <span class="db-value svelte-15j4tnx">./data/torrents.db</span></div> <div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Type</span> <span class="db-value svelte-15j4tnx">SQLite</span></div></div></div> <div class="card mt-4"><h3 class="svelte-15j4tnx">Maintenance</h3> <div class="sync-buttons svelte-15j4tnx"><div class="sync-item svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">Export Database</span> <span class="sync-desc svelte-15j4tnx">Download a backup of your database</span></div> <button class="btn btn-secondary" disabled>Export</button></div> <div class="sync-item danger svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">Clear All Data</span> <span class="sync-desc svelte-15j4tnx">Delete all movies, shows, and torrents</span></div> <button class="btn btn-danger" disabled>Clear Data</button></div></div></div>',1),d_=f('<div class="settings-page"><header class="page-header"><h1 class="page-title">SETTINGS</h1></header> <div class="tabs svelte-15j4tnx"><button>General</button> <button>Data Sync</button> <button>API Keys</button> <button>Database</button></div> <!> <!> <!> <!></div>');function Ul(t,r){if(new.target)return da({component:Ul,...t});na(r,!0);let l=pt("general"),a=pt(null),o=pt(""),v=pt(""),_=pt(!1),h=pt(!1),b=pt(null),w=pt(!1),S=pt(!1),E=pt(!1),C=pt(null);cs(async()=>{await q()});async function q(){try{const Ve=await fetch("/admin/api/settings/yts");Ve.ok&&(u(a,await Ve.json(),!0),u(o,e(a)?.current_mirror||"",!0),e(a)&&!e(a).mirrors.includes(e(a).current_mirror)&&(u(_,!0),u(v,e(a).current_mirror,!0)))}catch(Ve){console.error("Failed to load YTS settings:",Ve)}}async function M(Ve){u(h,!0),u(b,null);try{const Qe=await fetch("/admin/api/settings/yts/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mirror:Ve})});u(b,await Qe.json(),!0)}catch(Qe){u(b,{status:"error",message:String(Qe)},!0)}finally{u(h,!1)}}async function F(){const Ve=e(_)?e(v):e(o);if(Ve){u(w,!0);try{const Qe=await fetch("/admin/api/settings/yts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mirror:Ve})});if(Qe.ok)await q(),u(b,{status:"ok",message:"Settings saved!"},!0);else{const mt=await Qe.text();u(b,{status:"error",message:mt},!0)}}catch(Qe){u(b,{status:"error",message:String(Qe)},!0)}finally{u(w,!1)}}}function m(Ve){try{return new URL(Ve).hostname.toUpperCase()}catch{return Ve}}async function c(){u(S,!0),u(C,null);try{const Ve=await fetch("/admin/api/refresh_all_movies",{method:"POST",headers:{"Content-Type":"application/json"}});if(Ve.ok)u(C,"Movie refresh started! Check server logs for progress.");else{const Qe=await Ve.json();u(C,"Error: "+(Qe.status_message||"Failed to start refresh"))}}catch(Ve){u(C,"Error: "+String(Ve))}finally{u(S,!1)}}async function x(){u(E,!0),u(C,null);try{const Ve=await fetch("/admin/api/refresh_all_series",{method:"POST",headers:{"Content-Type":"application/json"}});if(Ve.ok)u(C,"TV Shows refresh started! Check server logs for progress.");else{const Qe=await Ve.json();u(C,"Error: "+(Qe.status_message||"Failed to start refresh"))}}catch(Ve){u(C,"Error: "+String(Ve))}finally{u(E,!1)}}var K={$set:pa,$on:(Ve,Qe)=>ua(r,Ve,Qe)},Se=d_(),ke=i(n(Se),2),te=n(ke);let G;te.__click=()=>u(l,"general");var be=i(te,2);let De;be.__click=()=>u(l,"sync");var Me=i(be,2);let Ze;Me.__click=()=>u(l,"api");var Ct=i(Me,2);let Ne;Ct.__click=()=>u(l,"database"),s(ke);var nt=i(ke,2);{var xt=Ve=>{var Qe=i_(),mt=i(n(Qe),4);{var Tt=L=>{var ae=r_(),g=ze(ae),j=i(n(g),2),U=n(j,!0);s(j),s(g);var W=i(g,2),Ae=i(n(W),2),Fe=n(Ae);st(Fe,17,()=>e(a).mirrors,at,(re,le)=>{var $e=t_();let k;var T=n($e);de(T),T.__change=()=>{u(o,e(le),!0),u(_,!1),u(b,null)};var O=i(T,2),R=n(O,!0);s(O);var N=i(O,2),X=n(N,!0);s(N);var V=i(N,2);V.__click=()=>M(e(le)),s($e),z(se=>{k=ot($e,1,"mirror-option svelte-15j4tnx",null,k,{selected:!e(_)&&e(o)===e(le)}),fv(T,e(le)),rr(T,!e(_)&&e(o)===e(le)),y(R,se),y(X,e(le)),V.disabled=e(h)},[()=>m(e(le))]),d(re,$e)});var I=i(Fe,2);let Q;var ce=n(I);de(ce),ce.__change=()=>{u(_,!0),u(b,null)};var he=i(ce,4);de(he);var ee=i(he,2);{var Ye=re=>{var le=a_();le.__click=()=>M(e(v)),z(()=>le.disabled=e(h)),d(re,le)};$(ee,re=>{e(_)&&e(v)&&re(Ye)})}s(I),s(Ae),s(W);var Ee=i(W,2);{var Le=re=>{var le=s_(),$e=n(le);{var k=O=>{var R=sr();z(()=>y(R,`â ${e(b).message??""}`)),d(O,R)},T=O=>{var R=sr();z(()=>y(R,`â ${e(b).message??""}`)),d(O,R)};$($e,O=>{e(b).status==="ok"?O(k):O(T,!1)})}s(le),z(()=>ot(le,1,`test-result ${e(b).status??""}`,"svelte-15j4tnx")),d(re,le)};$(Ee,re=>{e(b)&&re(Le)})}var ye=i(Ee,2);ye.__click=F;var Y=n(ye,!0);s(ye),z(re=>{y(U,re),Q=ot(I,1,"mirror-option svelte-15j4tnx",null,Q,{selected:e(_)}),rr(ce,e(_)),ye.disabled=e(w)||!e(_)&&!e(o)||e(_)&&!e(v),y(Y,e(w)?"Saving...":"Save Mirror")},[()=>m(e(a).current_mirror)]),J("focus",he,()=>{u(_,!0)}),ue(he,()=>e(v),re=>u(v,re)),d(L,ae)},Pt=L=>{var ae=n_();d(L,ae)};$(mt,L=>{e(a)?L(Tt):L(Pt,!1)})}s(Qe),d(Ve,Qe)};$(nt,Ve=>{e(l)==="general"&&Ve(xt)})}var kt=i(nt,2);{var _t=Ve=>{var Qe=o_(),mt=ze(Qe),Tt=i(n(mt),4),Pt=n(Tt),L=i(n(Pt),2);L.__click=c;var ae=n(L,!0);s(L),s(Pt);var g=i(Pt,2),j=i(n(g),2);j.__click=x;var U=n(j,!0);s(j),s(g),s(Tt);var W=i(Tt,2);{var Ae=Fe=>{var I=l_();let Q;var ce=n(I,!0);s(I),z(he=>{Q=ot(I,1,"sync-message svelte-15j4tnx",null,Q,he),y(ce,e(C))},[()=>({error:e(C).startsWith("Error")})]),d(Fe,I)};$(W,Fe=>{e(C)&&Fe(Ae)})}s(mt),ct(2),z(()=>{L.disabled=e(S),y(ae,e(S)?"Starting...":"Refresh All Movies"),j.disabled=e(E),y(U,e(E)?"Starting...":"Refresh All TV Shows")}),d(Ve,Qe)};$(kt,Ve=>{e(l)==="sync"&&Ve(_t)})}var Lt=i(kt,2);{var Rt=Ve=>{var Qe=v_();ct(2),d(Ve,Qe)};$(Lt,Ve=>{e(l)==="api"&&Ve(Rt)})}var Nt=i(Lt,2);{var Gt=Ve=>{var Qe=c_();ct(2),d(Ve,Qe)};$(Nt,Ve=>{e(l)==="database"&&Ve(Gt)})}return s(Se),z(()=>{G=ot(te,1,"tab svelte-15j4tnx",null,G,{active:e(l)==="general"}),De=ot(be,1,"tab svelte-15j4tnx",null,De,{active:e(l)==="sync"}),Ze=ot(Me,1,"tab svelte-15j4tnx",null,Ze,{active:e(l)==="api"}),Ne=ot(Ct,1,"tab svelte-15j4tnx",null,Ne,{active:e(l)==="database"})}),d(t,Se),ia(K)}Zn(["click","change"]);var u_=f('<div class="loading svelte-1n46o8q"><div class="spinner svelte-1n46o8q"></div></div>'),p_=f('<div class="app-layout"><!> <main class="main-content"><!></main></div>');function Yl(t,r){if(new.target)return da({component:Yl,...t});na(r,!1);let l=_e(!1),a=_e(!0);async function o(){try{const C=await fetch("/admin/api/auth/check");u(l,C.ok)}catch(C){console.error("Auth check failed - backend may not be running:",C),u(l,!1)}u(a,!1)}o();function v(){u(l,!0)}const _={"/":Il,"/analytics":Ll,"/home":Pl,"/movies":Rl,"/movies/:id":jl,"/tvshows":Fl,"/tvshows/:id":Bl,"/channels":Ol,"/curated":Nl,"/api-docs":Vl,"/settings":Ul};var h={$set:pa,$on:(C,q)=>ua(r,C,q)},b=Bt(),w=ze(b);{var S=C=>{var q=u_();d(C,q)},E=C=>{var q=Bt(),M=ze(q);{var F=c=>{El(c,{$$events:{login:v}})},m=c=>{var x=p_(),K=n(x);Tl(K,{});var Se=i(K,2),ke=n(Se);Cl(ke,{get routes(){return _}}),s(Se),s(x),d(c,x)};$(M,c=>{e(l)?c(m,!1):c(F)},!0)}d(C,q)};$(w,C=>{e(a)?C(S):C(E,!1)})}return d(t,b),ia(h)}new Yl({target:document.getElementById("app")});
