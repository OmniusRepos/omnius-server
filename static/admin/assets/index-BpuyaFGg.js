(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const _ of d.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&s(_)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();const Ua=2,Ln=4,Sn=8,cl=1<<24,pr=16,Os=32,Vr=64,bi=128,$s=512,ja=1024,Va=2048,zs=4096,ms=8192,cr=16384,Nn=32768,Fr=65536,Oi=1<<17,dl=1<<18,nn=1<<19,ul=1<<20,lr=1<<25,Br=32768,ri=1<<21,yi=1<<22,xr=1<<23,dr=Symbol("$state"),xi=Symbol("legacy props"),Wo=Symbol(""),Xr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},$n=3,ln=8,ni=!1;var Cn=Array.isArray,Ko=Array.prototype.indexOf,en=Array.prototype.includes,Un=Array.from,ki=Object.defineProperty,kr=Object.getOwnPropertyDescriptor,pl=Object.getOwnPropertyDescriptors,Xo=Object.prototype,Jo=Array.prototype,wi=Object.getPrototypeOf,Ni=Object.isExtensible;function _n(t){return typeof t=="function"}const wr=()=>{};function Qo(t){return t()}function Rn(t){for(var i=0;i<t.length;i++)t[i]()}function fl(){var t,i,l=new Promise((s,c)=>{t=s,i=c});return{promise:l,resolve:t,reject:i}}function Ui(t,i){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const l=[];for(const s of t)if(l.push(s),l.length===i)break;return l}function _l(t){return t===this.v}function ml(t,i){return t!=t?i==i:t!==i||t!==null&&typeof t=="object"||typeof t=="function"}function hl(t){return!ml(t,this.v)}function Vn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Zo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ev(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function tv(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function av(t){throw new Error("https://svelte.dev/e/effect_orphan")}function sv(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function rv(){throw new Error("https://svelte.dev/e/hydration_failed")}function nv(t){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function iv(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function lv(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ov(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function vv(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function cv(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let on=!1,dv=!1;function uv(){on=!0}const pv=1,fv=2,gl=4,_v=8,mv=16,hv=1,gv=2,bv=4,yv=8,xv=16,bl=1,kv=2,yl="[",Gn="[!",Si="]",tn={},Na=Symbol(),wv="http://www.w3.org/1999/xhtml";let ma=null;function an(t){ma=t}function Aa(t,i=!1,l){ma={p:ma,i:!1,c:null,e:null,s:t,x:null,l:on&&!i?{s:null,u:null,$:[]}:null}}function qa(t){var i=ma,l=i.e;if(l!==null){i.e=null;for(var s of l)Yl(s)}return t!==void 0&&(i.x=t),i.i=!0,ma=i.p,t??{}}function zn(){return!on||ma!==null&&ma.l===null}let qr=[];function xl(){var t=qr;qr=[],Rn(t)}function ur(t){if(qr.length===0&&!yn){var i=qr;queueMicrotask(()=>{i===qr&&xl()})}qr.push(t)}function Sv(){for(;qr.length>0;)xl()}function Hn(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function $v(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Cv(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let jt=!1;function or(t){jt=t}let Jt;function Xa(t){if(t===null)throw Hn(),tn;return Jt=t}function vn(){return Xa(Xs(Jt))}function a(t){if(jt){if(Xs(Jt)!==null)throw Hn(),tn;Jt=t}}function ut(t=1){if(jt){for(var i=t,l=Jt;i--;)l=Xs(l);Jt=l}}function Fn(t=!0){for(var i=0,l=Jt;;){if(l.nodeType===ln){var s=l.data;if(s===Si){if(i===0)return l;i-=1}else(s===yl||s===Gn)&&(i+=1)}var c=Xs(l);t&&l.remove(),l=c}}function kl(t){if(!t||t.nodeType!==ln)throw Hn(),tn;return t.data}function Pa(t){if(typeof t!="object"||t===null||dr in t)return t;const i=wi(t);if(i!==Xo&&i!==Jo)return t;var l=new Map,s=Cn(t),c=tt(0),d=Pr,_=m=>{if(Pr===d)return m();var k=Xt,w=Pr;Ts(null),Wi(d);var $=m();return Ts(k),Wi(w),$};return s&&l.set("length",tt(t.length)),new Proxy(t,{defineProperty(m,k,w){(!("value"in w)||w.configurable===!1||w.enumerable===!1||w.writable===!1)&&lv();var $=l.get(k);return $===void 0?$=_(()=>{var I=tt(w.value);return l.set(k,I),I}):o($,w.value,!0),!0},deleteProperty(m,k){var w=l.get(k);if(w===void 0){if(k in m){const $=_(()=>tt(Na));l.set(k,$),xn(c)}}else o(w,Na),xn(c);return!0},get(m,k,w){if(k===dr)return t;var $=l.get(k),I=k in m;if($===void 0&&(!I||kr(m,k)?.writable)&&($=_(()=>{var V=Pa(I?m[k]:Na),A=tt(V);return A}),l.set(k,$)),$!==void 0){var L=e($);return L===Na?void 0:L}return Reflect.get(m,k,w)},getOwnPropertyDescriptor(m,k){var w=Reflect.getOwnPropertyDescriptor(m,k);if(w&&"value"in w){var $=l.get(k);$&&(w.value=e($))}else if(w===void 0){var I=l.get(k),L=I?.v;if(I!==void 0&&L!==Na)return{enumerable:!0,configurable:!0,value:L,writable:!0}}return w},has(m,k){if(k===dr)return!0;var w=l.get(k),$=w!==void 0&&w.v!==Na||Reflect.has(m,k);if(w!==void 0||sa!==null&&(!$||kr(m,k)?.writable)){w===void 0&&(w=_(()=>{var L=$?Pa(m[k]):Na,V=tt(L);return V}),l.set(k,w));var I=e(w);if(I===Na)return!1}return $},set(m,k,w,$){var I=l.get(k),L=k in m;if(s&&k==="length")for(var V=w;V<I.v;V+=1){var A=l.get(V+"");A!==void 0?o(A,Na):V in m&&(A=_(()=>tt(Na)),l.set(V+"",A))}if(I===void 0)(!L||kr(m,k)?.writable)&&(I=_(()=>tt(void 0)),o(I,Pa(w)),l.set(k,I));else{L=I.v!==Na;var ee=_(()=>Pa(w));o(I,ee)}var S=Reflect.getOwnPropertyDescriptor(m,k);if(S?.set&&S.set.call($,w),!L){if(s&&typeof k=="string"){var g=l.get("length"),x=Number(k);Number.isInteger(x)&&x>=g.v&&o(g,x+1)}xn(c)}return!0},ownKeys(m){e(c);var k=Reflect.ownKeys(m).filter(I=>{var L=l.get(I);return L===void 0||L.v!==Na});for(var[w,$]of l)$.v!==Na&&!(w in m)&&k.push(w);return k},setPrototypeOf(){ov()}})}function Vi(t){try{if(t!==null&&typeof t=="object"&&dr in t)return t[dr]}catch{}return t}function zv(t,i){return Object.is(Vi(t),Vi(i))}var ii,wl,Sl,$l;function li(){if(ii===void 0){ii=window,wl=/Firefox/.test(navigator.userAgent);var t=Element.prototype,i=Node.prototype,l=Text.prototype;Sl=kr(i,"firstChild").get,$l=kr(i,"nextSibling").get,Ni(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ni(l)&&(l.__t=void 0)}}function ns(t=""){return document.createTextNode(t)}function _s(t){return Sl.call(t)}function Xs(t){return $l.call(t)}function r(t,i){if(!jt)return _s(t);var l=_s(Jt);if(l===null)l=Jt.appendChild(ns());else if(i&&l.nodeType!==$n){var s=ns();return l?.before(s),Xa(s),s}return i&&Yn(l),Xa(l),l}function ge(t,i=!1){if(!jt){var l=_s(t);return l instanceof Comment&&l.data===""?Xs(l):l}if(i){if(Jt?.nodeType!==$n){var s=ns();return Jt?.before(s),Xa(s),s}Yn(Jt)}return Jt}function n(t,i=1,l=!1){let s=jt?Jt:t;for(var c;i--;)c=s,s=Xs(s);if(!jt)return s;if(l){if(s?.nodeType!==$n){var d=ns();return s===null?c?.after(d):s.before(d),Xa(d),d}Yn(s)}return Xa(s),s}function $i(t){t.textContent=""}function Cl(){return!1}function Yn(t){if(t.nodeValue.length<65536)return;let i=t.nextSibling;for(;i!==null&&i.nodeType===$n;)i.remove(),t.nodeValue+=i.nodeValue,i=t.nextSibling}function zl(t){var i=sa;if(i===null)return Xt.f|=xr,t;if((i.f&Nn)===0){if((i.f&bi)===0)throw t;i.b.error(t)}else sn(t,i)}function sn(t,i){for(;i!==null;){if((i.f&bi)!==0)try{i.b.error(t);return}catch(l){t=l}i=i.parent}throw t}const Tv=-7169;function $a(t,i){t.f=t.f&Tv|i}function Ci(t){(t.f&$s)!==0||t.deps===null?$a(t,ja):$a(t,zs)}function Tl(t){if(t!==null)for(const i of t)(i.f&Ua)===0||(i.f&Br)===0||(i.f^=Br,Tl(i.deps))}function El(t,i,l){(t.f&Va)!==0?i.add(t):(t.f&zs)!==0&&l.add(t),Tl(t.deps),$a(t,ja)}const Dn=new Set;let aa=null,Bn=null,js=null,fs=[],Wn=null,oi=!1,yn=!1;class Sr{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#a=0;#i=0;#l=null;#r=new Set;#s=new Set;#n=new Map;is_fork=!1;#o=!1;is_deferred(){return this.is_fork||this.#i>0}skip_effect(i){this.#n.has(i)||this.#n.set(i,{d:[],m:[]})}unskip_effect(i){var l=this.#n.get(i);if(l){this.#n.delete(i);for(var s of l.d)$a(s,Va),Ls(s);for(s of l.m)$a(s,zs),Ls(s)}}process(i){fs=[],this.apply();var l=[],s=[];for(const c of i)this.#v(c,l,s);if(this.is_deferred()){this.#d(s),this.#d(l);for(const[c,d]of this.#n)Dl(c,d)}else{for(const c of this.#e)c();this.#e.clear(),this.#a===0&&this.#c(),Bn=this,aa=null,Gi(s),Gi(l),Bn=null,this.#l?.resolve()}js=null}#v(i,l,s){i.f^=ja;for(var c=i.first,d=null;c!==null;){var _=c.f,m=(_&(Os|Vr))!==0,k=m&&(_&ja)!==0,w=k||(_&ms)!==0||this.#n.has(c);if(!w&&c.fn!==null){m?c.f^=ja:d!==null&&(_&(Ln|Sn|cl))!==0?d.b.defer_effect(c):(_&Ln)!==0?l.push(c):cn(c)&&((_&pr)!==0&&this.#s.add(c),rn(c));var $=c.first;if($!==null){c=$;continue}}var I=c.parent;for(c=c.next;c===null&&I!==null;)I===d&&(d=null),c=I.next,I=I.parent}}#d(i){for(var l=0;l<i.length;l+=1)El(i[l],this.#r,this.#s)}capture(i,l){l!==Na&&!this.previous.has(i)&&this.previous.set(i,l),(i.f&xr)===0&&(this.current.set(i,i.v),js?.set(i,i.v))}activate(){aa=this,this.apply()}deactivate(){aa===this&&(aa=null,js=null)}flush(){if(this.activate(),fs.length>0){if(Ml(),aa!==null&&aa!==this)return}else this.#a===0&&this.process([]);this.deactivate()}discard(){for(const i of this.#t)i(this);this.#t.clear()}#c(){if(Dn.size>1){this.previous.clear();var i=js,l=!0;for(const c of Dn){if(c===this){l=!1;continue}const d=[];for(const[m,k]of this.current){if(c.current.has(m))if(l&&k!==c.current.get(m))c.current.set(m,k);else continue;d.push(m)}if(d.length===0)continue;const _=[...c.current.keys()].filter(m=>!this.current.has(m));if(_.length>0){var s=fs;fs=[];const m=new Set,k=new Map;for(const w of d)Al(w,_,m,k);if(fs.length>0){aa=c,c.apply();for(const w of fs)c.#v(w,[],[]);c.deactivate()}fs=s}}aa=null,js=i}this.committed=!0,Dn.delete(this)}increment(i){this.#a+=1,i&&(this.#i+=1)}decrement(i){this.#a-=1,i&&(this.#i-=1),!this.#o&&(this.#o=!0,ur(()=>{this.#o=!1,this.is_deferred()?fs.length>0&&this.flush():this.revive()}))}revive(){for(const i of this.#r)this.#s.delete(i),$a(i,Va),Ls(i);for(const i of this.#s)$a(i,zs),Ls(i);this.flush()}oncommit(i){this.#e.add(i)}ondiscard(i){this.#t.add(i)}settled(){return(this.#l??=fl()).promise}static ensure(){if(aa===null){const i=aa=new Sr;Dn.add(aa),yn||ur(()=>{aa===i&&i.flush()})}return aa}apply(){}}function Wa(t){var i=yn;yn=!0;try{for(var l;;){if(Sv(),fs.length===0&&(aa?.flush(),fs.length===0))return Wn=null,l;Ml()}}finally{yn=i}}function Ml(){oi=!0;var t=null;try{for(var i=0;fs.length>0;){var l=Sr.ensure();if(i++>1e3){var s,c;Ev()}l.process(fs),$r.clear()}}finally{oi=!1,Wn=null}}function Ev(){try{sv()}catch(t){sn(t,Wn)}}let ir=null;function Gi(t){var i=t.length;if(i!==0){for(var l=0;l<i;){var s=t[l++];if((s.f&(cr|ms))===0&&cn(s)&&(ir=new Set,rn(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?Jl(s):s.fn=null),ir?.size>0)){$r.clear();for(const c of ir){if((c.f&(cr|ms))!==0)continue;const d=[c];let _=c.parent;for(;_!==null;)ir.has(_)&&(ir.delete(_),d.push(_)),_=_.parent;for(let m=d.length-1;m>=0;m--){const k=d[m];(k.f&(cr|ms))===0&&rn(k)}}ir.clear()}}ir=null}}function Al(t,i,l,s){if(!l.has(t)&&(l.add(t),t.reactions!==null))for(const c of t.reactions){const d=c.f;(d&Ua)!==0?Al(c,i,l,s):(d&(yi|pr))!==0&&(d&Va)===0&&ql(c,i,s)&&($a(c,Va),Ls(c))}}function ql(t,i,l){const s=l.get(t);if(s!==void 0)return s;if(t.deps!==null)for(const c of t.deps){if(en.call(i,c))return!0;if((c.f&Ua)!==0&&ql(c,i,l))return l.set(c,!0),!0}return l.set(t,!1),!1}function Ls(t){for(var i=Wn=t;i.parent!==null;){i=i.parent;var l=i.f;if(oi&&i===sa&&(l&pr)!==0&&(l&dl)===0)return;if((l&(Vr|Os))!==0){if((l&ja)===0)return;i.f^=ja}}fs.push(i)}function Dl(t,i){if(!((t.f&Os)!==0&&(t.f&ja)!==0)){(t.f&Va)!==0?i.d.push(t):(t.f&zs)!==0&&i.m.push(t),$a(t,ja);for(var l=t.first;l!==null;)Dl(l,i),l=l.next}}function Mv(t){let i=0,l=Or(0),s;return()=>{Mi()&&(e(l),En(()=>(i===0&&(s=p(()=>t(()=>xn(l)))),i+=1,()=>{ur(()=>{i-=1,i===0&&(s?.(),s=void 0,xn(l))})})))}}var Av=Fr|nn|bi;function qv(t,i,l){new Dv(t,i,l)}class Dv{parent;is_pending=!1;#e;#t=jt?Jt:null;#a;#i;#l;#r=null;#s=null;#n=null;#o=null;#v=null;#d=0;#c=0;#f=!1;#p=!1;#_=new Set;#m=new Set;#u=null;#x=Mv(()=>(this.#u=Or(this.#d),()=>{this.#u=null}));constructor(i,l,s){this.#e=i,this.#a=l,this.#i=s,this.parent=sa.b,this.is_pending=!!this.#a.pending,this.#l=Qn(()=>{if(sa.b=this,jt){const d=this.#t;vn(),d.nodeType===ln&&d.data===Gn?this.#w():(this.#k(),this.#c===0&&(this.is_pending=!1))}else{var c=this.#b();try{this.#r=Ss(()=>s(c))}catch(d){this.error(d)}this.#c>0?this.#g():this.is_pending=!1}return()=>{this.#v?.remove()}},Av),jt&&(this.#e=Jt)}#k(){try{this.#r=Ss(()=>this.#i(this.#e))}catch(i){this.error(i)}}#w(){const i=this.#a.pending;i&&(this.#s=Ss(()=>i(this.#e)),ur(()=>{var l=this.#b();this.#r=this.#h(()=>(Sr.ensure(),Ss(()=>this.#i(l)))),this.#c>0?this.#g():(jr(this.#s,()=>{this.#s=null}),this.is_pending=!1)}))}#b(){var i=this.#e;return this.is_pending&&(this.#v=ns(),this.#e.before(this.#v),i=this.#v),i}defer_effect(i){El(i,this.#_,this.#m)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#a.pending}#h(i){var l=sa,s=Xt,c=ma;Ks(this.#l),Ts(this.#l),an(this.#l.ctx);try{return i()}catch(d){return zl(d),null}finally{Ks(l),Ts(s),an(c)}}#g(){const i=this.#a.pending;this.#r!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#v),eo(this.#r,this.#o)),this.#s===null&&(this.#s=Ss(()=>i(this.#e)))}#y(i){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(i);return}if(this.#c+=i,this.#c===0){this.is_pending=!1;for(const l of this.#_)$a(l,Va),Ls(l);for(const l of this.#m)$a(l,zs),Ls(l);this.#_.clear(),this.#m.clear(),this.#s&&jr(this.#s,()=>{this.#s=null}),this.#o&&(this.#e.before(this.#o),this.#o=null)}}update_pending_count(i){this.#y(i),this.#d+=i,!(!this.#u||this.#f)&&(this.#f=!0,ur(()=>{this.#f=!1,this.#u&&Nr(this.#u,this.#d)}))}get_effect_pending(){return this.#x(),e(this.#u)}error(i){var l=this.#a.onerror;let s=this.#a.failed;if(this.#p||!l&&!s)throw i;this.#r&&(is(this.#r),this.#r=null),this.#s&&(is(this.#s),this.#s=null),this.#n&&(is(this.#n),this.#n=null),jt&&(Xa(this.#t),ut(),Xa(Fn()));var c=!1,d=!1;const _=()=>{if(c){Cv();return}c=!0,d&&cv(),Sr.ensure(),this.#d=0,this.#n!==null&&jr(this.#n,()=>{this.#n=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#h(()=>(this.#p=!1,Ss(()=>this.#i(this.#e)))),this.#c>0?this.#g():this.is_pending=!1};ur(()=>{try{d=!0,l?.(i,_),d=!1}catch(m){sn(m,this.#l&&this.#l.parent)}s&&(this.#n=this.#h(()=>{Sr.ensure(),this.#p=!0;try{return Ss(()=>{s(this.#e,()=>i,()=>_)})}catch(m){return sn(m,this.#l.parent),null}finally{this.#p=!1}}))})}}function Iv(t,i,l,s){const c=zn()?Tn:wn;var d=t.filter(L=>!L.settled);if(l.length===0&&d.length===0){s(i.map(c));return}var _=aa,m=sa,k=Pv(),w=d.length===1?d[0].promise:d.length>1?Promise.all(d.map(L=>L.promise)):null;function $(L){k();try{s(L)}catch(V){(m.f&cr)===0&&sn(V,m)}_?.deactivate(),vi()}if(l.length===0){w.then(()=>$(i.map(c)));return}function I(){k(),Promise.all(l.map(L=>jv(L))).then(L=>$([...i.map(c),...L])).catch(L=>sn(L,m))}w?w.then(I):I()}function Pv(){var t=sa,i=Xt,l=ma,s=aa;return function(d=!0){Ks(t),Ts(i),an(l),d&&s?.activate()}}function vi(){Ks(null),Ts(null),an(null)}function Tn(t){var i=Ua|Va,l=Xt!==null&&(Xt.f&Ua)!==0?Xt:null;return sa!==null&&(sa.f|=nn),{ctx:ma,deps:null,effects:null,equals:_l,f:i,fn:t,reactions:null,rv:0,v:Na,wv:0,parent:l??sa,ac:null}}function jv(t,i,l){let s=sa;s===null&&Zo();var c=s.b,d=void 0,_=Or(Na),m=!Xt,k=new Map;return Gv(()=>{var w=fl();d=w.promise;try{Promise.resolve(t()).then(w.resolve,w.reject).then(()=>{$===aa&&$.committed&&$.deactivate(),vi()})}catch(V){w.reject(V),vi()}var $=aa;if(m){var I=c.is_rendered();c.update_pending_count(1),$.increment(I),k.get($)?.reject(Xr),k.delete($),k.set($,w)}const L=(V,A=void 0)=>{if($.activate(),A)A!==Xr&&(_.f|=xr,Nr(_,A));else{(_.f&xr)!==0&&(_.f^=xr),Nr(_,V);for(const[ee,S]of k){if(k.delete(ee),ee===$)break;S.reject(Xr)}}m&&(c.update_pending_count(-1),$.decrement(I))};w.promise.then(L,V=>L(null,V||"unknown"))}),Xn(()=>{for(const w of k.values())w.reject(Xr)}),new Promise(w=>{function $(I){function L(){I===d?w(_):$(d)}I.then(L,L)}$(d)})}function Ir(t){const i=Tn(t);return Fl(i),i}function wn(t){const i=Tn(t);return i.equals=hl,i}function Il(t){var i=t.effects;if(i!==null){t.effects=null;for(var l=0;l<i.length;l+=1)is(i[l])}}function Lv(t){for(var i=t.parent;i!==null;){if((i.f&Ua)===0)return(i.f&cr)===0?i:null;i=i.parent}return null}function zi(t){var i,l=sa;Ks(Lv(t));try{t.f&=~Br,Il(t),i=Ul(t)}finally{Ks(l)}return i}function Pl(t){var i=zi(t);if(!t.equals(i)&&(t.wv=Ol(),(!aa?.is_fork||t.deps===null)&&(t.v=i,t.deps===null))){$a(t,ja);return}Tr||(js!==null?(Mi()||aa?.is_fork)&&js.set(t,i):Ci(t))}let ci=new Set;const $r=new Map;let jl=!1;function Or(t,i){var l={f:0,v:t,reactions:null,equals:_l,rv:0,wv:0};return l}function tt(t,i){const l=Or(t);return Fl(l),l}function Z(t,i=!1,l=!0){const s=Or(t);return i||(s.equals=hl),on&&l&&ma!==null&&ma.l!==null&&(ma.l.s??=[]).push(s),s}function se(t,i){return o(t,p(()=>e(t))),i}function o(t,i,l=!1){Xt!==null&&(!Rs||(Xt.f&Oi)!==0)&&zn()&&(Xt.f&(Ua|pr|yi|Oi))!==0&&(Cs===null||!en.call(Cs,t))&&vv();let s=l?Pa(i):i;return Nr(t,s)}function Nr(t,i){if(!t.equals(i)){var l=t.v;Tr?$r.set(t,i):$r.set(t,l),t.v=i;var s=Sr.ensure();if(s.capture(t,l),(t.f&Ua)!==0){const c=t;(t.f&Va)!==0&&zi(c),Ci(c)}t.wv=Ol(),Ll(t,Va),zn()&&sa!==null&&(sa.f&ja)!==0&&(sa.f&(Os|Vr))===0&&(ws===null?Bv([t]):ws.push(t)),!s.is_fork&&ci.size>0&&!jl&&Rv()}return i}function Rv(){jl=!1;for(const t of ci)(t.f&ja)!==0&&$a(t,zs),cn(t)&&rn(t);ci.clear()}function xn(t){o(t,t.v+1)}function Ll(t,i){var l=t.reactions;if(l!==null)for(var s=zn(),c=l.length,d=0;d<c;d++){var _=l[d],m=_.f;if(!(!s&&_===sa)){var k=(m&Va)===0;if(k&&$a(_,i),(m&Ua)!==0){var w=_;js?.delete(w),(m&Br)===0&&(m&$s&&(_.f|=Br),Ll(w,zs))}else k&&((m&pr)!==0&&ir!==null&&ir.add(_),Ls(_))}}}let Kr=null;function Fv(t){var i=Kr;try{if(Kr=new Set,p(t),i!==null)for(var l of Kr)i.add(l);return Kr}finally{Kr=i}}function rs(t){for(var i of Fv(t))Nr(i,i.v)}function Ur(t){jt&&_s(t)!==null&&$i(t)}let Hi=!1;function Rl(){Hi||(Hi=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const i of t.target.elements)i.__on_r?.()})},{capture:!0}))}function Kn(t){var i=Xt,l=sa;Ts(null),Ks(null);try{return t()}finally{Ts(i),Ks(l)}}function Ti(t,i,l,s=l){t.addEventListener(i,()=>Kn(l));const c=t.__on_r;c?t.__on_r=()=>{c(),s(!0)}:t.__on_r=()=>s(!0),Rl()}let Pn=!1,Tr=!1;function Yi(t){Tr=t}let Xt=null,Rs=!1;function Ts(t){Xt=t}let sa=null;function Ks(t){sa=t}let Cs=null;function Fl(t){Xt!==null&&(Cs===null?Cs=[t]:Cs.push(t))}let ss=null,ps=0,ws=null;function Bv(t){ws=t}let Bl=1,Dr=0,Pr=Dr;function Wi(t){Pr=t}function Ol(){return++Bl}function cn(t){var i=t.f;if((i&Va)!==0)return!0;if(i&Ua&&(t.f&=~Br),(i&zs)!==0){for(var l=t.deps,s=l.length,c=0;c<s;c++){var d=l[c];if(cn(d)&&Pl(d),d.wv>t.wv)return!0}(i&$s)!==0&&js===null&&$a(t,ja)}return!1}function Nl(t,i,l=!0){var s=t.reactions;if(s!==null&&!(Cs!==null&&en.call(Cs,t)))for(var c=0;c<s.length;c++){var d=s[c];(d.f&Ua)!==0?Nl(d,i,!1):i===d&&(l?$a(d,Va):(d.f&ja)!==0&&$a(d,zs),Ls(d))}}function Ul(t){var i=ss,l=ps,s=ws,c=Xt,d=Cs,_=ma,m=Rs,k=Pr,w=t.f;ss=null,ps=0,ws=null,Xt=(w&(Os|Vr))===0?t:null,Cs=null,an(t.ctx),Rs=!1,Pr=++Dr,t.ac!==null&&(Kn(()=>{t.ac.abort(Xr)}),t.ac=null);try{t.f|=ri;var $=t.fn,I=$(),L=t.deps,V=aa?.is_fork;if(ss!==null){var A;if(V||On(t,ps),L!==null&&ps>0)for(L.length=ps+ss.length,A=0;A<ss.length;A++)L[ps+A]=ss[A];else t.deps=L=ss;if(Mi()&&(t.f&$s)!==0)for(A=ps;A<L.length;A++)(L[A].reactions??=[]).push(t)}else!V&&L!==null&&ps<L.length&&(On(t,ps),L.length=ps);if(zn()&&ws!==null&&!Rs&&L!==null&&(t.f&(Ua|zs|Va))===0)for(A=0;A<ws.length;A++)Nl(ws[A],t);if(c!==null&&c!==t){if(Dr++,c.deps!==null)for(let ee=0;ee<l;ee+=1)c.deps[ee].rv=Dr;if(i!==null)for(const ee of i)ee.rv=Dr;ws!==null&&(s===null?s=ws:s.push(...ws))}return(t.f&xr)!==0&&(t.f^=xr),I}catch(ee){return zl(ee)}finally{t.f^=ri,ss=i,ps=l,ws=s,Xt=c,Cs=d,an(_),Rs=m,Pr=k}}function Ov(t,i){let l=i.reactions;if(l!==null){var s=Ko.call(l,t);if(s!==-1){var c=l.length-1;c===0?l=i.reactions=null:(l[s]=l[c],l.pop())}}if(l===null&&(i.f&Ua)!==0&&(ss===null||!en.call(ss,i))){var d=i;(d.f&$s)!==0&&(d.f^=$s,d.f&=~Br),Ci(d),Il(d),On(d,0)}}function On(t,i){var l=t.deps;if(l!==null)for(var s=i;s<l.length;s++)Ov(t,l[s])}function rn(t){var i=t.f;if((i&cr)===0){$a(t,ja);var l=sa,s=Pn;sa=t,Pn=!0;try{(i&(pr|cl))!==0?Hv(t):Xl(t),Kl(t);var c=Ul(t);t.teardown=typeof c=="function"?c:null,t.wv=Bl;var d;ni&&dv&&(t.f&Va)!==0&&t.deps}finally{Pn=s,sa=l}}}async function Ei(){await Promise.resolve(),Wa()}function e(t){var i=t.f,l=(i&Ua)!==0;if(Kr?.add(t),Xt!==null&&!Rs){var s=sa!==null&&(sa.f&cr)!==0;if(!s&&(Cs===null||!en.call(Cs,t))){var c=Xt.deps;if((Xt.f&ri)!==0)t.rv<Dr&&(t.rv=Dr,ss===null&&c!==null&&c[ps]===t?ps++:ss===null?ss=[t]:ss.push(t));else{(Xt.deps??=[]).push(t);var d=t.reactions;d===null?t.reactions=[Xt]:en.call(d,Xt)||d.push(Xt)}}}if(Tr&&$r.has(t))return $r.get(t);if(l){var _=t;if(Tr){var m=_.v;return((_.f&ja)===0&&_.reactions!==null||Gl(_))&&(m=zi(_)),$r.set(_,m),m}var k=(_.f&$s)===0&&!Rs&&Xt!==null&&(Pn||(Xt.f&$s)!==0),w=_.deps===null;cn(_)&&(k&&(_.f|=$s),Pl(_)),k&&!w&&Vl(_)}if(js?.has(t))return js.get(t);if((t.f&xr)!==0)throw t.v;return t.v}function Vl(t){if(t.deps!==null){t.f|=$s;for(const i of t.deps)(i.reactions??=[]).push(t),(i.f&Ua)!==0&&(i.f&$s)===0&&Vl(i)}}function Gl(t){if(t.v===Na)return!0;if(t.deps===null)return!1;for(const i of t.deps)if($r.has(i)||(i.f&Ua)!==0&&Gl(i))return!0;return!1}function p(t){var i=Rs;try{return Rs=!0,t()}finally{Rs=i}}function Qr(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(dr in t)di(t);else if(!Array.isArray(t))for(let i in t){const l=t[i];typeof l=="object"&&l&&dr in l&&di(l)}}}function di(t,i=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!i.has(t)){i.add(t),t instanceof Date&&t.getTime();for(let s in t)try{di(t[s],i)}catch{}const l=wi(t);if(l!==Object.prototype&&l!==Array.prototype&&l!==Map.prototype&&l!==Set.prototype&&l!==Date.prototype){const s=pl(l);for(let c in s){const d=s[c].get;if(d)try{d.call(t)}catch{}}}}}function Hl(t){sa===null&&(Xt===null&&av(),tv()),Tr&&ev()}function Nv(t,i){var l=i.last;l===null?i.last=i.first=t:(l.next=t,t.prev=l,i.last=t)}function Js(t,i,l){var s=sa;s!==null&&(s.f&ms)!==0&&(t|=ms);var c={ctx:ma,deps:null,nodes:null,f:t|Va|$s,first:null,fn:i,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(l)try{rn(c),c.f|=Nn}catch(m){throw is(c),m}else i!==null&&Ls(c);var d=c;if(l&&d.deps===null&&d.teardown===null&&d.nodes===null&&d.first===d.last&&(d.f&nn)===0&&(d=d.first,(t&pr)!==0&&(t&Fr)!==0&&d!==null&&(d.f|=Fr)),d!==null&&(d.parent=s,s!==null&&Nv(d,s),Xt!==null&&(Xt.f&Ua)!==0&&(t&Vr)===0)){var _=Xt;(_.effects??=[]).push(d)}return c}function Mi(){return Xt!==null&&!Rs}function Xn(t){const i=Js(Sn,null,!1);return $a(i,ja),i.teardown=t,i}function ui(t){Hl();var i=sa.f,l=!Xt&&(i&Os)!==0&&(i&Nn)===0;if(l){var s=ma;(s.e??=[]).push(t)}else return Yl(t)}function Yl(t){return Js(Ln|ul,t,!1)}function Uv(t){return Hl(),Js(Sn|ul,t,!0)}function Vv(t){Sr.ensure();const i=Js(Vr|nn,t,!0);return(l={})=>new Promise(s=>{l.outro?jr(i,()=>{is(i),s(void 0)}):(is(i),s(void 0))})}function Wl(t){return Js(Ln,t,!1)}function Cr(t,i){var l=ma,s={effect:null,ran:!1,deps:t};l.l.$.push(s),s.effect=En(()=>{t(),!s.ran&&(s.ran=!0,p(i))})}function Jn(){var t=ma;En(()=>{for(var i of t.l.$){i.deps();var l=i.effect;(l.f&ja)!==0&&l.deps!==null&&$a(l,zs),cn(l)&&rn(l),i.ran=!1}})}function Gv(t){return Js(yi|nn,t,!0)}function En(t,i=0){return Js(Sn|i,t,!0)}function b(t,i=[],l=[],s=[]){Iv(s,i,l,c=>{Js(Sn,()=>t(...c.map(e)),!0)})}function Qn(t,i=0){var l=Js(pr|i,t,!0);return l}function Ss(t){return Js(Os|nn,t,!0)}function Kl(t){var i=t.teardown;if(i!==null){const l=Tr,s=Xt;Yi(!0),Ts(null);try{i.call(null)}finally{Yi(l),Ts(s)}}}function Xl(t,i=!1){var l=t.first;for(t.first=t.last=null;l!==null;){const c=l.ac;c!==null&&Kn(()=>{c.abort(Xr)});var s=l.next;(l.f&Vr)!==0?l.parent=null:is(l,i),l=s}}function Hv(t){for(var i=t.first;i!==null;){var l=i.next;(i.f&Os)===0&&is(i),i=l}}function is(t,i=!0){var l=!1;(i||(t.f&dl)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Yv(t.nodes.start,t.nodes.end),l=!0),Xl(t,i&&!l),On(t,0),$a(t,cr);var s=t.nodes&&t.nodes.t;if(s!==null)for(const d of s)d.stop();Kl(t);var c=t.parent;c!==null&&c.first!==null&&Jl(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Yv(t,i){for(;t!==null;){var l=t===i?null:Xs(t);t.remove(),t=l}}function Jl(t){var i=t.parent,l=t.prev,s=t.next;l!==null&&(l.next=s),s!==null&&(s.prev=l),i!==null&&(i.first===t&&(i.first=s),i.last===t&&(i.last=l))}function jr(t,i,l=!0){var s=[];Ql(t,s,!0);var c=()=>{l&&is(t),i&&i()},d=s.length;if(d>0){var _=()=>--d||c();for(var m of s)m.out(_)}else c()}function Ql(t,i,l){if((t.f&ms)===0){t.f^=ms;var s=t.nodes&&t.nodes.t;if(s!==null)for(const m of s)(m.is_global||l)&&i.push(m);for(var c=t.first;c!==null;){var d=c.next,_=(c.f&Fr)!==0||(c.f&Os)!==0&&(t.f&pr)!==0;Ql(c,i,_?l:!1),c=d}}}function Ai(t){Zl(t,!0)}function Zl(t,i){if((t.f&ms)!==0){t.f^=ms,(t.f&ja)===0&&($a(t,Va),Ls(t));for(var l=t.first;l!==null;){var s=l.next,c=(l.f&Fr)!==0||(l.f&Os)!==0;Zl(l,c?i:!1),l=s}var d=t.nodes&&t.nodes.t;if(d!==null)for(const _ of d)(_.is_global||i)&&_.in()}}function eo(t,i){if(t.nodes)for(var l=t.nodes.start,s=t.nodes.end;l!==null;){var c=l===s?null:Xs(l);i.append(l),l=c}}const to=new Set,pi=new Set;function Wv(t,i,l,s={}){function c(d){if(s.capture||hn.call(i,d),!d.cancelBubble)return Kn(()=>l?.call(this,d))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?ur(()=>{i.addEventListener(t,c,s)}):i.addEventListener(t,c,s),c}function Y(t,i,l,s,c){var d={capture:s,passive:c},_=Wv(t,i,l,d);(i===document.body||i===window||i===document||i instanceof HTMLMediaElement)&&Xn(()=>{i.removeEventListener(t,_,d)})}function Mn(t){for(var i=0;i<t.length;i++)to.add(t[i]);for(var l of pi)l(t)}let Ki=null;function hn(t){var i=this,l=i.ownerDocument,s=t.type,c=t.composedPath?.()||[],d=c[0]||t.target;Ki=t;var _=0,m=Ki===t&&t.__root;if(m){var k=c.indexOf(m);if(k!==-1&&(i===document||i===window)){t.__root=i;return}var w=c.indexOf(i);if(w===-1)return;k<=w&&(_=k)}if(d=c[_]||t.target,d!==i){ki(t,"currentTarget",{configurable:!0,get(){return d||l}});var $=Xt,I=sa;Ts(null),Ks(null);try{for(var L,V=[];d!==null;){var A=d.assignedSlot||d.parentNode||d.host||null;try{var ee=d["__"+s];ee!=null&&(!d.disabled||t.target===d)&&ee.call(d,t)}catch(S){L?V.push(S):L=S}if(t.cancelBubble||A===i||A===null)break;d=A}if(L){for(let S of V)queueMicrotask(()=>{throw S});throw L}}finally{t.__root=i,delete t.currentTarget,Ts($),Ks(I)}}}function ao(t){var i=document.createElement("template");return i.innerHTML=t.replaceAll("<!>","<!---->"),i.content}function Fs(t,i){var l=sa;l.nodes===null&&(l.nodes={start:t,end:i,a:null,t:null})}function u(t,i){var l=(i&bl)!==0,s=(i&kv)!==0,c,d=!t.startsWith("<!>");return()=>{if(jt)return Fs(Jt,null),Jt;c===void 0&&(c=ao(d?t:"<!>"+t),l||(c=_s(c)));var _=s||wl?document.importNode(c,!0):c.cloneNode(!0);if(l){var m=_s(_),k=_.lastChild;Fs(m,k)}else Fs(_,_);return _}}function Kv(t,i,l="svg"){var s=!t.startsWith("<!>"),c=(i&bl)!==0,d=`<${l}>${s?t:"<!>"+t}</${l}>`,_;return()=>{if(jt)return Fs(Jt,null),Jt;if(!_){var m=ao(d),k=_s(m);if(c)for(_=document.createDocumentFragment();_s(k);)_.appendChild(_s(k));else _=_s(k)}var w=_.cloneNode(!0);if(c){var $=_s(w),I=w.lastChild;Fs($,I)}else Fs(w,w);return w}}function Es(t,i){return Kv(t,i,"svg")}function zr(t=""){if(!jt){var i=ns(t+"");return Fs(i,i),i}var l=Jt;return l.nodeType!==$n?(l.before(l=ns()),Xa(l)):Yn(l),Fs(l,l),l}function Tt(){if(jt)return Fs(Jt,null),Jt;var t=document.createDocumentFragment(),i=document.createComment(""),l=ns();return t.append(i,l),Fs(i,l),t}function v(t,i){if(jt){var l=sa;((l.f&Nn)===0||l.nodes.end===null)&&(l.nodes.end=Jt),vn();return}t!==null&&t.before(i)}const Xv=["touchstart","touchmove"];function Jv(t){return Xv.includes(t)}function f(t,i){var l=i==null?"":typeof i=="object"?i+"":i;l!==(t.__t??=t.nodeValue)&&(t.__t=l,t.nodeValue=l+"")}function so(t,i){return ro(t,i)}function Qv(t,i){li(),i.intro=i.intro??!1;const l=i.target,s=jt,c=Jt;try{for(var d=_s(l);d&&(d.nodeType!==ln||d.data!==yl);)d=Xs(d);if(!d)throw tn;or(!0),Xa(d);const _=ro(t,{...i,anchor:d});return or(!1),_}catch(_){if(_ instanceof Error&&_.message.split(`
`).some(m=>m.startsWith("https://svelte.dev/e/")))throw _;return _!==tn&&console.warn("Failed to hydrate: ",_),i.recover===!1&&rv(),li(),$i(l),or(!1),so(t,i)}finally{or(s),Xa(c)}}const Yr=new Map;function ro(t,{target:i,anchor:l,props:s={},events:c,context:d,intro:_=!0}){li();var m=new Set,k=I=>{for(var L=0;L<I.length;L++){var V=I[L];if(!m.has(V)){m.add(V);var A=Jv(V);i.addEventListener(V,hn,{passive:A});var ee=Yr.get(V);ee===void 0?(document.addEventListener(V,hn,{passive:A}),Yr.set(V,1)):Yr.set(V,ee+1)}}};k(Un(to)),pi.add(k);var w=void 0,$=Vv(()=>{var I=l??i.appendChild(ns());return qv(I,{pending:()=>{}},L=>{if(d){Aa({});var V=ma;V.c=d}if(c&&(s.$$events=c),jt&&Fs(L,null),w=t(L,s)||{},jt&&(sa.nodes.end=Jt,Jt===null||Jt.nodeType!==ln||Jt.data!==Si))throw Hn(),tn;d&&qa()}),()=>{for(var L of m){i.removeEventListener(L,hn);var V=Yr.get(L);--V===0?(document.removeEventListener(L,hn),Yr.delete(L)):Yr.set(L,V)}pi.delete(k),I!==l&&I.parentNode?.removeChild(I)}});return fi.set(w,$),w}let fi=new WeakMap;function Zv(t,i){const l=fi.get(t);return l?(fi.delete(t),l(i)):Promise.resolve()}function vr(t){return function(...i){var l=i[0];return l.stopPropagation(),t?.apply(this,i)}}function Bs(t){return function(...i){var l=i[0];return l.preventDefault(),t?.apply(this,i)}}function La(t){return new ec(t)}class ec{#e;#t;constructor(i){var l=new Map,s=(d,_)=>{var m=Z(_,!1,!1);return l.set(d,m),m};const c=new Proxy({...i.props||{},$$events:{}},{get(d,_){return e(l.get(_)??s(_,Reflect.get(d,_)))},has(d,_){return _===xi?!0:(e(l.get(_)??s(_,Reflect.get(d,_))),Reflect.has(d,_))},set(d,_,m){return o(l.get(_)??s(_,m),m),Reflect.set(d,_,m)}});this.#t=(i.hydrate?Qv:so)(i.component,{target:i.target,anchor:i.anchor,props:c,context:i.context,intro:i.intro??!1,recover:i.recover}),(!i?.props?.$$host||i.sync===!1)&&Wa(),this.#e=c.$$events;for(const d of Object.keys(this.#t))d==="$set"||d==="$destroy"||d==="$on"||ki(this,d,{get(){return this.#t[d]},set(_){this.#t[d]=_},enumerable:!0});this.#t.$set=d=>{Object.assign(c,d)},this.#t.$destroy=()=>{Zv(this.#t)}}$set(i){this.#t.$set(i)}$on(i,l){this.#e[i]=this.#e[i]||[];const s=(...c)=>l.call(this,...c);return this.#e[i].push(s),()=>{this.#e[i]=this.#e[i].filter(c=>c!==s)}}$destroy(){this.#t.$destroy()}}const tc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(tc);class no{anchor;#e=new Map;#t=new Map;#a=new Map;#i=new Set;#l=!0;constructor(i,l=!0){this.anchor=i,this.#l=l}#r=()=>{var i=aa;if(this.#e.has(i)){var l=this.#e.get(i),s=this.#t.get(l);if(s)Ai(s),this.#i.delete(l);else{var c=this.#a.get(l);c&&(this.#t.set(l,c.effect),this.#a.delete(l),c.fragment.lastChild.remove(),this.anchor.before(c.fragment),s=c.effect)}for(const[d,_]of this.#e){if(this.#e.delete(d),d===i)break;const m=this.#a.get(_);m&&(is(m.effect),this.#a.delete(_))}for(const[d,_]of this.#t){if(d===l||this.#i.has(d))continue;const m=()=>{if(Array.from(this.#e.values()).includes(d)){var w=document.createDocumentFragment();eo(_,w),w.append(ns()),this.#a.set(d,{effect:_,fragment:w})}else is(_);this.#i.delete(d),this.#t.delete(d)};this.#l||!s?(this.#i.add(d),jr(_,m,!1)):m()}}};#s=i=>{this.#e.delete(i);const l=Array.from(this.#e.values());for(const[s,c]of this.#a)l.includes(s)||(is(c.effect),this.#a.delete(s))};ensure(i,l){var s=aa,c=Cl();if(l&&!this.#t.has(i)&&!this.#a.has(i))if(c){var d=document.createDocumentFragment(),_=ns();d.append(_),this.#a.set(i,{effect:Ss(()=>l(_)),fragment:d})}else this.#t.set(i,Ss(()=>l(this.anchor)));if(this.#e.set(s,i),c){for(const[m,k]of this.#t)m===i?s.unskip_effect(k):s.skip_effect(k);for(const[m,k]of this.#a)m===i?s.unskip_effect(k.effect):s.skip_effect(k.effect);s.oncommit(this.#r),s.ondiscard(this.#s)}else jt&&(this.anchor=Jt),this.#r()}}function Ms(t){ma===null&&Vn(),on&&ma.l!==null?lo(ma).m.push(t):ui(()=>{const i=p(t);if(typeof i=="function")return i})}function io(t){ma===null&&Vn(),Ms(()=>()=>p(t))}function ac(t,i,{bubbles:l=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:i,bubbles:l,cancelable:s})}function qi(){const t=ma;return t===null&&Vn(),(i,l,s)=>{const c=t.s.$$events?.[i];if(c){const d=Cn(c)?c.slice():[c],_=ac(i,l,s);for(const m of d)m.call(t.x,_);return!_.defaultPrevented}return!0}}function sc(t){ma===null&&Vn(),ma.l===null&&nv(),lo(ma).a.push(t)}function lo(t){var i=t.l;return i.u??={a:[],b:[],m:[]}}function y(t,i,l=!1){jt&&vn();var s=new no(t),c=l?Fr:0;function d(_,m){if(jt){const w=kl(t)===Gn;if(_===w){var k=Fn();Xa(k),s.anchor=k,or(!1),s.ensure(_,m),or(!0);return}}s.ensure(_,m)}Qn(()=>{var _=!1;i((m,k=!0)=>{_=!0,d(k,m)}),_||d(!1,null)},c)}function it(t,i){return i}function rc(t,i,l){for(var s=[],c=i.length,d,_=i.length,m=0;m<c;m++){let I=i[m];jr(I,()=>{if(d){if(d.pending.delete(I),d.done.add(I),d.pending.size===0){var L=t.outrogroups;_i(Un(d.done)),L.delete(d),L.size===0&&(t.outrogroups=null)}}else _-=1},!1)}if(_===0){var k=s.length===0&&l!==null;if(k){var w=l,$=w.parentNode;$i($),$.append(w),t.items.clear()}_i(i,!k)}else d={pending:new Set(i),done:new Set},(t.outrogroups??=new Set).add(d)}function _i(t,i=!0){for(var l=0;l<t.length;l++)is(t[l],i)}var Xi;function lt(t,i,l,s,c,d=null){var _=t,m=new Map,k=(i&gl)!==0;if(k){var w=t;_=jt?Xa(_s(w)):w.appendChild(ns())}jt&&vn();var $=null,I=wn(()=>{var g=l();return Cn(g)?g:g==null?[]:Un(g)}),L,V=!0;function A(){S.fallback=$,nc(S,L,_,i,s),$!==null&&(L.length===0?($.f&lr)===0?Ai($):($.f^=lr,gn($,null,_)):jr($,()=>{$=null}))}var ee=Qn(()=>{L=e(I);var g=L.length;let x=!1;if(jt){var j=kl(_)===Gn;j!==(g===0)&&(_=Fn(),Xa(_),or(!1),x=!0)}for(var ce=new Set,ve=aa,he=Cl(),z=0;z<g;z+=1){jt&&Jt.nodeType===ln&&Jt.data===Si&&(_=Jt,x=!0,or(!1));var ne=L[z],Se=s(ne,z),P=V?null:m.get(Se);P?(P.v&&Nr(P.v,ne),P.i&&Nr(P.i,z),he&&ve.unskip_effect(P.e)):(P=ic(m,V?_:Xi??=ns(),ne,Se,z,c,i,l),V||(P.e.f|=lr),m.set(Se,P)),ce.add(Se)}if(g===0&&d&&!$&&(V?$=Ss(()=>d(_)):($=Ss(()=>d(Xi??=ns())),$.f|=lr)),jt&&g>0&&Xa(Fn()),!V)if(he){for(const[De,pt]of m)ce.has(De)||ve.skip_effect(pt.e);ve.oncommit(A),ve.ondiscard(()=>{})}else A();x&&or(!0),e(I)}),S={effect:ee,items:m,outrogroups:null,fallback:$};V=!1,jt&&(_=Jt)}function mn(t){for(;t!==null&&(t.f&Os)===0;)t=t.next;return t}function nc(t,i,l,s,c){var d=(s&_v)!==0,_=i.length,m=t.items,k=mn(t.effect.first),w,$=null,I,L=[],V=[],A,ee,S,g;if(d)for(g=0;g<_;g+=1)A=i[g],ee=c(A,g),S=m.get(ee).e,(S.f&lr)===0&&(S.nodes?.a?.measure(),(I??=new Set).add(S));for(g=0;g<_;g+=1){if(A=i[g],ee=c(A,g),S=m.get(ee).e,t.outrogroups!==null)for(const P of t.outrogroups)P.pending.delete(S),P.done.delete(S);if((S.f&lr)!==0)if(S.f^=lr,S===k)gn(S,null,l);else{var x=$?$.next:k;S===t.effect.last&&(t.effect.last=S.prev),S.prev&&(S.prev.next=S.next),S.next&&(S.next.prev=S.prev),yr(t,$,S),yr(t,S,x),gn(S,x,l),$=S,L=[],V=[],k=mn($.next);continue}if((S.f&ms)!==0&&(Ai(S),d&&(S.nodes?.a?.unfix(),(I??=new Set).delete(S))),S!==k){if(w!==void 0&&w.has(S)){if(L.length<V.length){var j=V[0],ce;$=j.prev;var ve=L[0],he=L[L.length-1];for(ce=0;ce<L.length;ce+=1)gn(L[ce],j,l);for(ce=0;ce<V.length;ce+=1)w.delete(V[ce]);yr(t,ve.prev,he.next),yr(t,$,ve),yr(t,he,j),k=j,$=he,g-=1,L=[],V=[]}else w.delete(S),gn(S,k,l),yr(t,S.prev,S.next),yr(t,S,$===null?t.effect.first:$.next),yr(t,$,S),$=S;continue}for(L=[],V=[];k!==null&&k!==S;)(w??=new Set).add(k),V.push(k),k=mn(k.next);if(k===null)continue}(S.f&lr)===0&&L.push(S),$=S,k=mn(S.next)}if(t.outrogroups!==null){for(const P of t.outrogroups)P.pending.size===0&&(_i(Un(P.done)),t.outrogroups?.delete(P));t.outrogroups.size===0&&(t.outrogroups=null)}if(k!==null||w!==void 0){var z=[];if(w!==void 0)for(S of w)(S.f&ms)===0&&z.push(S);for(;k!==null;)(k.f&ms)===0&&k!==t.fallback&&z.push(k),k=mn(k.next);var ne=z.length;if(ne>0){var Se=(s&gl)!==0&&_===0?l:null;if(d){for(g=0;g<ne;g+=1)z[g].nodes?.a?.measure();for(g=0;g<ne;g+=1)z[g].nodes?.a?.fix()}rc(t,z,Se)}}d&&ur(()=>{if(I!==void 0)for(S of I)S.nodes?.a?.apply()})}function ic(t,i,l,s,c,d,_,m){var k=(_&pv)!==0?(_&mv)===0?Z(l,!1,!1):Or(l):null,w=(_&fv)!==0?Or(c):null;return{v:k,i:w,e:Ss(()=>(d(i,k??l,w??c,m),()=>{t.delete(s)}))}}function gn(t,i,l){if(t.nodes)for(var s=t.nodes.start,c=t.nodes.end,d=i&&(i.f&lr)===0?i.nodes.start:l;s!==null;){var _=Xs(s);if(d.before(s),s===c)return;s=_}}function yr(t,i,l){i===null?t.effect.first=l:i.next=l,l===null?t.effect.last=i:l.prev=i}function Ji(t,i,l,s,c){jt&&vn();var d=i.$$slots?.[l],_=!1;d===!0&&(d=i[l==="default"?"children":l],_=!0),d===void 0||d(t,_?()=>s:s)}function lc(t){const i={};t.children&&(i.default=!0);for(const l in t.$$slots)i[l]=!0;return i}function Qi(t,i,l){jt&&vn();var s=new no(t);Qn(()=>{var c=i()??null;s.ensure(c,c&&(d=>l(d,c)))},Fr)}function Lr(t,i,l){Wl(()=>{var s=p(()=>i(t,l?.())||{});if(s?.destroy)return()=>s.destroy()})}const Zi=[...` 	
\r\fÂ \v\uFEFF`];function oc(t,i,l){var s=t==null?"":""+t;if(i&&(s=s?s+" "+i:i),l){for(var c in l)if(l[c])s=s?s+" "+c:c;else if(s.length)for(var d=c.length,_=0;(_=s.indexOf(c,_))>=0;){var m=_+d;(_===0||Zi.includes(s[_-1]))&&(m===s.length||Zi.includes(s[m]))?s=(_===0?"":s.substring(0,_))+s.substring(m+1):_=m}}return s===""?null:s}function vc(t,i){return t==null?null:String(t)}function rt(t,i,l,s,c,d){var _=t.__className;if(jt||_!==l||_===void 0){var m=oc(l,s,d);(!jt||m!==t.getAttribute("class"))&&(m==null?t.removeAttribute("class"):i?t.className=m:t.setAttribute("class",m)),t.__className=l}else if(d&&c!==d)for(var k in d){var w=!!d[k];(c==null||w!==!!c[k])&&t.classList.toggle(k,w)}return d}function Er(t,i,l,s){var c=t.__style;if(jt||c!==i){var d=vc(i);(!jt||d!==t.getAttribute("style"))&&(d==null?t.removeAttribute("style"):t.style.cssText=d),t.__style=i}return s}function oo(t,i,l=!1){if(t.multiple){if(i==null)return;if(!Cn(i))return $v();for(var s of t.options)s.selected=i.includes(kn(s));return}for(s of t.options){var c=kn(s);if(zv(c,i)){s.selected=!0;return}}(!l||i!==void 0)&&(t.selectedIndex=-1)}function cc(t){var i=new MutationObserver(()=>{oo(t,t.__value)});i.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Xn(()=>{i.disconnect()})}function ga(t,i,l=i){var s=new WeakSet,c=!0;Ti(t,"change",d=>{var _=d?"[selected]":":checked",m;if(t.multiple)m=[].map.call(t.querySelectorAll(_),kn);else{var k=t.querySelector(_)??t.querySelector("option:not([disabled])");m=k&&kn(k)}l(m),aa!==null&&s.add(aa)}),Wl(()=>{var d=i();if(t===document.activeElement){var _=Bn??aa;if(s.has(_))return}if(oo(t,d,c),c&&d===void 0){var m=t.querySelector(":checked");m!==null&&(d=kn(m),l(d))}t.__value=d,c=!1}),cc(t)}function kn(t){return"__value"in t?t.__value:t.value}const dc=Symbol("is custom element"),uc=Symbol("is html");function we(t){if(jt){var i=!1,l=()=>{if(!i){if(i=!0,t.hasAttribute("value")){var s=t.value;vt(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var c=t.checked;vt(t,"checked",null),t.checked=c}}};t.__on_r=l,ur(l),Rl()}}function el(t,i){var l=Di(t);l.value===(l.value=i??void 0)||t.value===i&&(i!==0||t.nodeName!=="PROGRESS")||(t.value=i??"")}function Zr(t,i){var l=Di(t);l.checked!==(l.checked=i??void 0)&&(t.checked=i)}function vt(t,i,l,s){var c=Di(t);jt&&(c[i]=t.getAttribute(i),i==="src"||i==="srcset"||i==="href"&&t.nodeName==="LINK")||c[i]!==(c[i]=l)&&(i==="loading"&&(t[Wo]=l),l==null?t.removeAttribute(i):typeof l!="string"&&pc(t).includes(i)?t[i]=l:t.setAttribute(i,l))}function Di(t){return t.__attributes??={[dc]:t.nodeName.includes("-"),[uc]:t.namespaceURI===wv}}var tl=new Map;function pc(t){var i=t.getAttribute("is")||t.nodeName,l=tl.get(i);if(l)return l;tl.set(i,l=[]);for(var s,c=t,d=Element.prototype;d!==c;){s=pl(c);for(var _ in s)s[_].set&&l.push(_);c=wi(c)}return l}function Ce(t,i,l=i){var s=new WeakSet;Ti(t,"input",async c=>{var d=c?t.defaultValue:t.value;if(d=ai(t)?si(d):d,l(d),aa!==null&&s.add(aa),await Ei(),d!==(d=i())){var _=t.selectionStart,m=t.selectionEnd,k=t.value.length;if(t.value=d??"",m!==null){var w=t.value.length;_===m&&m===k&&w>k?(t.selectionStart=w,t.selectionEnd=w):(t.selectionStart=_,t.selectionEnd=Math.min(m,w))}}}),(jt&&t.defaultValue!==t.value||p(i)==null&&t.value)&&(l(ai(t)?si(t.value):t.value),aa!==null&&s.add(aa)),En(()=>{var c=i();if(t===document.activeElement){var d=Bn??aa;if(s.has(d))return}ai(t)&&c===si(t.value)||t.type==="date"&&!c&&!t.value||c!==t.value&&(t.value=c??"")})}function fc(t,i,l=i){Ti(t,"change",s=>{var c=s?t.defaultChecked:t.checked;l(c)}),(jt&&t.defaultChecked!==t.checked||p(i)==null)&&l(t.checked),En(()=>{var s=i();t.checked=!!s})}function ai(t){var i=t.type;return i==="number"||i==="range"}function si(t){return t===""?null:+t}function Ns(t=!1){const i=ma,l=i.l.u;if(!l)return;let s=()=>Qr(i.s);if(t){let c=0,d={};const _=Tn(()=>{let m=!1;const k=i.s;for(const w in k)k[w]!==d[w]&&(d[w]=k[w],m=!0);return m&&c++,c});s=()=>e(_)}l.b.length&&Uv(()=>{al(i,s),Rn(l.b)}),ui(()=>{const c=p(()=>l.m.map(Qo));return()=>{for(const d of c)typeof d=="function"&&d()}}),l.a.length&&ui(()=>{al(i,s),Rn(l.a)})}function al(t,i){if(t.l.s)for(const l of t.l.s)e(l);i()}function Jr(t,i){var l=t.$$events?.[i.type],s=Cn(l)?l.slice():l==null?[]:[l];for(var c of s)c.call(this,i)}function Ra(t,i,l){t.$$events||={},t.$$events[i]||=[],t.$$events[i].push(l)}function Fa(t){for(var i in t)i in this&&(this[i]=t[i])}function Ii(t,i,l){if(t==null)return i(void 0),l&&l(void 0),wr;const s=p(()=>t.subscribe(i,l));return s.unsubscribe?()=>s.unsubscribe():s}const Wr=[];function vo(t,i){return{subscribe:co(t,i).subscribe}}function co(t,i=wr){let l=null;const s=new Set;function c(m){if(ml(t,m)&&(t=m,l)){const k=!Wr.length;for(const w of s)w[1](),Wr.push(w,t);if(k){for(let w=0;w<Wr.length;w+=2)Wr[w][0](Wr[w+1]);Wr.length=0}}}function d(m){c(m(t))}function _(m,k=wr){const w=[m,k];return s.add(w),s.size===1&&(l=i(c,d)||wr),m(t),()=>{s.delete(w),s.size===0&&l&&(l(),l=null)}}return{set:c,update:d,subscribe:_}}function uo(t,i,l){const s=!Array.isArray(t),c=s?[t]:t;if(!c.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const d=i.length<2;return vo(l,(_,m)=>{let k=!1;const w=[];let $=0,I=wr;const L=()=>{if($)return;I();const A=i(s?w[0]:w,_,m);d?_(A):I=typeof A=="function"?A:wr},V=c.map((A,ee)=>Ii(A,S=>{w[ee]=S,$&=~(1<<ee),k&&L()},()=>{$|=1<<ee}));return k=!0,L(),function(){Rn(V),I(),k=!1}})}function _c(t){let i;return Ii(t,l=>i=l)(),i}let In=!1,mi=Symbol();function mc(t,i,l){const s=l[i]??={store:null,source:Z(void 0),unsubscribe:wr};if(s.store!==t&&!(mi in l))if(s.unsubscribe(),s.store=t??null,t==null)s.source.v=void 0,s.unsubscribe=wr;else{var c=!0;s.unsubscribe=Ii(t,d=>{c?s.source.v=d:o(s.source,d)}),c=!1}return t&&mi in l?_c(t):e(s.source)}function hc(){const t={};function i(){Xn(()=>{for(var l in t)t[l].unsubscribe();ki(t,mi,{enumerable:!1,value:!0})})}return[t,i]}function gc(t){var i=In;try{return In=!1,[t(),In]}finally{In=i}}const bc={get(t,i){let l=t.props.length;for(;l--;){let s=t.props[l];if(_n(s)&&(s=s()),typeof s=="object"&&s!==null&&i in s)return s[i]}},set(t,i,l){let s=t.props.length;for(;s--;){let c=t.props[s];_n(c)&&(c=c());const d=kr(c,i);if(d&&d.set)return d.set(l),!0}return!1},getOwnPropertyDescriptor(t,i){let l=t.props.length;for(;l--;){let s=t.props[l];if(_n(s)&&(s=s()),typeof s=="object"&&s!==null&&i in s){const c=kr(s,i);return c&&!c.configurable&&(c.configurable=!0),c}}},has(t,i){if(i===dr||i===xi)return!1;for(let l of t.props)if(_n(l)&&(l=l()),l!=null&&i in l)return!0;return!1},ownKeys(t){const i=[];for(let l of t.props)if(_n(l)&&(l=l()),!!l){for(const s in l)i.includes(s)||i.push(s);for(const s of Object.getOwnPropertySymbols(l))i.includes(s)||i.push(s)}return i}};function sl(...t){return new Proxy({props:t},bc)}function ls(t,i,l,s){var c=!on||(l&gv)!==0,d=(l&yv)!==0,_=(l&xv)!==0,m=s,k=!0,w=()=>(k&&(k=!1,m=_?p(s):s),m),$;if(d){var I=dr in t||xi in t;$=kr(t,i)?.set??(I&&i in t?j=>t[i]=j:void 0)}var L,V=!1;d?[L,V]=gc(()=>t[i]):L=t[i],L===void 0&&s!==void 0&&(L=w(),$&&(c&&iv(),$(L)));var A;if(c?A=()=>{var j=t[i];return j===void 0?w():(k=!0,j)}:A=()=>{var j=t[i];return j!==void 0&&(m=void 0),j===void 0?m:j},c&&(l&bv)===0)return A;if($){var ee=t.$$legacy;return(function(j,ce){return arguments.length>0?((!c||!ce||ee||V)&&$(ce?A():j),j):A()})}var S=!1,g=((l&hv)!==0?Tn:wn)(()=>(S=!1,A()));d&&e(g);var x=sa;return(function(j,ce){if(arguments.length>0){const ve=ce?e(g):c&&d?Pa(j):j;return o(g,ve),S=!0,m!==void 0&&(m=ve),j}return Tr&&S||(x.f&cr)!==0?g.v:e(g)})}uv();function yc(t,i){if(t instanceof RegExp)return{keys:!1,pattern:t};var l,s,c,d,_=[],m="",k=t.split("/");for(k[0]||k.shift();c=k.shift();)l=c[0],l==="*"?(_.push("wild"),m+="/(.*)"):l===":"?(s=c.indexOf("?",1),d=c.indexOf(".",1),_.push(c.substring(1,~s?s:~d?d:c.length)),m+=~s&&!~d?"(?:/([^/]+?))?":"/([^/]+?)",~d&&(m+=(~s?"?":"")+"\\"+c.substring(d))):m+="/"+c;return{keys:_,pattern:new RegExp("^"+m+"/?$","i")}}function rl(){const t=window.location.href.indexOf("#/");let i=t>-1?window.location.href.substr(t+1):"/";const l=i.indexOf("?");let s="";return l>-1&&(s=i.substr(l+1),i=i.substr(0,l)),{location:i,querystring:s}}const Pi=vo(null,function(i){i(rl());const l=()=>{i(rl())};return window.addEventListener("hashchange",l,!1),function(){window.removeEventListener("hashchange",l,!1)}}),xc=uo(Pi,t=>t.location);uo(Pi,t=>t.querystring);const nl=co(void 0);async function jn(t){if(!t||t.length<1||t.charAt(0)!="/"&&t.indexOf("#/")!==0)throw Error("Invalid parameter location");await Ei(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=(t.charAt(0)=="#"?"":"#")+t}function Rr(t,i){if(i=ll(i),!t||!t.tagName||t.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return il(t,i),{update(l){l=ll(l),il(t,l)}}}function kc(t){t?window.scrollTo(t.__svelte_spa_router_scrollX,t.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function il(t,i){let l=i.href||t.getAttribute("href");if(l&&l.charAt(0)=="/")l="#"+l;else if(!l||l.length<2||l.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+l);t.setAttribute("href",l),t.addEventListener("click",s=>{s.preventDefault(),i.disabled||wc(s.currentTarget.getAttribute("href"))})}function ll(t){return t&&typeof t=="string"?{href:t}:t||{}}function wc(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=t}function po(t,i){if(new.target)return La({component:po,...t});Aa(i,!1);let l=ls(i,"routes",28,()=>({})),s=ls(i,"prefix",12,""),c=ls(i,"restoreScrollState",12,!1);class d{constructor(z,ne){if(!ne||typeof ne!="function"&&(typeof ne!="object"||ne._sveltesparouter!==!0))throw Error("Invalid component object");if(!z||typeof z=="string"&&(z.length<1||z.charAt(0)!="/"&&z.charAt(0)!="*")||typeof z=="object"&&!(z instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:Se,keys:P}=yc(z);this.path=z,typeof ne=="object"&&ne._sveltesparouter===!0?(this.component=ne.component,this.conditions=ne.conditions||[],this.userData=ne.userData,this.props=ne.props||{}):(this.component=()=>Promise.resolve(ne),this.conditions=[],this.props={}),this._pattern=Se,this._keys=P}match(z){if(s()){if(typeof s()=="string")if(z.startsWith(s()))z=z.substr(s().length)||"/";else return null;else if(s()instanceof RegExp){const De=z.match(s());if(De&&De[0])z=z.substr(De[0].length)||"/";else return null}}const ne=this._pattern.exec(z);if(ne===null)return null;if(this._keys===!1)return ne;const Se={};let P=0;for(;P<this._keys.length;){try{Se[this._keys[P]]=decodeURIComponent(ne[P+1]||"")||null}catch{Se[this._keys[P]]=null}P++}return Se}async checkConditions(z){for(let ne=0;ne<this.conditions.length;ne++)if(!await this.conditions[ne](z))return!1;return!0}}const _=[];l()instanceof Map?l().forEach((he,z)=>{_.push(new d(z,he))}):Object.keys(l()).forEach(he=>{_.push(new d(he,l()[he]))});let m=Z(null),k=Z(null),w=Z({});const $=qi();async function I(he,z){await Ei(),$(he,z)}let L=null,V=null;c()&&(V=he=>{he.state&&(he.state.__svelte_spa_router_scrollY||he.state.__svelte_spa_router_scrollX)?L=he.state:L=null},window.addEventListener("popstate",V),sc(()=>{kc(L)}));let A=null,ee=null;const S=Pi.subscribe(async he=>{A=he;let z=0;for(;z<_.length;){const ne=_[z].match(he.location);if(!ne){z++;continue}const Se={route:_[z].path,location:he.location,querystring:he.querystring,userData:_[z].userData,params:ne&&typeof ne=="object"&&Object.keys(ne).length?ne:null};if(!await _[z].checkConditions(Se)){o(m,null),ee=null,I("conditionsFailed",Se);return}I("routeLoading",Object.assign({},Se));const P=_[z].component;if(ee!=P){P.loading?(o(m,P.loading),ee=P,o(k,P.loadingParams),o(w,{}),I("routeLoaded",Object.assign({},Se,{component:e(m),name:e(m).name,params:e(k)}))):(o(m,null),ee=null);const De=await P();if(he!=A)return;o(m,De&&De.default||De),ee=P}ne&&typeof ne=="object"&&Object.keys(ne).length?o(k,ne):o(k,null),o(w,_[z].props),I("routeLoaded",Object.assign({},Se,{component:e(m),name:e(m).name,params:e(k)})).then(()=>{nl.set(e(k))});return}o(m,null),ee=null,nl.set(void 0)});io(()=>{S(),V&&window.removeEventListener("popstate",V)}),Cr(()=>Qr(c()),()=>{history.scrollRestoration=c()?"manual":"auto"}),Jn();var g={get routes(){return l()},set routes(he){l(he),Wa()},get prefix(){return s()},set prefix(he){s(he),Wa()},get restoreScrollState(){return c()},set restoreScrollState(he){c(he),Wa()},$set:Fa,$on:(he,z)=>Ra(i,he,z)};Ns();var x=Tt(),j=ge(x);{var ce=he=>{var z=Tt(),ne=ge(z);Qi(ne,()=>e(m),(Se,P)=>{P(Se,sl({get params(){return e(k)}},()=>e(w),{$$events:{routeEvent(De){Jr.call(this,i,De)}}}))}),v(he,z)},ve=he=>{var z=Tt(),ne=ge(z);Qi(ne,()=>e(m),(Se,P)=>{P(Se,sl(()=>e(w),{$$events:{routeEvent(De){Jr.call(this,i,De)}}}))}),v(he,z)};y(j,he=>{e(k)?he(ce):he(ve,!1)})}return v(t,x),qa(g)}var Sc=Es('<svg viewBox="0 0 91 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M84.3703 17.2033C83.1577 17.2033 81.9553 16.9978 80.7631 16.5867C79.571 16.1757 78.605 15.559 77.8651 14.7369C77.639 14.4903 77.5465 14.2128 77.5876 13.9045C77.6287 13.5962 77.7829 13.329 78.0501 13.1029C78.3378 12.8973 78.6358 12.8151 78.9442 12.8562C79.2525 12.8973 79.5094 13.0309 79.7149 13.257C80.2082 13.8325 80.8556 14.2744 81.6572 14.5827C82.4794 14.891 83.3837 15.0452 84.3703 15.0452C85.8913 15.0452 86.9909 14.7883 87.6692 14.2744C88.3474 13.74 88.6969 13.1029 88.7174 12.3629C88.7174 11.623 88.368 11.0167 87.6692 10.544C86.9703 10.0507 85.8193 9.67042 84.2162 9.40322C82.1402 9.07437 80.6193 8.49887 79.6533 7.67672C78.6872 6.85457 78.2042 5.87828 78.2042 4.74782C78.2042 3.69959 78.4817 2.82606 79.0366 2.12723C79.5916 1.42841 80.3315 0.904293 81.2564 0.55488C82.1814 0.205468 83.1988 0.0307617 84.3087 0.0307617C85.6857 0.0307617 86.8676 0.267129 87.8542 0.739863C88.8613 1.2126 89.6732 1.84976 90.2898 2.65135C90.4953 2.91855 90.5775 3.19602 90.5364 3.48378C90.4953 3.77153 90.3309 4.00789 90.0431 4.19288C89.7965 4.33675 89.5087 4.38814 89.1799 4.34703C88.8716 4.28537 88.6044 4.13122 88.3783 3.88457C87.8644 3.28852 87.2684 2.85689 86.5901 2.58969C85.9118 2.30194 85.1308 2.15807 84.247 2.15807C83.1165 2.15807 82.2122 2.39443 81.5339 2.86717C80.8556 3.31935 80.5165 3.89485 80.5165 4.59367C80.5165 5.06641 80.6398 5.47748 80.8865 5.82689C81.1537 6.1763 81.5956 6.48461 82.2122 6.7518C82.8493 7.019 83.7331 7.24509 84.8636 7.43008C86.4051 7.67672 87.6178 8.04668 88.5016 8.53997C89.406 9.01271 90.0431 9.57793 90.4131 10.2356C90.8036 10.8728 90.9989 11.5716 90.9989 12.3321C90.9989 13.2981 90.7111 14.1511 90.1356 14.891C89.5807 15.6104 88.7996 16.1757 87.7925 16.5867C86.8059 16.9978 85.6652 17.2033 84.3703 17.2033Z" fill="#E50914"></path><path d="M69.5786 17.2343C68.1193 17.2343 66.8141 16.9363 65.6631 16.3402C64.5121 15.7236 63.5975 14.8295 62.9192 13.658C62.2615 12.4864 61.9326 11.0579 61.9326 9.37254V1.35662C61.9326 1.02776 62.0457 0.750285 62.2718 0.524195C62.4978 0.298104 62.7753 0.185059 63.1042 0.185059C63.4536 0.185059 63.7413 0.298104 63.9674 0.524195C64.1935 0.750285 64.3066 1.02776 64.3066 1.35662V9.37254C64.3066 10.6469 64.5429 11.6951 65.0157 12.5172C65.5089 13.3394 66.1667 13.956 66.9888 14.3671C67.8315 14.7781 68.777 14.9837 69.8252 14.9837C70.8323 14.9837 71.7367 14.7884 72.5383 14.3979C73.3604 14.0074 74.0079 13.473 74.4806 12.7947C74.9533 12.1165 75.1897 11.3457 75.1897 10.4824H76.8854C76.8237 11.7773 76.464 12.9386 75.8063 13.9663C75.1692 14.9734 74.3059 15.775 73.2166 16.3711C72.1272 16.9466 70.9146 17.2343 69.5786 17.2343ZM76.3613 17.0493C76.0119 17.0493 75.7241 16.9466 75.498 16.741C75.2925 16.5149 75.1897 16.2169 75.1897 15.8469V1.35662C75.1897 1.00721 75.2925 0.729731 75.498 0.524195C75.7241 0.298104 76.0119 0.185059 76.3613 0.185059C76.7107 0.185059 76.9984 0.298104 77.2245 0.524195C77.4506 0.729731 77.5637 1.00721 77.5637 1.35662V15.8469C77.5637 16.2169 77.4506 16.5149 77.2245 16.741C76.9984 16.9466 76.7107 17.0493 76.3613 17.0493Z" fill="#E50914"></path><path d="M59.6497 17.0486C59.2797 17.0486 58.9817 16.9458 58.7556 16.7403C58.55 16.5142 58.4473 16.2162 58.4473 15.8462V1.38672C58.4473 1.01675 58.55 0.728999 58.7556 0.523463C58.9817 0.297372 59.2797 0.184326 59.6497 0.184326C59.9991 0.184326 60.2765 0.297372 60.4821 0.523463C60.7082 0.728999 60.8212 1.01675 60.8212 1.38672V15.8462C60.8212 16.2162 60.7082 16.5142 60.4821 16.7403C60.2765 16.9458 59.9991 17.0486 59.6497 17.0486Z" fill="#E50914"></path><path d="M56.1734 17.0493C55.8239 17.0493 55.5362 16.9362 55.3101 16.7101C55.084 16.484 54.971 16.2066 54.971 15.8777V7.86177C54.971 6.58744 54.7243 5.53921 54.231 4.71706C53.7583 3.89492 53.1006 3.27831 52.2579 2.86723C51.4357 2.45616 50.5006 2.25062 49.4523 2.25062C48.4452 2.25062 47.5306 2.44588 46.7084 2.8364C45.9068 3.22692 45.2696 3.76132 44.7969 4.43959C44.3242 5.11786 44.0878 5.88862 44.0878 6.75187H42.3921C42.4332 5.45699 42.7827 4.30599 43.4404 3.29886C44.0981 2.27118 44.9716 1.46959 46.061 0.894083C47.1503 0.298028 48.363 0 49.699 0C51.1583 0 52.4634 0.308305 53.6144 0.924915C54.7654 1.52097 55.6698 2.40478 56.3275 3.57634C57.0058 4.74789 57.3449 6.17637 57.3449 7.86177V15.8777C57.3449 16.2066 57.2319 16.484 57.0058 16.7101C56.7797 16.9362 56.5022 17.0493 56.1734 17.0493ZM42.9163 17.0493C42.5463 17.0493 42.2483 16.9465 42.0222 16.7409C41.8166 16.5149 41.7139 16.2271 41.7139 15.8777V1.38737C41.7139 1.01741 41.8166 0.729655 42.0222 0.524119C42.2483 0.298028 42.5463 0.184982 42.9163 0.184982C43.2657 0.184982 43.5431 0.298028 43.7487 0.524119C43.9748 0.729655 44.0878 1.01741 44.0878 1.38737V15.8777C44.0878 16.2271 43.9748 16.5149 43.7487 16.7409C43.5431 16.9465 43.2657 17.0493 42.9163 17.0493Z" fill="#E50914"></path><path d="M39.9175 17.0493C39.5681 17.0493 39.2803 16.9465 39.0543 16.7409C38.8282 16.5149 38.7151 16.2271 38.7151 15.8777V6.99852C38.7151 5.53921 38.3349 4.3882 37.5744 3.5455C36.8139 2.68225 35.8376 2.25062 34.6455 2.25062C33.3712 2.25062 32.3229 2.68225 31.5008 3.5455C30.6992 4.3882 30.3087 5.51866 30.3292 6.93686H28.2019C28.2225 5.55976 28.5205 4.3471 29.096 3.29886C29.6715 2.25062 30.4628 1.43876 31.47 0.863253C32.4771 0.287751 33.6178 0 34.8921 0C36.1048 0 37.1736 0.287751 38.0985 0.863253C39.044 1.43876 39.7736 2.25062 40.2875 3.29886C40.8219 4.3471 41.0891 5.58032 41.0891 6.99852V15.8777C41.0891 16.2271 40.976 16.5149 40.7499 16.7409C40.5444 16.9465 40.2669 17.0493 39.9175 17.0493ZM18.3362 17.0493C17.9662 17.0493 17.6682 16.9465 17.4421 16.7409C17.2366 16.5149 17.1338 16.2271 17.1338 15.8777V1.38737C17.1338 1.03796 17.2366 0.750208 17.4421 0.524119C17.6682 0.298028 17.9662 0.184982 18.3362 0.184982C18.6856 0.184982 18.9631 0.298028 19.1686 0.524119C19.3947 0.750208 19.5077 1.03796 19.5077 1.38737V15.8777C19.5077 16.2271 19.3947 16.5149 19.1686 16.7409C18.9631 16.9465 18.6856 17.0493 18.3362 17.0493ZM29.1577 17.0493C28.8083 17.0493 28.5205 16.9465 28.2944 16.7409C28.0683 16.5149 27.9553 16.2271 27.9553 15.8777V6.99852C27.9553 5.53921 27.575 4.3882 26.8146 3.5455C26.0541 2.68225 25.0778 2.25062 23.8857 2.25062C22.6113 2.25062 21.5631 2.67197 20.741 3.51467C19.9188 4.33682 19.5077 5.41589 19.5077 6.75187H17.8121C17.8532 5.43644 18.1409 4.27516 18.6753 3.26803C19.2303 2.24035 19.9805 1.43876 20.9259 0.863253C21.8714 0.287751 22.9402 0 24.1323 0C25.345 0 26.4138 0.287751 27.3387 0.863253C28.2841 1.43876 29.0138 2.25062 29.5276 3.29886C30.062 4.3471 30.3292 5.58032 30.3292 6.99852V15.8777C30.3292 16.2271 30.2162 16.5149 29.9901 16.7409C29.7846 16.9465 29.5071 17.0493 29.1577 17.0493Z" fill="#E50914"></path><path d="M8.57087 17.2033C6.92658 17.2033 5.45699 16.8334 4.16211 16.0934C2.86723 15.3535 1.84983 14.3361 1.1099 13.0412C0.369966 11.7463 0 10.2768 0 8.63246C0 6.96762 0.369966 5.48776 1.1099 4.19288C1.84983 2.898 2.86723 1.88059 4.16211 1.14066C5.45699 0.400727 6.92658 0.0307617 8.57087 0.0307617C10.2152 0.0307617 11.6745 0.400727 12.9488 1.14066C14.2437 1.88059 15.2611 2.898 16.001 4.19288C16.7409 5.48776 17.1212 6.96762 17.1417 8.63246C17.1417 10.2768 16.7615 11.7463 16.001 13.0412C15.2611 14.3361 14.2437 15.3535 12.9488 16.0934C11.6745 16.8334 10.2152 17.2033 8.57087 17.2033ZM8.57087 15.0452C9.76298 15.0452 10.8318 14.7677 11.7772 14.2128C12.7227 13.6578 13.4626 12.8973 13.997 11.9313C14.5314 10.9653 14.7986 9.86568 14.7986 8.63246C14.7986 7.39925 14.5314 6.29962 13.997 5.3336C13.4626 4.34703 12.7227 3.57627 11.7772 3.02132C10.8318 2.46637 9.76298 2.18889 8.57087 2.18889C7.37876 2.18889 6.30997 2.46637 5.3645 3.02132C4.41903 3.57627 3.66883 4.34703 3.11388 5.3336C2.57948 6.29962 2.31229 7.39925 2.31229 8.63246C2.31229 9.86568 2.57948 10.9653 3.11388 11.9313C3.66883 12.8973 4.41903 13.6578 5.3645 14.2128C6.30997 14.7677 7.37876 15.0452 8.57087 15.0452Z" fill="#E50914"></path></svg>');function ji(t,i){if(new.target)return La({component:ji,...t});Aa(i,!1);let l=ls(i,"width",12,91),s=ls(i,"height",12,18);var c={get width(){return l()},set width(_){l(_),Wa()},get height(){return s()},set height(_){s(_),Wa()},$set:Fa,$on:(_,m)=>Ra(i,_,m)},d=Sc();return b(()=>{vt(d,"width",l()),vt(d,"height",s())}),v(t,d),qa(c)}var $c=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="9" rx="1"></rect><rect x="14" y="3" width="7" height="5" rx="1"></rect><rect x="14" y="12" width="7" height="9" rx="1"></rect><rect x="3" y="16" width="7" height="5" rx="1"></rect></svg>'),Cc=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>'),zc=u("<a><!> </a>"),Tc=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>'),Ec=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg>'),Mc=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="15" rx="2" ry="2"></rect><polyline points="17 2 12 7 7 2"></polyline></svg>'),Ac=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="2"></circle><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"></path></svg>'),qc=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>'),Dc=u("<a><!> </a>"),Ic=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>'),Pc=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>'),jc=Es('<svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>'),Lc=u("<a><!> </a>"),Rc=u('<aside class="sidebar svelte-129hoe0"><div class="sidebar-header svelte-129hoe0"><!></div> <nav class="sidebar-nav svelte-129hoe0"><div class="nav-section svelte-129hoe0"></div> <div class="nav-section svelte-129hoe0"></div></nav> <div class="sidebar-footer svelte-129hoe0"><div class="nav-section svelte-129hoe0"><!> <a href="/admin/logout" class="nav-item logout svelte-129hoe0"><svg class="nav-icon svelte-129hoe0" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> Logout</a></div> <div class="version svelte-129hoe0"></div></div></aside>');function fo(t,i){if(new.target)return La({component:fo,...t});Aa(i,!0);const l=()=>mc(xc,"$location",s),[s,c]=hc();let d=ls(i,"features",23,()=>[]);const _=[{path:"/",label:"Dashboard"},{path:"/analytics",label:"Analytics"}],m=[{path:"/home",label:"Home Sections"},{path:"/movies",label:"Movies"},{path:"/tvshows",label:"TV Shows"},{path:"/channels",label:"Live Channels",feature:"live_channels"},{path:"/curated",label:"Curated Lists"}];let k=Ir(()=>m.filter(z=>!z.feature||d().includes(z.feature)));const w=[{path:"/licenses",label:"Licenses"},{path:"/api-docs",label:"API Docs"},{path:"/settings",label:"Settings"}];function $(z,ne){return z==="/"?ne==="/":ne.startsWith(z)}var I={get features(){return d()},set features(z=[]){d(z),Wa()},$set:Fa,$on:(z,ne)=>Ra(i,z,ne)},L=Rc(),V=r(L),A=r(V);ji(A,{width:91,height:18}),a(V);var ee=n(V,2),S=r(ee);lt(S,21,()=>_,it,(z,ne)=>{var Se=zc();let P;var De=r(Se);{var pt=Be=>{var st=$c();v(Be,st)},at=Be=>{var st=Tt(),Dt=ge(st);{var Lt=St=>{var ft=Cc();v(St,ft)};y(Dt,St=>{e(ne).path==="/analytics"&&St(Lt)},!0)}v(Be,st)};y(De,Be=>{e(ne).path==="/"?Be(pt):Be(at,!1)})}var bt=n(De);a(Se),Lr(Se,Be=>Rr?.(Be)),b(Be=>{vt(Se,"href",e(ne).path),P=rt(Se,1,"nav-item svelte-129hoe0",null,P,Be),f(bt,` ${e(ne).label??""}`)},[()=>({active:$(e(ne).path,l())})]),v(z,Se)}),a(S);var g=n(S,2);lt(g,21,()=>e(k),it,(z,ne)=>{var Se=Dc();let P;var De=r(Se);{var pt=Be=>{var st=Tc();v(Be,st)},at=Be=>{var st=Tt(),Dt=ge(st);{var Lt=ft=>{var Et=Ec();v(ft,Et)},St=ft=>{var Et=Tt(),pa=ge(Et);{var Qt=kt=>{var Mt=Mc();v(kt,Mt)},xt=kt=>{var Mt=Tt(),Je=ge(Mt);{var wt=Oe=>{var He=Ac();v(Oe,He)},K=Oe=>{var He=Tt(),et=ge(He);{var Nt=Pt=>{var re=qc();v(Pt,re)};y(et,Pt=>{e(ne).path==="/curated"&&Pt(Nt)},!0)}v(Oe,He)};y(Je,Oe=>{e(ne).path==="/channels"?Oe(wt):Oe(K,!1)},!0)}v(kt,Mt)};y(pa,kt=>{e(ne).path==="/tvshows"?kt(Qt):kt(xt,!1)},!0)}v(ft,Et)};y(Dt,ft=>{e(ne).path==="/movies"?ft(Lt):ft(St,!1)},!0)}v(Be,st)};y(De,Be=>{e(ne).path==="/home"?Be(pt):Be(at,!1)})}var bt=n(De);a(Se),Lr(Se,Be=>Rr?.(Be)),b(Be=>{vt(Se,"href",e(ne).path),P=rt(Se,1,"nav-item svelte-129hoe0",null,P,Be),f(bt,` ${e(ne).label??""}`)},[()=>({active:$(e(ne).path,l())})]),v(z,Se)}),a(g),a(ee);var x=n(ee,2),j=r(x),ce=r(j);lt(ce,17,()=>w,it,(z,ne)=>{var Se=Lc();let P;var De=r(Se);{var pt=Be=>{var st=Ic();v(Be,st)},at=Be=>{var st=Tt(),Dt=ge(st);{var Lt=ft=>{var Et=Pc();v(ft,Et)},St=ft=>{var Et=Tt(),pa=ge(Et);{var Qt=xt=>{var kt=jc();v(xt,kt)};y(pa,xt=>{e(ne).path==="/settings"&&xt(Qt)},!0)}v(ft,Et)};y(Dt,ft=>{e(ne).path==="/api-docs"?ft(Lt):ft(St,!1)},!0)}v(Be,st)};y(De,Be=>{e(ne).path==="/licenses"?Be(pt):Be(at,!1)})}var bt=n(De);a(Se),Lr(Se,Be=>Rr?.(Be)),b(Be=>{vt(Se,"href",e(ne).path),P=rt(Se,1,"nav-item svelte-129hoe0",null,P,Be),f(bt,` ${e(ne).label??""}`)},[()=>({active:$(e(ne).path,l())})]),v(z,Se)}),ut(2),a(j);var ve=n(j,2);ve.textContent="version: 1.0.0 | commit: abc212",a(x),a(L),v(t,L);var he=qa(I);return c(),he}var Fc=u('<div class="error-message svelte-110obhz"> </div>'),Bc=u('<div class="login-container svelte-110obhz"><div class="login-card svelte-110obhz"><div class="login-header svelte-110obhz"><!> <p class="login-subtitle svelte-110obhz">Admin Panel</p></div> <form><!> <div class="form-group svelte-110obhz"><label for="password" class="svelte-110obhz">Password</label> <input type="password" id="password" placeholder="Enter admin password" class="svelte-110obhz"/></div> <button type="submit" class="btn btn-primary login-btn svelte-110obhz"> </button></form></div></div>');function _o(t,i){if(new.target)return La({component:_o,...t});Aa(i,!1);const l=qi();let s=Z(""),c=Z(""),d=Z(!1);async function _(){if(!e(s)){o(c,"Password is required");return}o(d,!0),o(c,"");try{(await fetch("/admin/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e(s)})})).ok?l("login"):o(c,"Invalid password")}catch(j){o(c,"Connection error - make sure the backend is running on port 8080"),console.error("Login error:",j)}finally{o(d,!1)}}var m={$set:Fa,$on:(j,ce)=>Ra(i,j,ce)};Ns();var k=Bc(),w=r(k),$=r(w),I=r($);ji(I,{width:120,height:24}),ut(2),a($);var L=n($,2),V=r(L);{var A=j=>{var ce=Fc(),ve=r(ce,!0);a(ce),b(()=>f(ve,e(c))),v(j,ce)};y(V,j=>{e(c)&&j(A)})}var ee=n(V,2),S=n(r(ee),2);we(S),a(ee);var g=n(ee,2),x=r(g,!0);return a(g),a(L),a(w),a(k),b(()=>{S.disabled=e(d),g.disabled=e(d),f(x,e(d)?"Signing in...":"Sign In")}),Ce(S,()=>e(s),j=>o(s,j)),Y("submit",L,Bs(_)),v(t,k),qa(m)}var Oc=u('<span class="label-suffix svelte-17xvzis"> </span>'),Nc=u('<div class="stat-card svelte-17xvzis"><div class="stat-label svelte-17xvzis"><span class="label-main svelte-17xvzis"> </span> <!></div> <div class="stat-value svelte-17xvzis"> </div></div>');function bn(t,i){if(new.target)return La({component:bn,...t});Aa(i,!1);let l=ls(i,"label",12),s=ls(i,"value",12),c=ls(i,"suffix",12,"");var d={get label(){return l()},set label(A){l(A),Wa()},get value(){return s()},set value(A){s(A),Wa()},get suffix(){return c()},set suffix(A){c(A),Wa()},$set:Fa,$on:(A,ee)=>Ra(i,A,ee)};Ns();var _=Nc(),m=r(_),k=r(m),w=r(k,!0);a(k);var $=n(k,2);{var I=A=>{var ee=Oc(),S=r(ee,!0);a(ee),b(()=>f(S,c())),v(A,ee)};y($,A=>{c()&&A(I)})}a(m);var L=n(m,2),V=r(L,!0);return a(L),a(_),b(A=>{f(w,l()),f(V,A)},[()=>(Qr(s()),p(()=>typeof s()=="number"?s().toLocaleString():s()))]),v(t,_),qa(d)}const ya="/admin/api",Gr="/api/v2";async function ra(t,i){const l=await fetch(t,{...i,headers:{"Content-Type":"application/json",Accept:"application/json",...i?.headers}});if(!l.ok)throw new Error(`API Error: ${l.status}`);return l.json()}async function Uc(){return ra(`${ya}/stats`)}async function Vc(t){const i=new URLSearchParams;t?.page&&i.set("page",String(t.page)),t?.limit&&i.set("limit",String(t.limit)),t?.search&&i.set("query_term",t.search),i.set("sort_by",t?.sort_by||"date_uploaded"),i.set("order_by",t?.order_by||"desc");const l=await ra(`${Gr}/list_movies.json?${i}`);return{movies:l.data.movies||[],total:l.data.movie_count}}async function mo(t){return(await ra(`${Gr}/movie_details.json?movie_id=${t}`)).data.movie}async function ho(t){return ra(`${ya}/movies/${t}`,{method:"DELETE"})}async function Gc(t){return ra(`${ya}/movies/by-imdb/${t}`)}async function hi(t,i){return ra(`${ya}/movies/${t}`,{method:"PUT",body:JSON.stringify(i)})}async function Hc(t){const i=new URLSearchParams;t?.page&&i.set("page",String(t.page)),t?.limit&&i.set("limit",String(t.limit)),t?.search&&i.set("query_term",t.search);const l=await ra(`${Gr}/list_series.json?${i}`);return{series:l.data.series||[],total:l.data.series_count}}async function Yc(t,i=!0){const l=await ra(`${Gr}/series_details.json?series_id=${t}&with_episodes=${i}`);return{...l.data.series,episodes:l.data.episodes||[],season_packs:l.data.season_packs||[]}}async function Wc(t){return ra(`${ya}/series/by-imdb/${t}`)}async function go(t){return ra(`${ya}/series/${t}`,{method:"DELETE"})}async function bo(t,i){return ra(`${ya}/series/${t}`,{method:"PUT",body:JSON.stringify(i)})}async function Kc(){return ra(`${ya}/curated`)}async function Xc(t){const i=new URLSearchParams;t?.page&&i.set("page",String(t.page)),i.set("limit",String(t.limit)),t?.country&&i.set("country",t.country),t?.category&&i.set("category",t.category),t?.query_term&&i.set("query_term",t.query_term);const l=await ra(`${Gr}/list_channels.json?${i}`);return{channels:l.data.channels||[],total:l.data.channel_count,limit:l.data.limit,page:l.data.page_number}}async function Jc(){return(await ra(`${Gr}/channel_countries.json`)).data.countries||[]}async function Qc(){return(await ra(`${Gr}/channel_categories.json`)).data.categories||[]}async function Zc(t){return ra(`${ya}/channels/sync`,{method:"POST",body:JSON.stringify({m3u_url:t||""})})}async function ol(){return ra(`${ya}/channels/sync/status`)}async function ed(){return ra(`${ya}/channels/stats`)}async function td(){return ra(`${ya}/channels/settings`)}async function ad(t){return ra(`${ya}/channels/settings`,{method:"PUT",body:JSON.stringify({m3u_url:t})})}async function sd(t){return ra(`${ya}/channels/${t}`,{method:"DELETE"})}async function rd(){return ra(`${ya}/channels/health-check`,{method:"POST"})}async function vl(){return ra(`${ya}/channels/health-check/status`)}async function nd(){return ra(`${ya}/channels/blocklist`,{method:"DELETE"})}async function id(){return ra(`${ya}/services`)}async function ld(t){return ra(`${ya}/services`,{method:"PUT",body:JSON.stringify(t)})}async function yo(t){return ra(`${ya}/subtitles?imdb_code=${encodeURIComponent(t)}`)}async function xo(t){return ra(`${ya}/subtitles/${t}/preview`)}async function ko(t){return ra(`${ya}/subtitles/${t}`,{method:"DELETE"})}async function gi(t,i="en,sq,es,fr,de,it,pt,tr,ar,zh,ja,ko,ru",l,s){const c={imdb_code:t,languages:i};return l&&s&&(c.season=l,c.episode=s),ra(`${ya}/subtitles/sync`,{method:"POST",body:JSON.stringify(c)})}async function wo(){return ra(`${ya}/license-status`)}var od=u('<div class="loading"><div class="spinner"></div></div>'),vd=u('<section class="stats-section svelte-1thed0a"><div class="section-header"><h2 class="section-title svelte-1thed0a"><span class="svelte-1thed0a">ONLINE</span><span class="svelte-1thed0a">STATS</span></h2></div> <div class="stats-grid"><!> <!></div></section> <section class="stats-section svelte-1thed0a"><div class="section-header"><h2 class="section-title svelte-1thed0a"><span class="svelte-1thed0a">DATABASE</span><span class="svelte-1thed0a">STATS</span></h2></div> <div class="stats-grid"><!> <!></div></section> <section class="quick-actions svelte-1thed0a"><h2 class="section-title svelte-1thed0a"><span class="svelte-1thed0a">QUICK</span><span class="svelte-1thed0a">ACTIONS</span></h2> <div class="actions-grid svelte-1thed0a"><a href="#/movies" class="action-card svelte-1thed0a"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg> <span>Manage Movies</span></a> <a href="#/curated" class="action-card svelte-1thed0a"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg> <span>Curated Lists</span></a> <a href="#/settings" class="action-card svelte-1thed0a"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg> <span>Settings</span></a></div></section>',1),cd=u('<div class="dashboard svelte-1thed0a"><h1 class="page-title svelte-1thed0a">Dashboard</h1> <!></div>');function So(t,i){if(new.target)return La({component:So,...t});Aa(i,!1);let l=Z(!0),s=Z({movies:0,series:0,activeStreams:0});Ms(async()=>{try{const w=await Uc();o(s,{movies:w.movies||0,series:w.series||0,activeStreams:0})}catch(w){console.error("Failed to load stats:",w)}o(l,!1)});var c={$set:Fa,$on:(w,$)=>Ra(i,w,$)};Ns();var d=cd(),_=n(r(d),2);{var m=w=>{var $=od();v(w,$)},k=w=>{var $=vd(),I=ge($),L=n(r(I),2),V=r(L);bn(V,{label:"ACTIVE",get value(){return e(s).activeStreams},suffix:"STREAMS"});var A=n(V,2);bn(A,{label:"SERVER",value:"Online",suffix:""}),a(L),a(I);var ee=n(I,2),S=n(r(ee),2),g=r(S);bn(g,{label:"MOVIES",get value(){return e(s).movies}});var x=n(g,2);bn(x,{label:"TV",get value(){return e(s).series},suffix:"SHOWS"}),a(S),a(ee),ut(2),v(w,$)};y(_,w=>{e(l)?w(m):w(k,!1)})}return a(d),v(t,d),qa(c)}var dd=u('<div class="loading-overlay"><div class="spinner"></div> <p>Loading analytics...</p></div>'),ud=u("<span> </span>"),pd=u('<span class="stat-sublabel svelte-1gtcppe"> </span>'),fd=u('<div class="bar-wrapper svelte-1gtcppe"><div></div> <span class="bar-label svelte-1gtcppe"></span></div>'),_d=u('<div class="quality-row svelte-1gtcppe"><span class="quality-label svelte-1gtcppe"> </span> <div class="quality-bar-container svelte-1gtcppe"><div class="quality-bar svelte-1gtcppe"></div></div> <span class="quality-value svelte-1gtcppe"> </span></div>'),md=u('<div class="top-item svelte-1gtcppe"><span class="rank svelte-1gtcppe"></span> <span class="name svelte-1gtcppe"> </span> <span class="count svelte-1gtcppe"> </span> <span> </span></div>'),hd=u('<div class="top-item svelte-1gtcppe"><span class="rank svelte-1gtcppe"></span> <span class="name svelte-1gtcppe"> </span> <span class="count svelte-1gtcppe"> </span> <span> </span></div>'),gd=u('<div class="page-header svelte-1gtcppe"><h1 class="svelte-1gtcppe">Analytics</h1> <div class="header-actions svelte-1gtcppe"><select class="time-select svelte-1gtcppe"><option>Today</option><option>This Week</option><option>This Month</option><option>This Year</option></select> <button class="btn btn-secondary"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> Export</button></div></div> <!> <div class="analytics-grid svelte-1gtcppe"><section class="stat-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg> Streaming</h2> <div class="stat-cards svelte-1gtcppe"><div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Total Streams</span> <span class="stat-value svelte-1gtcppe"> </span> <!></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Active Now</span> <span class="stat-value highlight svelte-1gtcppe"> </span> <span class="stat-sublabel svelte-1gtcppe">live</span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Peak Today</span> <span class="stat-value svelte-1gtcppe"> </span> <!></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Avg Duration</span> <span class="stat-value svelte-1gtcppe"> </span></div></div></section> <section class="stat-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg> Bandwidth</h2> <div class="stat-cards svelte-1gtcppe"><div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Today</span> <span class="stat-value svelte-1gtcppe"> </span> <span class="stat-change positive svelte-1gtcppe">+8.2%</span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Avg / Stream</span> <span class="stat-value svelte-1gtcppe"> </span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Peak Rate</span> <span class="stat-value svelte-1gtcppe"> </span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">This Month</span> <span class="stat-value svelte-1gtcppe"> </span></div></div></section> <section class="stat-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> Users</h2> <div class="stat-cards svelte-1gtcppe"><div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Today</span> <span class="stat-value svelte-1gtcppe"> </span> <span class="stat-change positive svelte-1gtcppe">+5.3%</span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">This Week</span> <span class="stat-value svelte-1gtcppe"> </span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">This Month</span> <span class="stat-value svelte-1gtcppe"> </span></div> <div class="stat-card svelte-1gtcppe"><span class="stat-label svelte-1gtcppe">Returning</span> <span class="stat-value svelte-1gtcppe"> </span></div></div></section> <section class="chart-section wide svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg> Hourly Activity</h2> <div class="chart-container svelte-1gtcppe"><div class="bar-chart svelte-1gtcppe"></div></div></section> <section class="chart-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg> Quality Distribution</h2> <div class="quality-bars svelte-1gtcppe"></div></section> <section class="list-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg> Top Movies</h2> <div class="top-list svelte-1gtcppe"></div></section> <section class="list-section svelte-1gtcppe"><h2 class="section-title svelte-1gtcppe"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1gtcppe"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> Top Genres</h2> <div class="top-list svelte-1gtcppe"></div></section></div>',1);function $o(t,i){if(new.target)return La({component:$o,...t});Aa(i,!0);let l=tt(!0),s=tt("week"),c=tt(Pa({totalStreams:0,activeStreams:0,peakToday:0,peakTime:"",avgDuration:"0 min",totalChange:0})),d=tt(Pa({totalToday:"0 B",avgPerStream:"0 B",peakRate:"N/A",totalMonth:"0 B",todayChange:0})),_=tt(Pa({uniqueToday:0,uniqueWeek:0,uniqueMonth:0,returningRate:"0%",todayChange:0})),m=tt(Pa([])),k=tt(Pa([])),w=tt(Pa([])),$=tt(Pa(new Array(24).fill(0)));async function I(){o(l,!0);try{const ie=await fetch(`/admin/api/analytics?period=${e(s)}`,{credentials:"include"});if(!ie.ok)throw new Error("Failed to load analytics");const O=await ie.json();o(c,{totalStreams:O.stream_stats?.total_streams||0,activeStreams:O.stream_stats?.active_streams||0,peakToday:O.stream_stats?.peak_today||0,peakTime:O.stream_stats?.peak_time||"",avgDuration:O.stream_stats?.avg_duration||"0 min",totalChange:O.stream_stats?.total_change||0},!0),o(d,{totalToday:O.bandwidth_stats?.total_today||"0 B",avgPerStream:O.bandwidth_stats?.avg_per_stream||"0 B",peakRate:O.bandwidth_stats?.peak_rate||"N/A",totalMonth:O.bandwidth_stats?.total_month||"0 B",todayChange:O.bandwidth_stats?.today_change||0},!0),o(_,{uniqueToday:O.user_stats?.unique_today||0,uniqueWeek:O.user_stats?.unique_week||0,uniqueMonth:O.user_stats?.unique_month||0,returningRate:O.user_stats?.returning_rate||"0%",todayChange:O.user_stats?.today_change||0},!0),o(m,O.top_movies||[],!0),o(k,O.top_genres||[],!0),o(w,O.quality_distribution||[],!0),o($,O.hourly_activity||new Array(24).fill(0),!0)}catch(ie){console.error("Failed to load analytics:",ie)}finally{o(l,!1)}}function L(ie){const O=ie.target;o(s,O.value,!0),I()}Ms(()=>{I();const ie=setInterval(I,3e4);return()=>{clearInterval(ie)}});var V={$set:Fa,$on:(ie,O)=>Ra(i,ie,O)},A=gd(),ee=ge(A),S=n(r(ee),2),g=r(S);g.__change=L;var x=r(g);x.value=x.__value="today";var j=n(x);j.value=j.__value="week";var ce=n(j);ce.value=ce.__value="month";var ve=n(ce);ve.value=ve.__value="year",a(g),ut(2),a(S),a(ee);var he=n(ee,2);{var z=ie=>{var O=dd();v(ie,O)};y(he,ie=>{e(l)&&ie(z)})}var ne=n(he,2),Se=r(ne),P=n(r(Se),2),De=r(P),pt=n(r(De),2),at=r(pt,!0);a(pt);var bt=n(pt,2);{var Be=ie=>{var O=ud();let Q;var fe=r(O);a(O),b(xe=>{Q=rt(O,1,"stat-change svelte-1gtcppe",null,Q,{positive:e(c).totalChange>0,negative:e(c).totalChange<0}),f(fe,`${e(c).totalChange>0?"+":""}${xe??""}%`)},[()=>e(c).totalChange.toFixed(1)]),v(ie,O)};y(bt,ie=>{e(c).totalChange!==0&&ie(Be)})}a(De);var st=n(De,2),Dt=n(r(st),2),Lt=r(Dt,!0);a(Dt),ut(2),a(st);var St=n(st,2),ft=n(r(St),2),Et=r(ft,!0);a(ft);var pa=n(ft,2);{var Qt=ie=>{var O=pd(),Q=r(O);a(O),b(()=>f(Q,`at ${e(c).peakTime??""}`)),v(ie,O)};y(pa,ie=>{e(c).peakTime&&ie(Qt)})}a(St);var xt=n(St,2),kt=n(r(xt),2),Mt=r(kt,!0);a(kt),a(xt),a(P),a(Se);var Je=n(Se,2),wt=n(r(Je),2),K=r(wt),Oe=n(r(K),2),He=r(Oe,!0);a(Oe),ut(2),a(K);var et=n(K,2),Nt=n(r(et),2),Pt=r(Nt,!0);a(Nt),a(et);var re=n(et,2),Ie=n(r(re),2),Ve=r(Ie,!0);a(Ie),a(re);var Qe=n(re,2),D=n(r(Qe),2),ue=r(D,!0);a(D),a(Qe),a(wt),a(Je);var oe=n(Je,2),Te=n(r(oe),2),Me=r(Te),q=n(r(Me),2),be=r(q,!0);a(q),ut(2),a(Me);var M=n(Me,2),X=n(r(M),2),h=r(X,!0);a(X),a(M);var E=n(M,2),R=n(r(E),2),F=r(R,!0);a(R),a(E);var G=n(E,2),C=n(r(G),2),T=r(C,!0);a(C),a(G),a(Te),a(oe);var H=n(oe,2),W=n(r(H),2),te=r(W);lt(te,21,()=>e($),it,(ie,O,Q)=>{var fe=fd(),xe=r(fe);let ye;var je=n(xe,2);je.textContent=Q,a(fe),b(Pe=>{ye=rt(xe,1,"bar svelte-1gtcppe",null,ye,Pe),Er(xe,`height: ${e(O)/200*100}%`)},[()=>({peak:e(O)===Math.max(...e($))})]),v(ie,fe)}),a(te),a(W),a(H);var ae=n(H,2),J=n(r(ae),2);lt(J,21,()=>e(w),it,(ie,O)=>{var Q=_d(),fe=r(Q),xe=r(fe,!0);a(fe);var ye=n(fe,2),je=r(ye);a(ye);var Pe=n(ye,2),ke=r(Pe);a(Pe),a(Q),b(()=>{f(xe,e(O).quality),Er(je,`width: ${e(O).percentage??""}%`),f(ke,`${e(O).percentage??""}%`)}),v(ie,Q)}),a(J),a(ae);var le=n(ae,2),B=n(r(le),2);lt(B,21,()=>e(m),it,(ie,O,Q)=>{var fe=md(),xe=r(fe);xe.textContent=`#${Q+1}`;var ye=n(xe,2),je=r(ye,!0);a(ye);var Pe=n(ye,2),ke=r(Pe,!0);a(Pe);var _e=n(Pe,2);let Ee;var ze=r(_e);a(_e),a(fe),b(de=>{f(je,e(O).name),f(ke,de),Ee=rt(_e,1,"change svelte-1gtcppe",null,Ee,{positive:e(O).change>0,negative:e(O).change<0}),f(ze,`${e(O).change>0?"+":""}${e(O).change??""}%`)},[()=>e(O).count.toLocaleString()]),v(ie,fe)}),a(B),a(le);var pe=n(le,2),Ae=n(r(pe),2);return lt(Ae,21,()=>e(k),it,(ie,O,Q)=>{var fe=hd(),xe=r(fe);xe.textContent=`#${Q+1}`;var ye=n(xe,2),je=r(ye,!0);a(ye);var Pe=n(ye,2),ke=r(Pe,!0);a(Pe);var _e=n(Pe,2);let Ee;var ze=r(_e);a(_e),a(fe),b(de=>{f(je,e(O).name),f(ke,de),Ee=rt(_e,1,"change svelte-1gtcppe",null,Ee,{positive:e(O).change>0,negative:e(O).change<0}),f(ze,`${e(O).change>0?"+":""}${e(O).change??""}%`)},[()=>e(O).count.toLocaleString()]),v(ie,fe)}),a(Ae),a(pe),a(ne),b((ie,O,Q,fe)=>{f(at,ie),f(Lt,e(c).activeStreams),f(Et,e(c).peakToday),f(Mt,e(c).avgDuration),f(He,e(d).totalToday),f(Pt,e(d).avgPerStream),f(Ve,e(d).peakRate),f(ue,e(d).totalMonth),f(be,O),f(h,Q),f(F,fe),f(T,e(_).returningRate)},[()=>e(c).totalStreams.toLocaleString(),()=>e(_).uniqueToday.toLocaleString(),()=>e(_).uniqueWeek.toLocaleString(),()=>e(_).uniqueMonth.toLocaleString()]),ga(g,()=>e(s),ie=>o(s,ie)),v(t,A),qa(V)}Mn(["change"]);var bd=u('<div class="modal-footer svelte-ta60gp"><!></div>'),yd=u('<div class="modal-backdrop svelte-ta60gp" role="dialog" aria-modal="true" tabindex="-1"><div><div class="modal-header svelte-ta60gp"><h2 class="modal-title svelte-ta60gp"> </h2> <button class="modal-close svelte-ta60gp" aria-label="Close"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="modal-body svelte-ta60gp"><!></div> <!></div></div>');function za(t,i){if(new.target)return La({component:za,...t});const l=lc(i);Aa(i,!1);let s=ls(i,"open",12,!1),c=ls(i,"title",12,""),d=ls(i,"size",12,"md");const _=qi();function m(){_("close")}function k(A){A.key==="Escape"&&m()}function w(A){A.target===A.currentTarget&&m()}var $={get open(){return s()},set open(A){s(A),Wa()},get title(){return c()},set title(A){c(A),Wa()},get size(){return d()},set size(A){d(A),Wa()},$set:Fa,$on:(A,ee)=>Ra(i,A,ee)};Ns();var I=Tt();Y("keydown",ii,k);var L=ge(I);{var V=A=>{var ee=yd(),S=r(ee),g=r(S),x=r(g),j=r(x,!0);a(x);var ce=n(x,2);a(g);var ve=n(g,2),he=r(ve);Ji(he,i,"default",{}),a(ve);var z=n(ve,2);{var ne=Se=>{var P=bd(),De=r(P);Ji(De,i,"footer",{}),a(P),v(Se,P)};y(z,Se=>{p(()=>l.footer)&&Se(ne)})}a(S),a(ee),b(()=>{rt(S,1,`modal modal-${d()??""}`,"svelte-ta60gp"),f(j,c())}),Y("click",ce,m),Y("click",ee,w),Y("keydown",ee,k),v(A,ee)};y(L,A=>{s()&&A(V)})}return v(t,I),qa($)}var xd=u('<div class="loading"><div class="spinner"></div></div>'),kd=u('<div class="empty-state svelte-1nmp6pz"><p>No home sections configured yet.</p> <p class="text-muted">Default sections will be shown when no custom sections exist.</p> <button class="btn btn-primary mt-4 svelte-1nmp6pz">Add First Section</button></div>'),wd=u('<span class="config-tag svelte-1nmp6pz"> </span>'),Sd=u('<span class="badge badge-content svelte-1nmp6pz"> </span> <!>',1),$d=u('<span class="badge badge-type svelte-1nmp6pz"> </span> <span class="config-tag svelte-1nmp6pz"> </span>',1),Cd=u('<span class="config-tag svelte-1nmp6pz"> </span>'),zd=u('<span class="badge badge-type svelte-1nmp6pz"> </span> <!>',1),Td=u('<span class="config-tag svelte-1nmp6pz"> </span>'),Ed=u('<span class="badge badge-type svelte-1nmp6pz"> </span> <!>',1),Md=u('<tr><td><div class="order-controls svelte-1nmp6pz"><button class="btn-icon svelte-1nmp6pz">â²</button> <button class="btn-icon svelte-1nmp6pz">â¼</button></div></td><td><strong> </strong> <div class="section-id svelte-1nmp6pz"> </div></td><td><span class="badge badge-display svelte-1nmp6pz"> </span></td><td><!></td><td> </td><td><button> </button></td><td><div class="actions"><button class="btn btn-sm btn-secondary">EDIT</button> <button class="btn btn-sm btn-danger">DELETE</button></div></td></tr>'),Ad=u('<div class="card"><table class="data-table"><thead><tr><th style="width: 50px;">Order</th><th>Title</th><th>Display</th><th>Content</th><th>Limit</th><th>Status</th><th style="text-align: right;">Actions</th></tr></thead><tbody></tbody></table></div>'),qd=u('<button type="button"><span class="dt-label svelte-1nmp6pz"> </span> <span class="dt-desc svelte-1nmp6pz"> </span></button>'),Dd=u('<button type="button"> </button>'),Id=u('<img alt="" class="content-thumb svelte-1nmp6pz"/>'),Pd=u('<div class="selected-content svelte-1nmp6pz"><div class="selected-content-info svelte-1nmp6pz"><!> <div><strong> </strong> <div class="text-muted"> </div></div></div> <button type="button" class="btn btn-sm btn-secondary">Change</button></div>'),jd=u('<span class="searching svelte-1nmp6pz">Searching...</span>'),Ld=u('<img alt="" class="result-thumb svelte-1nmp6pz"/>'),Rd=u('<img alt="" class="result-thumb svelte-1nmp6pz"/>'),Fd=u('<div class="result-thumb placeholder svelte-1nmp6pz"></div>'),Bd=u('<button type="button" class="search-result-item svelte-1nmp6pz"><!> <div class="result-info svelte-1nmp6pz"><strong class="svelte-1nmp6pz"> </strong> <span class="text-muted"> </span></div></button>'),Od=u('<div class="search-results svelte-1nmp6pz"></div>'),Nd=u('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz"> </label> <div class="search-row svelte-1nmp6pz"><input type="text" class="form-input svelte-1nmp6pz" placeholder="Search by title..."/> <!></div> <!></div>'),Ud=u('<div class="content-picker svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz">Content Type</label> <div class="content-type-row svelte-1nmp6pz"></div></div> <!></div>'),Vd=u("<option> </option>"),Gd=u("<option> </option>"),Hd=u('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="genre">Genre</label> <select id="genre" class="form-input svelte-1nmp6pz"><option>Select genre...</option><!></select></div>'),Yd=u("<option> </option>"),Wd=u('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="curated_list">Curated List</label> <select id="curated_list" class="form-input svelte-1nmp6pz"><option>Select list...</option><!></select> <small class="text-muted"><a href="/admin/curated" class="link svelte-1nmp6pz">Manage curated lists</a> (e.g., Oscars 2025, Best of 2024)</small></div>'),Kd=u('<div class="form-row svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="sort_by">Sort By</label> <select id="sort_by" class="form-input svelte-1nmp6pz"><option>Rating</option><option>Date Added</option><option>Year</option><option>Title</option><option>Downloads</option></select></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="order_by">Order</label> <select id="order_by" class="form-input svelte-1nmp6pz"><option>Descending</option><option>Ascending</option></select></div></div> <div class="form-row svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="minimum_rating">Minimum Rating</label> <input type="number" id="minimum_rating" class="form-input svelte-1nmp6pz" min="0" max="10" step="0.1"/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="limit_count">Limit</label> <input type="number" id="limit_count" class="form-input svelte-1nmp6pz" min="1" max="50"/></div></div>',1),Xd=u('<div class="query-config svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="section_type">Data Source</label> <select id="section_type" class="form-input svelte-1nmp6pz"></select></div> <!> <!> <!></div>'),Jd=u('<form><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="title">Section Title *</label> <input type="text" id="title" class="form-input svelte-1nmp6pz" placeholder="e.g., Featured Movie, Top 10, Oscars 2025" required/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="section_id">Section ID</label> <input type="text" id="section_id" class="form-input svelte-1nmp6pz" placeholder="auto-generated from title"/> <small class="text-muted">Leave empty to auto-generate</small></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz">Display Type *</label> <div class="display-type-grid svelte-1nmp6pz"></div></div> <!></form>'),Qd=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Create Section</button>',1),Zd=u('<button type="button"><span class="dt-label svelte-1nmp6pz"> </span> <span class="dt-desc svelte-1nmp6pz"> </span></button>'),eu=u('<button type="button"> </button>'),tu=u('<img alt="" class="content-thumb svelte-1nmp6pz"/>'),au=u('<div class="selected-content svelte-1nmp6pz"><div class="selected-content-info svelte-1nmp6pz"><!> <div><strong> </strong> <div class="text-muted"> </div></div></div> <button type="button" class="btn btn-sm btn-secondary">Change</button></div>'),su=u('<span class="searching svelte-1nmp6pz">Searching...</span>'),ru=u('<img alt="" class="result-thumb svelte-1nmp6pz"/>'),nu=u('<img alt="" class="result-thumb svelte-1nmp6pz"/>'),iu=u('<div class="result-thumb placeholder svelte-1nmp6pz"></div>'),lu=u('<button type="button" class="search-result-item svelte-1nmp6pz"><!> <div class="result-info svelte-1nmp6pz"><strong class="svelte-1nmp6pz"> </strong> <span class="text-muted"> </span></div></button>'),ou=u('<div class="search-results svelte-1nmp6pz"></div>'),vu=u('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz"> </label> <div class="search-row svelte-1nmp6pz"><input type="text" class="form-input svelte-1nmp6pz" placeholder="Search by title..."/> <!></div> <!></div>'),cu=u('<div class="content-picker svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz">Content Type</label> <div class="content-type-row svelte-1nmp6pz"></div></div> <!></div>'),du=u("<option> </option>"),uu=u("<option> </option>"),pu=u('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_genre">Genre</label> <select id="edit_genre" class="form-input svelte-1nmp6pz"><option>Select genre...</option><!></select></div>'),fu=u("<option> </option>"),_u=u('<div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_curated_list">Curated List</label> <select id="edit_curated_list" class="form-input svelte-1nmp6pz"><option>Select list...</option><!></select> <small class="text-muted"><a href="/admin/curated" class="link svelte-1nmp6pz">Manage curated lists</a></small></div>'),mu=u('<div class="form-row svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_sort_by">Sort By</label> <select id="edit_sort_by" class="form-input svelte-1nmp6pz"><option>Rating</option><option>Date Added</option><option>Year</option><option>Title</option><option>Downloads</option></select></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_order_by">Order</label> <select id="edit_order_by" class="form-input svelte-1nmp6pz"><option>Descending</option><option>Ascending</option></select></div></div> <div class="form-row svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_minimum_rating">Minimum Rating</label> <input type="number" id="edit_minimum_rating" class="form-input svelte-1nmp6pz" min="0" max="10" step="0.1"/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_limit_count">Limit</label> <input type="number" id="edit_limit_count" class="form-input svelte-1nmp6pz" min="1" max="50"/></div></div>',1),hu=u('<div class="query-config svelte-1nmp6pz"><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_section_type">Data Source</label> <select id="edit_section_type" class="form-input svelte-1nmp6pz"></select></div> <!> <!> <!></div>'),gu=u('<form><div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_title">Section Title *</label> <input type="text" id="edit_title" class="form-input svelte-1nmp6pz" required/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz" for="edit_section_id">Section ID</label> <input type="text" id="edit_section_id" class="form-input svelte-1nmp6pz"/></div> <div class="form-group svelte-1nmp6pz"><label class="form-label svelte-1nmp6pz">Display Type</label> <div class="display-type-grid svelte-1nmp6pz"></div></div> <!> <div class="form-group svelte-1nmp6pz"><label class="toggle-label svelte-1nmp6pz"><input type="checkbox" class="svelte-1nmp6pz"/> Active</label></div></form>'),bu=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Save Changes</button>',1),yu=u('<div class="home-page"><header class="page-header"><h1 class="page-title">HOME SECTIONS</h1> <div class="page-actions"><a href="/api/v2/home.json" target="_blank" class="btn btn-secondary">Preview API</a> <button class="btn btn-primary">ADD SECTION</button></div></header> <p class="page-description svelte-1nmp6pz">Configure the sections that appear on the Streamer home page.</p> <!></div> <!> <!>',1);function Co(t,i){if(new.target)return La({component:Co,...t});Aa(i,!0);let l=tt(Pa([])),s=tt(Pa([])),c=tt(!0),d=tt(!1),_=tt(!1),m=tt(null),k=tt(""),w=tt(Pa([])),$=tt(!1),I=tt(null);const L=[{value:"carousel",label:"Carousel",description:"Horizontal scrolling row of posters",needsQuery:!0},{value:"top10",label:"Top 10",description:"Netflix-style ranked list with numbers",needsQuery:!0},{value:"grid",label:"Grid",description:"Grid layout of posters",needsQuery:!0},{value:"featured",label:"Featured",description:"Large featured cards with details",needsQuery:!0},{value:"hero",label:"Hero",description:"Full-width hero banner with single item",needsQuery:!1},{value:"banner",label:"Banner",description:"Promotional banner with single item",needsQuery:!1}],V=[{value:"top_viewed",label:"Top Viewed (Analytics)"},{value:"recent",label:"Recently Added"},{value:"top_rated",label:"Top Rated"},{value:"genre",label:"By Genre"},{value:"curated_list",label:"Curated List"},{value:"query",label:"Custom Query"}],A=[{value:"movie",label:"Movie"},{value:"series",label:"TV Series"},{value:"channel",label:"Live Channel"}],ee=["Action","Adventure","Animation","Biography","Comedy","Crime","Documentary","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","Sci-Fi","Sport","Thriller","War","Western"];let S=tt(Pa({section_id:"",title:"",display_type:"carousel",section_type:"recent",content_type:"movie",content_id:null,genre:"",curated_list_id:null,sort_by:"rating",order_by:"desc",minimum_rating:0,limit_count:10,is_active:!0,display_order:0}));function g(K){return L.find(He=>He.value===K)?.needsQuery??!0}Ms(async()=>{await Promise.all([x(),j()])});async function x(){o(c,!0);try{const K=await fetch("/admin/api/home/sections");K.ok?o(l,await K.json(),!0):console.error("Failed to load sections:",await K.text())}catch(K){console.error("Failed to load sections:",K)}finally{o(c,!1)}}async function j(){try{const K=await fetch("/admin/api/curated");K.ok&&o(s,await K.json(),!0)}catch(K){console.error("Failed to load curated lists:",K)}}async function ce(){if(!e(k).trim()){o(w,[],!0);return}o($,!0);try{if(e(S).content_type==="movie"){const K=await fetch(`/api/v2/list_movies.json?query_term=${encodeURIComponent(e(k))}&limit=10`);if(K.ok){const Oe=await K.json();o(w,Oe.data?.movies||[],!0)}}else if(e(S).content_type==="series"){const K=await fetch(`/api/v2/list_series.json?query_term=${encodeURIComponent(e(k))}&limit=10`);if(K.ok){const Oe=await K.json();o(w,Oe.data?.series||[],!0)}}}catch(K){console.error("Failed to search content:",K)}finally{o($,!1)}}function ve(K){const Oe="medium_cover_image"in K;o(I,{type:e(S).content_type,id:K.id,title:K.title,image:Oe?K.medium_cover_image:K.poster_image},!0),e(S).content_id=K.id,o(k,""),o(w,[],!0)}function he(){o(I,null),e(S).content_id=null}function z(){o(S,{section_id:"",title:"",display_type:"carousel",section_type:"recent",content_type:"movie",content_id:null,genre:"",curated_list_id:null,sort_by:"rating",order_by:"desc",minimum_rating:0,limit_count:10,is_active:!0,display_order:e(l).length},!0),o(I,null),o(k,""),o(w,[],!0),o(d,!0)}function ne(K){o(m,K,!0),o(S,{section_id:K.section_id,title:K.title,display_type:K.display_type||"carousel",section_type:K.section_type||"recent",content_type:K.content_type||"movie",content_id:K.content_id||null,genre:K.genre||"",curated_list_id:K.curated_list_id||null,sort_by:K.sort_by||"rating",order_by:K.order_by||"desc",minimum_rating:K.minimum_rating||0,limit_count:K.limit_count||10,is_active:K.is_active,display_order:K.display_order},!0),K.content_id&&!g(K.display_type)?o(I,{type:K.content_type||"movie",id:K.content_id,title:"Content #"+K.content_id,image:""},!0):o(I,null),o(k,""),o(w,[],!0),o(_,!0)}async function Se(){e(S).section_id||(e(S).section_id=e(S).title.toLowerCase().replace(/[^a-z0-9]+/g,"_"));const K={...e(S)};g(e(S).display_type)?(K.content_type="",K.content_id=null):(K.section_type="",K.genre="",K.curated_list_id=null);try{const Oe=await fetch("/admin/api/home/sections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(Oe.ok)o(d,!1),await x();else{const He=await Oe.text();alert("Failed to create section: "+He)}}catch(Oe){console.error("Failed to create section:",Oe)}}async function P(){if(!e(m))return;const K={...e(S),id:e(m).id};g(e(S).display_type)?(K.content_type="",K.content_id=null):(K.section_type="",K.genre="",K.curated_list_id=null);try{const Oe=await fetch(`/admin/api/home/sections/${e(m).id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(Oe.ok)o(_,!1),await x();else{const He=await Oe.text();alert("Failed to update section: "+He)}}catch(Oe){console.error("Failed to update section:",Oe)}}async function De(K){if(confirm(`Delete "${K.title}"?`))try{await fetch(`/admin/api/home/sections/${K.id}`,{method:"DELETE"}),await x()}catch(Oe){console.error("Failed to delete section:",Oe)}}async function pt(K){try{await fetch(`/admin/api/home/sections/${K.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...K,is_active:!K.is_active})}),await x()}catch(Oe){console.error("Failed to toggle section:",Oe)}}async function at(K,Oe){const He=e(l).findIndex(et=>et.id===K.id);if(Oe==="up"&&He>0){const et=[...e(l)];[et[He-1],et[He]]=[et[He],et[He-1]],await bt(et)}else if(Oe==="down"&&He<e(l).length-1){const et=[...e(l)];[et[He],et[He+1]]=[et[He+1],et[He]],await bt(et)}}async function bt(K){const Oe=K.map(He=>He.id);try{await fetch("/admin/api/home/sections/reorder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:Oe})}),await x()}catch(He){console.error("Failed to reorder sections:",He)}}function Be(K){return V.find(Oe=>Oe.value===K)?.label||K}function st(K){return L.find(Oe=>Oe.value===K)?.label||K}function Dt(K){return A.find(Oe=>Oe.value===K)?.label||K}var Lt={$set:Fa,$on:(K,Oe)=>Ra(i,K,Oe)},St=yu(),ft=ge(St),Et=r(ft),pa=n(r(Et),2),Qt=n(r(pa),2);Qt.__click=z,a(pa),a(Et);var xt=n(Et,4);{var kt=K=>{var Oe=xd();v(K,Oe)},Mt=K=>{var Oe=Tt(),He=ge(Oe);{var et=Pt=>{var re=kd(),Ie=n(r(re),4);Ie.__click=z,a(re),v(Pt,re)},Nt=Pt=>{var re=Ad(),Ie=r(re),Ve=n(r(Ie));lt(Ve,21,()=>e(l),it,(Qe,D,ue)=>{var oe=Md();let Te;var Me=r(oe),q=r(Me),be=r(q);be.__click=()=>at(e(D),"up"),be.disabled=ue===0;var M=n(be,2);M.__click=()=>at(e(D),"down"),a(q),a(Me);var X=n(Me),h=r(X),E=r(h,!0);a(h);var R=n(h,2),F=r(R,!0);a(R),a(X);var G=n(X),C=r(G),T=r(C,!0);a(C),a(G);var H=n(G),W=r(H);{var te=ye=>{var je=Sd(),Pe=ge(je),ke=r(Pe,!0);a(Pe);var _e=n(Pe,2);{var Ee=ze=>{var de=wd(),Ue=r(de);a(de),b(()=>f(Ue,`#${e(D).content_id??""}`)),v(ze,de)};y(_e,ze=>{e(D).content_id&&ze(Ee)})}b(ze=>f(ke,ze),[()=>Dt(e(D).content_type||"movie")]),v(ye,je)},ae=ye=>{var je=Tt(),Pe=ge(je);{var ke=Ee=>{var ze=$d(),de=ge(ze),Ue=r(de,!0);a(de);var ot=n(de,2),Re=r(ot,!0);a(ot),b(Le=>{f(Ue,Le),f(Re,e(D).genre)},[()=>Be(e(D).section_type)]),v(Ee,ze)},_e=Ee=>{var ze=Tt(),de=ge(ze);{var Ue=Re=>{var Le=zd(),Ke=ge(Le),_t=r(Ke,!0);a(Ke);var mt=n(Ke,2);{var At=ht=>{const Gt=Ir(()=>e(s).find(Ne=>Ne.id===e(D).curated_list_id));var fa=Cd(),dt=r(fa,!0);a(fa),b(()=>f(dt,e(Gt)?.name||"#"+e(D).curated_list_id)),v(ht,fa)};y(mt,ht=>{e(D).curated_list_id&&ht(At)})}b(ht=>f(_t,ht),[()=>Be(e(D).section_type)]),v(Re,Le)},ot=Re=>{var Le=Ed(),Ke=ge(Le),_t=r(Ke,!0);a(Ke);var mt=n(Ke,2);{var At=ht=>{var Gt=Td(),fa=r(Gt);a(Gt),b(()=>f(fa,`â¥${e(D).minimum_rating??""}â`)),v(ht,Gt)};y(mt,ht=>{e(D).minimum_rating>0&&ht(At)})}b(ht=>f(_t,ht),[()=>Be(e(D).section_type)]),v(Re,Le)};y(de,Re=>{e(D).section_type==="curated_list"?Re(Ue):Re(ot,!1)},!0)}v(Ee,ze)};y(Pe,Ee=>{e(D).section_type==="genre"?Ee(ke):Ee(_e,!1)},!0)}v(ye,je)};y(W,ye=>{g(e(D).display_type)?ye(ae,!1):ye(te)})}a(H);var J=n(H),le=r(J,!0);a(J);var B=n(J),pe=r(B);let Ae;pe.__click=()=>pt(e(D));var ie=r(pe,!0);a(pe),a(B);var O=n(B),Q=r(O),fe=r(Q);fe.__click=()=>ne(e(D));var xe=n(fe,2);xe.__click=()=>De(e(D)),a(Q),a(O),a(oe),b(ye=>{Te=rt(oe,1,"svelte-1nmp6pz",null,Te,{inactive:!e(D).is_active}),M.disabled=ue===e(l).length-1,f(E,e(D).title),f(F,e(D).section_id),f(T,ye),f(le,e(D).limit_count),Ae=rt(pe,1,"status-toggle svelte-1nmp6pz",null,Ae,{active:e(D).is_active}),f(ie,e(D).is_active?"Active":"Inactive")},[()=>st(e(D).display_type)]),v(Qe,oe)}),a(Ve),a(Ie),a(re),v(Pt,re)};y(He,Pt=>{e(l).length===0?Pt(et):Pt(Nt,!1)},!0)}v(K,Oe)};y(xt,K=>{e(c)?K(kt):K(Mt,!1)})}a(ft);var Je=n(ft,2);za(Je,{title:"Add Home Section",size:"md",get open(){return e(d)},set open(K){o(d,K,!0)},$$events:{close:()=>o(d,!1)},children:(K,Oe)=>{var He=Jd(),et=r(He),Nt=n(r(et),2);we(Nt),a(et);var Pt=n(et,2),re=n(r(Pt),2);we(re),ut(2),a(Pt);var Ie=n(Pt,2),Ve=n(r(Ie),2);lt(Ve,21,()=>L,it,(oe,Te)=>{var Me=qd();let q;Me.__click=()=>e(S).display_type=e(Te).value;var be=r(Me),M=r(be,!0);a(be);var X=n(be,2),h=r(X,!0);a(X),a(Me),b(()=>{q=rt(Me,1,"display-type-option svelte-1nmp6pz",null,q,{selected:e(S).display_type===e(Te).value}),f(M,e(Te).label),f(h,e(Te).description)}),v(oe,Me)}),a(Ve),a(Ie);var Qe=n(Ie,2);{var D=oe=>{var Te=Ud(),Me=r(Te),q=n(r(Me),2);lt(q,21,()=>A,it,(h,E)=>{var R=Dd();let F;R.__click=()=>{e(S).content_type=e(E).value,he()};var G=r(R,!0);a(R),b(()=>{F=rt(R,1,"content-type-btn svelte-1nmp6pz",null,F,{selected:e(S).content_type===e(E).value}),f(G,e(E).label)}),v(h,R)}),a(q),a(Me);var be=n(Me,2);{var M=h=>{var E=Pd(),R=r(E),F=r(R);{var G=J=>{var le=Id();b(()=>vt(le,"src",e(I).image)),v(J,le)};y(F,J=>{e(I).image&&J(G)})}var C=n(F,2),T=r(C),H=r(T,!0);a(T);var W=n(T,2),te=r(W);a(W),a(C),a(R);var ae=n(R,2);ae.__click=he,a(E),b(J=>{f(H,e(I).title),f(te,`${J??""} #${e(I).id??""}`)},[()=>Dt(e(I).type)]),v(h,E)},X=h=>{var E=Nd(),R=r(E),F=r(R);a(R);var G=n(R,2),C=r(G);we(C),C.__input=()=>ce();var T=n(C,2);{var H=ae=>{var J=jd();v(ae,J)};y(T,ae=>{e($)&&ae(H)})}a(G);var W=n(G,2);{var te=ae=>{var J=Od();lt(J,21,()=>e(w),it,(le,B)=>{var pe=Bd();pe.__click=()=>ve(e(B));var Ae=r(pe);{var ie=Pe=>{var ke=Ld();b(()=>vt(ke,"src",e(B).medium_cover_image)),v(Pe,ke)},O=Pe=>{var ke=Tt(),_e=ge(ke);{var Ee=de=>{var Ue=Rd();b(()=>vt(Ue,"src",e(B).poster_image)),v(de,Ue)},ze=de=>{var Ue=Fd();v(de,Ue)};y(_e,de=>{"poster_image"in e(B)&&e(B).poster_image?de(Ee):de(ze,!1)},!0)}v(Pe,ke)};y(Ae,Pe=>{"medium_cover_image"in e(B)&&e(B).medium_cover_image?Pe(ie):Pe(O,!1)})}var Q=n(Ae,2),fe=r(Q),xe=r(fe,!0);a(fe);var ye=n(fe,2),je=r(ye,!0);a(ye),a(Q),a(pe),b(()=>{f(xe,e(B).title),f(je,e(B).year)}),v(le,pe)}),a(J),v(ae,J)};y(W,ae=>{e(w).length>0&&ae(te)})}a(E),b(ae=>f(F,`Search ${ae??""}`),[()=>Dt(e(S).content_type)]),Ce(C,()=>e(k),ae=>o(k,ae)),v(h,E)};y(be,h=>{e(I)?h(M):h(X,!1)})}a(Te),v(oe,Te)},ue=oe=>{var Te=Xd(),Me=r(Te),q=n(r(Me),2);lt(q,21,()=>V,it,(F,G)=>{var C=Vd(),T=r(C,!0);a(C);var H={};b(()=>{f(T,e(G).label),H!==(H=e(G).value)&&(C.value=(C.__value=e(G).value)??"")}),v(F,C)}),a(q),a(Me);var be=n(Me,2);{var M=F=>{var G=Hd(),C=n(r(G),2),T=r(C);T.value=T.__value="";var H=n(T);lt(H,17,()=>ee,it,(W,te)=>{var ae=Gd(),J=r(ae,!0);a(ae);var le={};b(()=>{f(J,e(te)),le!==(le=e(te))&&(ae.value=(ae.__value=e(te))??"")}),v(W,ae)}),a(C),a(G),ga(C,()=>e(S).genre,W=>e(S).genre=W),v(F,G)};y(be,F=>{e(S).section_type==="genre"&&F(M)})}var X=n(be,2);{var h=F=>{var G=Wd(),C=n(r(G),2),T=r(C);T.value=(T.__value=null)??"";var H=n(T);lt(H,17,()=>e(s),it,(W,te)=>{var ae=Yd(),J=r(ae,!0);a(ae);var le={};b(()=>{f(J,e(te).name),le!==(le=e(te).id)&&(ae.value=(ae.__value=e(te).id)??"")}),v(W,ae)}),a(C),ut(2),a(G),ga(C,()=>e(S).curated_list_id,W=>e(S).curated_list_id=W),v(F,G)};y(X,F=>{e(S).section_type==="curated_list"&&F(h)})}var E=n(X,2);{var R=F=>{var G=Kd(),C=ge(G),T=r(C),H=n(r(T),2),W=r(H);W.value=W.__value="rating";var te=n(W);te.value=te.__value="date_uploaded";var ae=n(te);ae.value=ae.__value="year";var J=n(ae);J.value=J.__value="title";var le=n(J);le.value=le.__value="download_count",a(H),a(T);var B=n(T,2),pe=n(r(B),2),Ae=r(pe);Ae.value=Ae.__value="desc";var ie=n(Ae);ie.value=ie.__value="asc",a(pe),a(B),a(C);var O=n(C,2),Q=r(O),fe=n(r(Q),2);we(fe),a(Q);var xe=n(Q,2),ye=n(r(xe),2);we(ye),a(xe),a(O),ga(H,()=>e(S).sort_by,je=>e(S).sort_by=je),ga(pe,()=>e(S).order_by,je=>e(S).order_by=je),Ce(fe,()=>e(S).minimum_rating,je=>e(S).minimum_rating=je),Ce(ye,()=>e(S).limit_count,je=>e(S).limit_count=je),v(F,G)};y(E,F=>{e(S).section_type!=="curated_list"&&F(R)})}a(Te),ga(q,()=>e(S).section_type,F=>e(S).section_type=F),v(oe,Te)};y(Qe,oe=>{g(e(S).display_type)?oe(ue,!1):oe(D)})}a(He),Y("submit",He,oe=>{oe.preventDefault(),Se()}),Ce(Nt,()=>e(S).title,oe=>e(S).title=oe),Ce(re,()=>e(S).section_id,oe=>e(S).section_id=oe),v(K,He)},$$slots:{default:!0,footer:(K,Oe)=>{var He=Qd(),et=ge(He);et.__click=()=>o(d,!1);var Nt=n(et,2);Nt.__click=Se,v(K,He)}}});var wt=n(Je,2);return za(wt,{title:"Edit Home Section",size:"md",get open(){return e(_)},set open(K){o(_,K,!0)},$$events:{close:()=>o(_,!1)},children:(K,Oe)=>{var He=gu(),et=r(He),Nt=n(r(et),2);we(Nt),a(et);var Pt=n(et,2),re=n(r(Pt),2);we(re),a(Pt);var Ie=n(Pt,2),Ve=n(r(Ie),2);lt(Ve,21,()=>L,it,(q,be)=>{var M=Zd();let X;M.__click=()=>e(S).display_type=e(be).value;var h=r(M),E=r(h,!0);a(h);var R=n(h,2),F=r(R,!0);a(R),a(M),b(()=>{X=rt(M,1,"display-type-option svelte-1nmp6pz",null,X,{selected:e(S).display_type===e(be).value}),f(E,e(be).label),f(F,e(be).description)}),v(q,M)}),a(Ve),a(Ie);var Qe=n(Ie,2);{var D=q=>{var be=cu(),M=r(be),X=n(r(M),2);lt(X,21,()=>A,it,(F,G)=>{var C=eu();let T;C.__click=()=>{e(S).content_type=e(G).value,he()};var H=r(C,!0);a(C),b(()=>{T=rt(C,1,"content-type-btn svelte-1nmp6pz",null,T,{selected:e(S).content_type===e(G).value}),f(H,e(G).label)}),v(F,C)}),a(X),a(M);var h=n(M,2);{var E=F=>{var G=au(),C=r(G),T=r(C);{var H=pe=>{var Ae=tu();b(()=>vt(Ae,"src",e(I).image)),v(pe,Ae)};y(T,pe=>{e(I).image&&pe(H)})}var W=n(T,2),te=r(W),ae=r(te,!0);a(te);var J=n(te,2),le=r(J);a(J),a(W),a(C);var B=n(C,2);B.__click=he,a(G),b(pe=>{f(ae,e(I).title),f(le,`${pe??""} #${e(I).id??""}`)},[()=>Dt(e(I).type)]),v(F,G)},R=F=>{var G=vu(),C=r(G),T=r(C);a(C);var H=n(C,2),W=r(H);we(W),W.__input=()=>ce();var te=n(W,2);{var ae=B=>{var pe=su();v(B,pe)};y(te,B=>{e($)&&B(ae)})}a(H);var J=n(H,2);{var le=B=>{var pe=ou();lt(pe,21,()=>e(w),it,(Ae,ie)=>{var O=lu();O.__click=()=>ve(e(ie));var Q=r(O);{var fe=Ee=>{var ze=ru();b(()=>vt(ze,"src",e(ie).medium_cover_image)),v(Ee,ze)},xe=Ee=>{var ze=Tt(),de=ge(ze);{var Ue=Re=>{var Le=nu();b(()=>vt(Le,"src",e(ie).poster_image)),v(Re,Le)},ot=Re=>{var Le=iu();v(Re,Le)};y(de,Re=>{"poster_image"in e(ie)&&e(ie).poster_image?Re(Ue):Re(ot,!1)},!0)}v(Ee,ze)};y(Q,Ee=>{"medium_cover_image"in e(ie)&&e(ie).medium_cover_image?Ee(fe):Ee(xe,!1)})}var ye=n(Q,2),je=r(ye),Pe=r(je,!0);a(je);var ke=n(je,2),_e=r(ke,!0);a(ke),a(ye),a(O),b(()=>{f(Pe,e(ie).title),f(_e,e(ie).year)}),v(Ae,O)}),a(pe),v(B,pe)};y(J,B=>{e(w).length>0&&B(le)})}a(G),b(B=>f(T,`Search ${B??""}`),[()=>Dt(e(S).content_type)]),Ce(W,()=>e(k),B=>o(k,B)),v(F,G)};y(h,F=>{e(I)?F(E):F(R,!1)})}a(be),v(q,be)},ue=q=>{var be=hu(),M=r(be),X=n(r(M),2);lt(X,21,()=>V,it,(T,H)=>{var W=du(),te=r(W,!0);a(W);var ae={};b(()=>{f(te,e(H).label),ae!==(ae=e(H).value)&&(W.value=(W.__value=e(H).value)??"")}),v(T,W)}),a(X),a(M);var h=n(M,2);{var E=T=>{var H=pu(),W=n(r(H),2),te=r(W);te.value=te.__value="";var ae=n(te);lt(ae,17,()=>ee,it,(J,le)=>{var B=uu(),pe=r(B,!0);a(B);var Ae={};b(()=>{f(pe,e(le)),Ae!==(Ae=e(le))&&(B.value=(B.__value=e(le))??"")}),v(J,B)}),a(W),a(H),ga(W,()=>e(S).genre,J=>e(S).genre=J),v(T,H)};y(h,T=>{e(S).section_type==="genre"&&T(E)})}var R=n(h,2);{var F=T=>{var H=_u(),W=n(r(H),2),te=r(W);te.value=(te.__value=null)??"";var ae=n(te);lt(ae,17,()=>e(s),it,(J,le)=>{var B=fu(),pe=r(B,!0);a(B);var Ae={};b(()=>{f(pe,e(le).name),Ae!==(Ae=e(le).id)&&(B.value=(B.__value=e(le).id)??"")}),v(J,B)}),a(W),ut(2),a(H),ga(W,()=>e(S).curated_list_id,J=>e(S).curated_list_id=J),v(T,H)};y(R,T=>{e(S).section_type==="curated_list"&&T(F)})}var G=n(R,2);{var C=T=>{var H=mu(),W=ge(H),te=r(W),ae=n(r(te),2),J=r(ae);J.value=J.__value="rating";var le=n(J);le.value=le.__value="date_uploaded";var B=n(le);B.value=B.__value="year";var pe=n(B);pe.value=pe.__value="title";var Ae=n(pe);Ae.value=Ae.__value="download_count",a(ae),a(te);var ie=n(te,2),O=n(r(ie),2),Q=r(O);Q.value=Q.__value="desc";var fe=n(Q);fe.value=fe.__value="asc",a(O),a(ie),a(W);var xe=n(W,2),ye=r(xe),je=n(r(ye),2);we(je),a(ye);var Pe=n(ye,2),ke=n(r(Pe),2);we(ke),a(Pe),a(xe),ga(ae,()=>e(S).sort_by,_e=>e(S).sort_by=_e),ga(O,()=>e(S).order_by,_e=>e(S).order_by=_e),Ce(je,()=>e(S).minimum_rating,_e=>e(S).minimum_rating=_e),Ce(ke,()=>e(S).limit_count,_e=>e(S).limit_count=_e),v(T,H)};y(G,T=>{e(S).section_type!=="curated_list"&&T(C)})}a(be),ga(X,()=>e(S).section_type,T=>e(S).section_type=T),v(q,be)};y(Qe,q=>{g(e(S).display_type)?q(ue,!1):q(D)})}var oe=n(Qe,2),Te=r(oe),Me=r(Te);we(Me),ut(),a(Te),a(oe),a(He),Y("submit",He,q=>{q.preventDefault(),P()}),Ce(Nt,()=>e(S).title,q=>e(S).title=q),Ce(re,()=>e(S).section_id,q=>e(S).section_id=q),fc(Me,()=>e(S).is_active,q=>e(S).is_active=q),v(K,He)},$$slots:{default:!0,footer:(K,Oe)=>{var He=bu(),et=ge(He);et.__click=()=>o(_,!1);var Nt=n(et,2);Nt.__click=P,v(K,He)}}}),v(t,St),qa(Lt)}Mn(["click","input"]);var xu=u('<option class="svelte-nokxp9"> </option>'),ku=u("<button> </button>"),wu=u('<div class="pagination-controls svelte-nokxp9"><button class="pagination-btn svelte-nokxp9" title="First page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><polyline points="11 17 6 12 11 7" class="svelte-nokxp9"></polyline><polyline points="18 17 13 12 18 7" class="svelte-nokxp9"></polyline></svg></button> <button class="pagination-btn svelte-nokxp9" title="Previous page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><polyline points="15 18 9 12 15 6" class="svelte-nokxp9"></polyline></svg></button> <!> <button class="pagination-btn svelte-nokxp9" title="Next page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><polyline points="9 18 15 12 9 6" class="svelte-nokxp9"></polyline></svg></button> <button class="pagination-btn svelte-nokxp9" title="Last page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><polyline points="13 17 18 12 13 7" class="svelte-nokxp9"></polyline><polyline points="6 17 11 12 6 7" class="svelte-nokxp9"></polyline></svg></button></div>'),Su=u('<div class="pagination svelte-nokxp9"><div class="pagination-left svelte-nokxp9"><span class="pagination-info svelte-nokxp9"> </span> <div class="per-page svelte-nokxp9"><span class="svelte-nokxp9">per page:</span> <select class="svelte-nokxp9"></select></div></div> <!></div>'),$u=u('<div class="loading svelte-nokxp9"><div class="spinner svelte-nokxp9"></div></div>'),Cu=u('<div class="empty-state svelte-nokxp9"><p class="svelte-nokxp9">No movies found</p></div>'),zu=u('<img class="poster svelte-nokxp9"/>'),Tu=u('<div class="poster poster-placeholder svelte-nokxp9"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="svelte-nokxp9"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18" class="svelte-nokxp9"></rect><line x1="7" y1="2" x2="7" y2="22" class="svelte-nokxp9"></line><line x1="17" y1="2" x2="17" y2="22" class="svelte-nokxp9"></line><line x1="2" y1="12" x2="22" y2="12" class="svelte-nokxp9"></line></svg></div>'),Eu=u('<span class="status-badge status-coming-soon svelte-nokxp9">COMING SOON</span>'),Mu=u('<div class="rating-badge rating-imdb svelte-nokxp9"><span class="source svelte-nokxp9">IMDb</span> <span class="score svelte-nokxp9"> </span></div>'),Au=u('<div class="rating-badge rating-rt svelte-nokxp9"><span class="score svelte-nokxp9"> </span></div>'),qu=u("<span> </span>"),Du=u('<tr class="svelte-nokxp9"><td class="svelte-nokxp9"><!></td><td class="svelte-nokxp9"><a class="movie-title svelte-nokxp9"> </a> <!></td><td class="svelte-nokxp9"> </td><td class="svelte-nokxp9"><div class="ratings svelte-nokxp9"><!> <!></div></td><td class="svelte-nokxp9"><div class="torrents svelte-nokxp9"><!> <button class="btn-add-torrent svelte-nokxp9" title="Add Torrent"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><line x1="12" y1="5" x2="12" y2="19" class="svelte-nokxp9"></line><line x1="5" y1="12" x2="19" y2="12" class="svelte-nokxp9"></line></svg></button></div></td><td class="svelte-nokxp9"><div class="actions svelte-nokxp9"><button class="btn btn-sm btn-secondary svelte-nokxp9">EDIT</button> <button class="btn btn-sm btn-danger svelte-nokxp9">DELETE</button></div></td></tr>'),Iu=u('<!> <div class="card svelte-nokxp9"><table class="data-table svelte-nokxp9"><thead class="svelte-nokxp9"><tr class="svelte-nokxp9"><th class="svelte-nokxp9">Poster</th><th class="svelte-nokxp9">Title</th><th class="svelte-nokxp9">Year</th><th class="svelte-nokxp9">Ratings</th><th class="svelte-nokxp9">Torrents</th><th style="text-align: right;" class="svelte-nokxp9">Actions</th></tr></thead><tbody class="svelte-nokxp9"></tbody></table></div> <!>',1),Pu=u('<p class="form-error svelte-nokxp9"> </p>'),ju=u('<img alt="" class="suggestion-poster svelte-nokxp9"/>'),Lu=u('<div class="suggestion-poster suggestion-poster-empty svelte-nokxp9"></div>'),Ru=u('<span class="library-badge svelte-nokxp9">IN LIBRARY</span>'),Fu=u('<button type="button"><!> <div class="suggestion-info svelte-nokxp9"><span class="suggestion-title svelte-nokxp9"> <!></span> <span class="suggestion-year svelte-nokxp9"> </span></div></button>'),Bu=u('<div class="suggestions-dropdown svelte-nokxp9"></div>'),Ou=u('<div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="release_date">Release Date</label> <input type="date" id="release_date" class="form-input svelte-nokxp9"/></div>'),Nu=u('<form class="svelte-nokxp9"><div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="imdb_code">IMDB Code</label> <div class="input-with-button svelte-nokxp9"><input type="text" id="imdb_code" class="form-input svelte-nokxp9" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary svelte-nokxp9"> </button></div> <!></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="title">Title *</label> <div class="autocomplete-wrapper svelte-nokxp9"><input type="text" id="title" class="form-input svelte-nokxp9" autocomplete="off" required/> <!></div></div></div> <div class="form-row form-row-4 svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="year">Year</label> <input type="number" id="year" class="form-input svelte-nokxp9"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="rating">Rating</label> <input type="number" id="rating" class="form-input svelte-nokxp9" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="runtime">Runtime (min)</label> <input type="number" id="runtime" class="form-input svelte-nokxp9" min="0"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="language">Language</label> <select id="language" class="form-input svelte-nokxp9"><option class="svelte-nokxp9">English</option><option class="svelte-nokxp9">Spanish</option><option class="svelte-nokxp9">French</option><option class="svelte-nokxp9">German</option><option class="svelte-nokxp9">Italian</option><option class="svelte-nokxp9">Japanese</option><option class="svelte-nokxp9">Korean</option><option class="svelte-nokxp9">Chinese</option><option class="svelte-nokxp9">Hindi</option><option class="svelte-nokxp9">Other</option></select></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="genres">Genres</label> <input type="text" id="genres" class="form-input svelte-nokxp9" placeholder="Action, Drama, Thriller"/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="cover">Cover Image URL</label> <input type="text" id="cover" class="form-input svelte-nokxp9" placeholder="https://..."/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="background">Background Image URL</label> <input type="text" id="background" class="form-input svelte-nokxp9" placeholder="https://..."/></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="yt_trailer">YouTube Trailer Code</label> <input type="text" id="yt_trailer" class="form-input svelte-nokxp9" placeholder="dQw4w9WgXcQ"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="franchise">Franchise</label> <input type="text" id="franchise" class="form-input svelte-nokxp9" placeholder="e.g., Lord of the Rings, Star Wars"/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label checkbox-label svelte-nokxp9"><input type="checkbox" class="svelte-nokxp9"/> Coming Soon</label> <p class="form-hint svelte-nokxp9">Mark as upcoming release (no torrents yet)</p></div> <!></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="summary">Summary</label> <textarea id="summary" class="form-input form-textarea svelte-nokxp9" rows="3"></textarea></div></form>'),Uu=u('<button class="btn btn-secondary svelte-nokxp9">Cancel</button> <button class="btn btn-primary svelte-nokxp9">Add Movie</button>',1),Vu=u('<p class="form-error svelte-nokxp9"> </p>'),Gu=u('<div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_release_date">Release Date</label> <input type="date" id="edit_release_date" class="form-input svelte-nokxp9"/></div>'),Hu=u('<form class="svelte-nokxp9"><div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_imdb_code">IMDB Code</label> <div class="input-with-button svelte-nokxp9"><input type="text" id="edit_imdb_code" class="form-input svelte-nokxp9" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary svelte-nokxp9"> </button></div> <!></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_title">Title *</label> <input type="text" id="edit_title" class="form-input svelte-nokxp9" required/></div></div> <div class="form-row form-row-4 svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_year">Year</label> <input type="number" id="edit_year" class="form-input svelte-nokxp9"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_rating">Rating</label> <input type="number" id="edit_rating" class="form-input svelte-nokxp9" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_runtime">Runtime (min)</label> <input type="number" id="edit_runtime" class="form-input svelte-nokxp9" min="0"/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_language">Language</label> <select id="edit_language" class="form-input svelte-nokxp9"><option class="svelte-nokxp9">English</option><option class="svelte-nokxp9">Spanish</option><option class="svelte-nokxp9">French</option><option class="svelte-nokxp9">German</option><option class="svelte-nokxp9">Other</option></select></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_genres">Genres</label> <input type="text" id="edit_genres" class="form-input svelte-nokxp9" placeholder="Action, Drama"/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_cover">Cover Image URL</label> <input type="text" id="edit_cover" class="form-input svelte-nokxp9" placeholder="https://..."/></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_background">Background Image URL</label> <input type="text" id="edit_background" class="form-input svelte-nokxp9" placeholder="https://..."/></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_franchise">Franchise</label> <input type="text" id="edit_franchise" class="form-input svelte-nokxp9" placeholder="e.g., Lord of the Rings, Star Wars"/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label checkbox-label svelte-nokxp9"><input type="checkbox" class="svelte-nokxp9"/> Coming Soon</label> <p class="form-hint svelte-nokxp9">Mark as upcoming release</p></div> <!></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="edit_summary">Summary</label> <textarea id="edit_summary" class="form-input form-textarea svelte-nokxp9" rows="3"></textarea></div></form>'),Yu=u('<button class="btn btn-secondary svelte-nokxp9">Cancel</button> <button class="btn btn-primary svelte-nokxp9">Save Changes</button>',1),Wu=u('<p class="delete-warning svelte-nokxp9">Are you sure you want to delete <strong class="svelte-nokxp9"> </strong>?</p> <p class="text-muted svelte-nokxp9">This action cannot be undone. All associated torrents will also be removed.</p>',1),Ku=u('<button class="btn btn-secondary svelte-nokxp9">Cancel</button> <button class="btn btn-danger svelte-nokxp9">Delete</button>',1),Xu=u('<button type="button" class="btn btn-sm btn-secondary svelte-nokxp9"> </button>'),Ju=u('<div class="loading-inline svelte-nokxp9"><div class="spinner-small svelte-nokxp9"></div> <span class="svelte-nokxp9">Searching YTS...</span></div>'),Qu=u('<label><input type="checkbox" class="svelte-nokxp9"/> <span> </span> <span class="torrent-type svelte-nokxp9"> </span> <span class="torrent-size svelte-nokxp9"> </span> <span class="torrent-seeds svelte-nokxp9"> </span></label>'),Zu=u('<button type="button" class="btn btn-primary mt-3 svelte-nokxp9"> </button>'),ep=u('<div class="yts-torrents svelte-nokxp9"></div> <!>',1),tp=u('<p class="text-muted svelte-nokxp9"> </p>'),ap=u('<div class="yts-section svelte-nokxp9"><div class="section-header svelte-nokxp9"><h4 class="section-title svelte-nokxp9">Available on YTS</h4> <!></div> <!></div> <div class="divider svelte-nokxp9">or enter manually</div>',1),sp=u('<p class="modal-subtitle svelte-nokxp9">Adding torrent to: <strong class="svelte-nokxp9"> </strong></p> <!> <form class="svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="torrent_hash">Torrent Hash / Magnet Link *</label> <input type="text" id="torrent_hash" class="form-input svelte-nokxp9" placeholder="Magnet link or info hash" required/></div> <div class="form-row svelte-nokxp9"><div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="torrent_quality">Quality</label> <select id="torrent_quality" class="form-input svelte-nokxp9"><option class="svelte-nokxp9">720p</option><option class="svelte-nokxp9">1080p</option><option class="svelte-nokxp9">2160p (4K)</option><option class="svelte-nokxp9">480p</option></select></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="torrent_type">Type</label> <select id="torrent_type" class="form-input svelte-nokxp9"><option class="svelte-nokxp9">Web</option><option class="svelte-nokxp9">BluRay</option><option class="svelte-nokxp9">HDTV</option><option class="svelte-nokxp9">WebRip</option></select></div></div> <div class="form-group svelte-nokxp9"><label class="form-label svelte-nokxp9" for="torrent_size">Size</label> <input type="text" id="torrent_size" class="form-input svelte-nokxp9" placeholder="1.5 GB"/></div></form>',1),rp=u('<button class="btn btn-secondary svelte-nokxp9">Cancel</button> <button class="btn btn-primary svelte-nokxp9">Add Torrent</button>',1),np=u('<div class="movies-page svelte-nokxp9"><header class="page-header svelte-nokxp9"><h1 class="page-title svelte-nokxp9">MOVIES</h1> <div class="page-actions svelte-nokxp9"><div class="search-box svelte-nokxp9"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-nokxp9"><circle cx="11" cy="11" r="8" class="svelte-nokxp9"></circle><path d="m21 21-4.35-4.35" class="svelte-nokxp9"></path></svg> <input type="text" placeholder="Search movies..." class="svelte-nokxp9"/></div> <button class="btn btn-primary svelte-nokxp9">ADD</button></div></header> <!></div> <!> <!> <!> <!>',1);function zo(t,i){if(new.target)return La({component:zo,...t});Aa(i,!1);const l=Z(),s=Z(),c=Z(),d=h=>{var E=Su(),R=r(E),F=r(R),G=r(F);a(F);var C=n(F,2),T=n(r(C),2);b(()=>{e(I),rs(()=>{})}),lt(T,5,()=>L,it,(te,ae)=>{var J=xu(),le=r(J,!0);a(J);var B={};b(()=>{f(le,e(ae)),B!==(B=e(ae))&&(J.value=(J.__value=e(ae))??"")}),v(te,J)}),a(T),a(C),a(R);var H=n(R,2);{var W=te=>{var ae=wu(),J=r(ae),le=n(J,2),B=n(le,2);lt(B,1,()=>p(at),it,(ie,O)=>{var Q=ku();let fe;var xe=r(Q,!0);a(Q),b(()=>{fe=rt(Q,1,"pagination-btn svelte-nokxp9",null,fe,{active:e(O)===e($)}),f(xe,e(O))}),Y("click",Q,()=>De(e(O))),v(ie,Q)});var pe=n(B,2),Ae=n(pe,2);a(ae),b(()=>{J.disabled=e($)===1,le.disabled=e($)===1,pe.disabled=e($)===e(l),Ae.disabled=e($)===e(l)}),Y("click",J,()=>De(1)),Y("click",le,()=>De(e($)-1)),Y("click",pe,()=>De(e($)+1)),Y("click",Ae,()=>De(e(l))),v(te,ae)};y(H,te=>{e(l)>1&&te(W)})}a(E),b(te=>f(G,`Showing ${e(s)??""}-${e(c)??""} of ${te??""}`),[()=>(e(m),p(()=>e(m).toLocaleString()))]),ga(T,()=>e(I),te=>o(I,te)),Y("change",T,()=>pt(e(I))),v(h,E)};let _=Z([]),m=Z(0),k=Z(!0),w=Z(""),$=Z(1),I=Z(20);const L=[10,20,50,100];let V=Z(!1),A=Z(!1),ee=Z(!1),S=Z(!1),g=Z(null),x=Z({imdb_code:"",title:"",year:new Date().getFullYear(),rating:0,runtime:0,genres:"",language:"en",summary:"",yt_trailer_code:"",medium_cover_image:"",background_image:"",status:"available",release_date:"",franchise:""}),j=Z({hash:"",quality:"1080p",type:"web",size:""}),ce=Z([]),ve=Z(new Set),he=Z(!1),z=Z(""),ne=Z(!1);Ms(async()=>{await Se()});async function Se(){o(k,!0);try{const h=await Vc({page:e($),limit:e(I),search:e(w)||void 0});o(_,h.movies),o(m,h.total)}catch(h){console.error("Failed to load movies:",h)}finally{o(k,!1)}}function P(){o($,1),Se()}function De(h){h>=1&&h<=e(l)&&(o($,h),Se())}function pt(h){o(I,h),o($,1),Se()}function at(){const h=[];let R=Math.max(1,e($)-Math.floor(2.5)),F=Math.min(e(l),R+5-1);F-R+1<5&&(R=Math.max(1,F-5+1));for(let G=R;G<=F;G++)h.push(G);return h}function bt(){o(x,{imdb_code:"",title:"",year:new Date().getFullYear(),rating:0,runtime:0,genres:"",language:"en",summary:"",yt_trailer_code:"",medium_cover_image:"",background_image:"",status:"available",release_date:"",franchise:""}),o(V,!0)}function Be(h){o(g,h),o(x,{imdb_code:h.imdb_code||"",title:h.title,year:h.year,rating:h.rating||0,runtime:h.runtime||0,genres:h.genres?.join(", ")||"",language:h.language||"en",summary:h.summary||"",yt_trailer_code:h.yt_trailer_code||"",medium_cover_image:h.medium_cover_image||"",background_image:h.background_image||"",status:h.status||"available",release_date:h.release_date||"",franchise:h.franchise||""}),o(A,!0)}function st(h){o(g,h),o(ee,!0)}async function Dt(h){if(o(g,h),o(j,{hash:"",quality:"1080p",type:"web",size:""}),o(ce,[]),o(ve,new Set),o(z,""),o(S,!0),h.imdb_code){o(he,!0);try{const E=await fetch(`/admin/api/yts/search?imdb=${encodeURIComponent(h.imdb_code)}`);if(E.ok){const R=await E.json();if(R.status==="error")o(z,"YTS unavailable - enter torrent manually");else{const F=R.data?.movies?.[0];F?.torrents?o(ce,F.torrents.map(G=>({hash:G.hash,quality:G.quality,type:G.type||"web",size:G.size,seeds:G.seeds||0,peers:G.peers||0}))):o(z,"No torrents found on YTS for this movie")}}}catch(E){console.error("Failed to search YTS:",E),o(z,"YTS unavailable - enter torrent manually")}o(he,!1)}}function Lt(h){e(ve).has(h)?e(ve).delete(h):e(ve).add(h),o(ve,e(ve))}function St(){e(ve).size===e(ce).length?o(ve,new Set):o(ve,new Set(e(ce).map(h=>h.hash)))}async function ft(){if(!(!e(g)||e(ve).size===0)){o(ne,!0);try{const h=e(ce).filter(E=>e(ve).has(E.hash));for(const E of h)await fetch(`/admin/movies/${e(g).id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:E.hash,quality:E.quality,type:E.type,size:E.size})});o(S,!1),Se()}catch(h){console.error("Failed to add torrents:",h)}finally{o(ne,!1)}}}async function Et(){try{(await fetch("/admin/movies",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({imdb_code:e(x).imdb_code,title:e(x).title,year:String(e(x).year),rating:String(e(x).rating),runtime:String(e(x).runtime),genres:e(x).genres,language:e(x).language,summary:e(x).summary,yt_trailer_code:e(x).yt_trailer_code,medium_cover_image:e(x).medium_cover_image,background_image:e(x).background_image,status:e(x).status,release_date:e(x).release_date,franchise:e(x).franchise})})).ok&&(o(V,!1),Se())}catch(h){console.error("Failed to add movie:",h)}}async function pa(){if(e(g))try{await hi(e(g).id,{imdb_code:e(x).imdb_code,title:e(x).title,year:e(x).year,rating:e(x).rating,runtime:e(x).runtime,genres:e(x).genres,language:e(x).language,summary:e(x).summary,yt_trailer_code:e(x).yt_trailer_code,medium_cover_image:e(x).medium_cover_image,background_image:e(x).background_image,status:e(x).status,release_date:e(x).release_date,franchise:e(x).franchise}),o(A,!1),Se()}catch(h){console.error("Failed to update movie:",h)}}async function Qt(){if(e(g))try{await ho(e(g).id),o(ee,!1),Se()}catch(h){console.error("Failed to delete movie:",h)}}let xt=Z(!1),kt=Z(null),Mt=Z([]),Je=Z(!1),wt;async function K(h){if(h.length<2){o(Mt,[]);return}clearTimeout(wt),wt=setTimeout(async()=>{try{const[E,R]=await Promise.all([fetch(`/api/v2/list_movies.json?query_term=${encodeURIComponent(h)}&limit=5`),fetch(`/admin/api/imdb/search?query=${encodeURIComponent(h)}`)]),F=[];if(E.ok){const C=(await E.json()).data?.movies||[];for(const T of C)F.push({id:T.imdb_code||`local-${T.id}`,title:T.title,year:String(T.year),poster:T.medium_cover_image||"",inLibrary:!0,movieId:T.id})}if(R.ok){const G=await R.json(),C=new Set(F.map(T=>T.id));for(const T of(G.titles||[]).slice(0,8))C.has(T.id)||F.push({id:T.id,title:T.primaryTitle,year:T.startYear?String(T.startYear):"",poster:T.primaryImage?.url||"",inLibrary:!1})}o(Mt,F.slice(0,10)),o(Je,e(Mt).length>0)}catch(E){console.error("Search failed:",E)}},300)}async function Oe(h){if(o(Je,!1),o(Mt,[]),h.inLibrary&&h.movieId)try{const E=await mo(h.movieId);if(E){o(V,!1),o(g,E),o(x,{imdb_code:E.imdb_code||"",title:E.title,year:E.year,rating:E.rating||0,runtime:0,genres:E.genres?.join(", ")||"",language:"en",summary:E.summary||"",yt_trailer_code:"",medium_cover_image:E.medium_cover_image||"",background_image:""}),o(A,!0);return}}catch(E){console.error("Failed to load movie:",E)}if(h.id.startsWith("tt"))try{const E=await Gc(h.id);if(E.exists&&E.movie){o(V,!1),o(g,E.movie),o(x,{imdb_code:E.movie.imdb_code||"",title:E.movie.title,year:E.movie.year,rating:E.movie.rating||0,runtime:0,genres:E.movie.genres?.join(", ")||"",language:"en",summary:E.movie.summary||"",yt_trailer_code:"",medium_cover_image:E.movie.medium_cover_image||"",background_image:""}),o(A,!0);return}}catch(E){console.error("Failed to check existing movie:",E)}se(x,e(x).imdb_code=h.id),se(x,e(x).title=h.title),se(x,e(x).year=parseInt(h.year)||new Date().getFullYear()),He()}async function He(){if(e(x).imdb_code){o(xt,!0),o(kt,null);try{const h=await fetch(`/admin/api/imdb/title/${e(x).imdb_code}`);if(h.ok){const E=await h.json();console.log("IMDB data:",E);const R=(E.type||E.titleType||"").toLowerCase();if(R.includes("series")||R.includes("tv")){o(kt,`"${E.primaryTitle||E.title}" is a TV Series. Add it in the Series section instead.`),o(xt,!1);return}o(kt,null),se(x,e(x).title=E.primaryTitle||e(x).title),se(x,e(x).year=E.startYear||e(x).year),se(x,e(x).rating=E.rating?.aggregateRating||e(x).rating),se(x,e(x).runtime=E.runtimeSeconds?Math.round(E.runtimeSeconds/60):e(x).runtime),se(x,e(x).genres=E.genres?.join(", ")||e(x).genres),se(x,e(x).summary=E.plot||e(x).summary);const F=E.primaryImage?.url||"";se(x,e(x).medium_cover_image=F),se(x,e(x).language="en")}}catch(h){console.error("Failed to fetch from IMDB:",h),o(kt,"Failed to fetch from IMDB")}finally{o(xt,!1)}}}async function et(){if(e(g))try{(await fetch(`/admin/movies/${e(g).id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:e(j).hash,quality:e(j).quality,type:e(j).type,size:e(j).size})})).ok&&(o(S,!1),Se())}catch(h){console.error("Failed to add torrent:",h)}}Cr(()=>(e(m),e(I)),()=>{o(l,Math.ceil(e(m)/e(I)))}),Cr(()=>(e(m),e($),e(I)),()=>{o(s,e(m)>0?(e($)-1)*e(I)+1:0)}),Cr(()=>(e($),e(I),e(m)),()=>{o(c,Math.min(e($)*e(I),e(m)))}),Jn();var Nt={$set:Fa,$on:(h,E)=>Ra(i,h,E)};Ns();var Pt=np(),re=ge(Pt),Ie=r(re),Ve=n(r(Ie),2),Qe=r(Ve),D=n(r(Qe),2);we(D),a(Qe);var ue=n(Qe,2);a(Ve),a(Ie);var oe=n(Ie,2);{var Te=h=>{var E=$u();v(h,E)},Me=h=>{var E=Tt(),R=ge(E);{var F=C=>{var T=Cu();v(C,T)},G=C=>{var T=Iu(),H=ge(T);d(H);var W=n(H,2),te=r(W),ae=n(r(te));lt(ae,5,()=>e(_),it,(le,B)=>{var pe=Du(),Ae=r(pe),ie=r(Ae);{var O=dt=>{var Ne=zu();b(()=>{vt(Ne,"src",(e(B),p(()=>e(B).medium_cover_image))),vt(Ne,"alt",(e(B),p(()=>e(B).title)))}),v(dt,Ne)},Q=dt=>{var Ne=Tu();v(dt,Ne)};y(ie,dt=>{e(B),p(()=>e(B).medium_cover_image)?dt(O):dt(Q,!1)})}a(Ae);var fe=n(Ae),xe=r(fe),ye=r(xe,!0);a(xe),Lr(xe,dt=>Rr?.(dt));var je=n(xe,2);{var Pe=dt=>{var Ne=Eu();v(dt,Ne)};y(je,dt=>{e(B),p(()=>e(B).status==="coming_soon")&&dt(Pe)})}a(fe);var ke=n(fe),_e=r(ke,!0);a(ke);var Ee=n(ke),ze=r(Ee),de=r(ze);{var Ue=dt=>{var Ne=Mu(),Ut=n(r(Ne),2),_a=r(Ut);a(Ut),a(Ne),b(()=>f(_a,`${e(B),p(()=>e(B).imdb_rating)??""}/10`)),v(dt,Ne)};y(de,dt=>{e(B),p(()=>e(B).imdb_rating)&&dt(Ue)})}var ot=n(de,2);{var Re=dt=>{var Ne=Au(),Ut=r(Ne),_a=r(Ut);a(Ut),a(Ne),b(()=>f(_a,`${e(B),p(()=>e(B).rotten_tomatoes)??""}%`)),v(dt,Ne)};y(ot,dt=>{e(B),p(()=>e(B).rotten_tomatoes)&&dt(Re)})}a(ze),a(Ee);var Le=n(Ee),Ke=r(Le),_t=r(Ke);lt(_t,1,()=>(e(B),p(()=>e(B).torrents||[])),it,(dt,Ne)=>{var Ut=qu(),_a=r(Ut,!0);a(Ut),b(()=>{rt(Ut,1,`badge badge-quality badge-${e(Ne),p(()=>e(Ne).quality)??""}`,"svelte-nokxp9"),f(_a,(e(Ne),p(()=>e(Ne).quality)))}),v(dt,Ut)});var mt=n(_t,2);a(Ke),a(Le);var At=n(Le),ht=r(At),Gt=r(ht),fa=n(Gt,2);a(ht),a(At),a(pe),b(()=>{vt(xe,"href",`/movies/${e(B),p(()=>e(B).id)??""}`),f(ye,(e(B),p(()=>e(B).title))),f(_e,(e(B),p(()=>e(B).year)))}),Y("click",mt,()=>Dt(e(B))),Y("click",Gt,()=>Be(e(B))),Y("click",fa,()=>st(e(B))),v(le,pe)}),a(ae),a(te),a(W);var J=n(W,2);d(J),v(C,T)};y(R,C=>{e(_),p(()=>e(_).length===0)?C(F):C(G,!1)},!0)}v(h,E)};y(oe,h=>{e(k)?h(Te):h(Me,!1)})}a(re);var q=n(re,2);za(q,{title:"Add Movie",size:"lg",get open(){return e(V)},set open(h){o(V,h)},$$events:{close:()=>o(V,!1)},children:(h,E)=>{var R=Nu(),F=r(R),G=r(F),C=n(r(G),2),T=r(C);we(T);var H=n(T,2),W=r(H,!0);a(H),a(C);var te=n(C,2);{var ae=ct=>{var Da=Pu(),Ba=r(Da,!0);a(Da),b(()=>f(Ba,e(kt))),v(ct,Da)};y(te,ct=>{e(kt)&&ct(ae)})}a(G);var J=n(G,2),le=n(r(J),2),B=r(le);we(B);var pe=n(B,2);{var Ae=ct=>{var Da=Bu();lt(Da,5,()=>e(Mt),it,(Ba,ba)=>{var Ha=Fu();let qs;var hs=r(Ha);{var fr=Bt=>{var ta=ju();b(()=>vt(ta,"src",(e(ba),p(()=>e(ba).poster)))),v(Bt,ta)},_r=Bt=>{var ta=Lu();v(Bt,ta)};y(hs,Bt=>{e(ba),p(()=>e(ba).poster)?Bt(fr):Bt(_r,!1)})}var Qs=n(hs,2),Ye=r(Qs),Xe=r(Ye),gt=n(Xe);{var Ct=Bt=>{var ta=Ru();v(Bt,ta)};y(gt,Bt=>{e(ba),p(()=>e(ba).inLibrary)&&Bt(Ct)})}a(Ye);var ea=n(Ye,2),Kt=r(ea);a(ea),a(Qs),a(Ha),b(()=>{qs=rt(Ha,1,"suggestion-item svelte-nokxp9",null,qs,{"in-library":e(ba).inLibrary}),f(Xe,`${e(ba),p(()=>e(ba).title)??""} `),f(Kt,`${e(ba),p(()=>e(ba).year)??""} ${e(ba),p(()=>e(ba).inLibrary?"â¢ Click to edit":"")??""}`)}),Y("mousedown",Ha,()=>Oe(e(ba))),v(Ba,Ha)}),a(Da),v(ct,Da)};y(pe,ct=>{e(Je),e(Mt),p(()=>e(Je)&&e(Mt).length>0)&&ct(Ae)})}a(le),a(J),a(F);var ie=n(F,2),O=r(ie),Q=n(r(O),2);we(Q),a(O);var fe=n(O,2),xe=n(r(fe),2);we(xe),a(fe);var ye=n(fe,2),je=n(r(ye),2);we(je),a(ye);var Pe=n(ye,2),ke=n(r(Pe),2);b(()=>{e(x),rs(()=>{})});var _e=r(ke);_e.value=_e.__value="en";var Ee=n(_e);Ee.value=Ee.__value="es";var ze=n(Ee);ze.value=ze.__value="fr";var de=n(ze);de.value=de.__value="de";var Ue=n(de);Ue.value=Ue.__value="it";var ot=n(Ue);ot.value=ot.__value="ja";var Re=n(ot);Re.value=Re.__value="ko";var Le=n(Re);Le.value=Le.__value="zh";var Ke=n(Le);Ke.value=Ke.__value="hi";var _t=n(Ke);_t.value=_t.__value="other",a(ke),a(Pe),a(ie);var mt=n(ie,2),At=n(r(mt),2);we(At),a(mt);var ht=n(mt,2),Gt=r(ht),fa=n(r(Gt),2);we(fa),a(Gt);var dt=n(Gt,2),Ne=n(r(dt),2);we(Ne),a(dt),a(ht);var Ut=n(ht,2),_a=n(r(Ut),2);we(_a),a(Ut);var We=n(Ut,2),Vt=n(r(We),2);we(Vt),a(We);var $t=n(We,2),Ta=r($t),Ja=r(Ta),Ga=r(Ja);we(Ga),ut(),a(Ja),ut(2),a(Ta);var os=n(Ta,2);{var As=ct=>{var Da=Ou(),Ba=n(r(Da),2);we(Ba),a(Da),Ce(Ba,()=>e(x).release_date,ba=>se(x,e(x).release_date=ba)),v(ct,Da)};y(os,ct=>{e(x),p(()=>e(x).status==="coming_soon")&&ct(As)})}a($t);var Ka=n($t,2),Qa=n(r(Ka),2);Ur(Qa),a(Ka),a(R),b(()=>{H.disabled=(e(xt),e(x),p(()=>e(xt)||!e(x).imdb_code)),f(W,e(xt)?"Fetching...":"Fetch"),Zr(Ga,(e(x),p(()=>e(x).status==="coming_soon")))}),Ce(T,()=>e(x).imdb_code,ct=>se(x,e(x).imdb_code=ct)),Y("click",H,He),Ce(B,()=>e(x).title,ct=>se(x,e(x).title=ct)),Y("input",B,ct=>K(ct.currentTarget.value)),Y("focus",B,()=>o(Je,e(Mt).length>0)),Y("blur",B,()=>setTimeout(()=>o(Je,!1),200)),Ce(Q,()=>e(x).year,ct=>se(x,e(x).year=ct)),Ce(xe,()=>e(x).rating,ct=>se(x,e(x).rating=ct)),Ce(je,()=>e(x).runtime,ct=>se(x,e(x).runtime=ct)),ga(ke,()=>e(x).language,ct=>se(x,e(x).language=ct)),Ce(At,()=>e(x).genres,ct=>se(x,e(x).genres=ct)),Ce(fa,()=>e(x).medium_cover_image,ct=>se(x,e(x).medium_cover_image=ct)),Ce(Ne,()=>e(x).background_image,ct=>se(x,e(x).background_image=ct)),Ce(_a,()=>e(x).yt_trailer_code,ct=>se(x,e(x).yt_trailer_code=ct)),Ce(Vt,()=>e(x).franchise,ct=>se(x,e(x).franchise=ct)),Y("change",Ga,ct=>se(x,e(x).status=ct.currentTarget.checked?"coming_soon":"available")),Ce(Qa,()=>e(x).summary,ct=>se(x,e(x).summary=ct)),Y("submit",R,Bs(Et)),v(h,R)},$$slots:{default:!0,footer:(h,E)=>{var R=Uu(),F=ge(R),G=n(F,2);Y("click",F,()=>o(V,!1)),Y("click",G,Et),v(h,R)}},$$legacy:!0});var be=n(q,2);za(be,{title:"Edit Movie",size:"lg",get open(){return e(A)},set open(h){o(A,h)},$$events:{close:()=>o(A,!1)},children:(h,E)=>{var R=Hu(),F=r(R),G=r(F),C=n(r(G),2),T=r(C);we(T);var H=n(T,2),W=r(H,!0);a(H),a(C);var te=n(C,2);{var ae=We=>{var Vt=Vu(),$t=r(Vt,!0);a(Vt),b(()=>f($t,e(kt))),v(We,Vt)};y(te,We=>{e(kt)&&We(ae)})}a(G);var J=n(G,2),le=n(r(J),2);we(le),a(J),a(F);var B=n(F,2),pe=r(B),Ae=n(r(pe),2);we(Ae),a(pe);var ie=n(pe,2),O=n(r(ie),2);we(O),a(ie);var Q=n(ie,2),fe=n(r(Q),2);we(fe),a(Q);var xe=n(Q,2),ye=n(r(xe),2);b(()=>{e(x),rs(()=>{})});var je=r(ye);je.value=je.__value="en";var Pe=n(je);Pe.value=Pe.__value="es";var ke=n(Pe);ke.value=ke.__value="fr";var _e=n(ke);_e.value=_e.__value="de";var Ee=n(_e);Ee.value=Ee.__value="other",a(ye),a(xe),a(B);var ze=n(B,2),de=n(r(ze),2);we(de),a(ze);var Ue=n(ze,2),ot=r(Ue),Re=n(r(ot),2);we(Re),a(ot);var Le=n(ot,2),Ke=n(r(Le),2);we(Ke),a(Le),a(Ue);var _t=n(Ue,2),mt=n(r(_t),2);we(mt),a(_t);var At=n(_t,2),ht=r(At),Gt=r(ht),fa=r(Gt);we(fa),ut(),a(Gt),ut(2),a(ht);var dt=n(ht,2);{var Ne=We=>{var Vt=Gu(),$t=n(r(Vt),2);we($t),a(Vt),Ce($t,()=>e(x).release_date,Ta=>se(x,e(x).release_date=Ta)),v(We,Vt)};y(dt,We=>{e(x),p(()=>e(x).status==="coming_soon")&&We(Ne)})}a(At);var Ut=n(At,2),_a=n(r(Ut),2);Ur(_a),a(Ut),a(R),b(()=>{H.disabled=(e(xt),e(x),p(()=>e(xt)||!e(x).imdb_code)),f(W,e(xt)?"Updating...":"Update"),Zr(fa,(e(x),p(()=>e(x).status==="coming_soon")))}),Ce(T,()=>e(x).imdb_code,We=>se(x,e(x).imdb_code=We)),Y("click",H,He),Ce(le,()=>e(x).title,We=>se(x,e(x).title=We)),Ce(Ae,()=>e(x).year,We=>se(x,e(x).year=We)),Ce(O,()=>e(x).rating,We=>se(x,e(x).rating=We)),Ce(fe,()=>e(x).runtime,We=>se(x,e(x).runtime=We)),ga(ye,()=>e(x).language,We=>se(x,e(x).language=We)),Ce(de,()=>e(x).genres,We=>se(x,e(x).genres=We)),Ce(Re,()=>e(x).medium_cover_image,We=>se(x,e(x).medium_cover_image=We)),Ce(Ke,()=>e(x).background_image,We=>se(x,e(x).background_image=We)),Ce(mt,()=>e(x).franchise,We=>se(x,e(x).franchise=We)),Y("change",fa,We=>se(x,e(x).status=We.currentTarget.checked?"coming_soon":"available")),Ce(_a,()=>e(x).summary,We=>se(x,e(x).summary=We)),Y("submit",R,Bs(pa)),v(h,R)},$$slots:{default:!0,footer:(h,E)=>{var R=Yu(),F=ge(R),G=n(F,2);Y("click",F,()=>o(A,!1)),Y("click",G,pa),v(h,R)}},$$legacy:!0});var M=n(be,2);za(M,{title:"Delete Movie",size:"sm",get open(){return e(ee)},set open(h){o(ee,h)},$$events:{close:()=>o(ee,!1)},children:(h,E)=>{var R=Wu(),F=ge(R),G=n(r(F)),C=r(G,!0);a(G),ut(),a(F),ut(2),b(()=>f(C,(e(g),p(()=>e(g)?.title)))),v(h,R)},$$slots:{default:!0,footer:(h,E)=>{var R=Ku(),F=ge(R),G=n(F,2);Y("click",F,()=>o(ee,!1)),Y("click",G,Qt),v(h,R)}},$$legacy:!0});var X=n(M,2);return za(X,{title:"Add Torrent",size:"lg",get open(){return e(S)},set open(h){o(S,h)},$$events:{close:()=>o(S,!1)},children:(h,E)=>{var R=sp(),F=ge(R),G=n(r(F)),C=r(G,!0);a(G),a(F);var T=n(F,2);{var H=Ee=>{var ze=ap(),de=ge(ze),Ue=r(de),ot=n(r(Ue),2);{var Re=mt=>{var At=Xu(),ht=r(At,!0);a(At),b(()=>f(ht,(e(ve),e(ce),p(()=>e(ve).size===e(ce).length?"Deselect All":"Select All")))),Y("click",At,St),v(mt,At)};y(ot,mt=>{e(ce),p(()=>e(ce).length>1)&&mt(Re)})}a(Ue);var Le=n(Ue,2);{var Ke=mt=>{var At=Ju();v(mt,At)},_t=mt=>{var At=Tt(),ht=ge(At);{var Gt=dt=>{var Ne=ep(),Ut=ge(Ne);lt(Ut,5,()=>e(ce),it,(Vt,$t)=>{var Ta=Qu();let Ja;var Ga=r(Ta);we(Ga);var os=n(Ga,2),As=r(os,!0);a(os);var Ka=n(os,2),Qa=r(Ka,!0);a(Ka);var ct=n(Ka,2),Da=r(ct,!0);a(ct);var Ba=n(ct,2),ba=r(Ba);a(Ba),a(Ta),b((Ha,qs)=>{Ja=rt(Ta,1,"yts-torrent-item svelte-nokxp9",null,Ja,Ha),Zr(Ga,qs),rt(os,1,`torrent-quality-badge badge-${e($t),p(()=>e($t).quality)??""}`,"svelte-nokxp9"),f(As,(e($t),p(()=>e($t).quality))),f(Qa,(e($t),p(()=>e($t).type))),f(Da,(e($t),p(()=>e($t).size))),f(ba,`ð± ${e($t),p(()=>e($t).seeds)??""}`)},[()=>({selected:e(ve).has(e($t).hash)}),()=>(e(ve),e($t),p(()=>e(ve).has(e($t).hash)))]),Y("change",Ga,()=>Lt(e($t).hash)),v(Vt,Ta)}),a(Ut);var _a=n(Ut,2);{var We=Vt=>{var $t=Zu(),Ta=r($t,!0);a($t),b(()=>{$t.disabled=e(ne),f(Ta,(e(ne),e(ve),p(()=>e(ne)?"Adding...":`Add ${e(ve).size} Torrent${e(ve).size>1?"s":""}`)))}),Y("click",$t,ft),v(Vt,$t)};y(_a,Vt=>{e(ve),p(()=>e(ve).size>0)&&Vt(We)})}v(dt,Ne)},fa=dt=>{var Ne=Tt(),Ut=ge(Ne);{var _a=We=>{var Vt=tp(),$t=r(Vt,!0);a(Vt),b(()=>f($t,e(z))),v(We,Vt)};y(Ut,We=>{e(z)&&We(_a)},!0)}v(dt,Ne)};y(ht,dt=>{e(ce),p(()=>e(ce).length>0)?dt(Gt):dt(fa,!1)},!0)}v(mt,At)};y(Le,mt=>{e(he)?mt(Ke):mt(_t,!1)})}a(de),ut(2),v(Ee,ze)};y(T,Ee=>{e(g),p(()=>e(g)?.imdb_code)&&Ee(H)})}var W=n(T,2),te=r(W),ae=n(r(te),2);we(ae),a(te);var J=n(te,2),le=r(J),B=n(r(le),2);b(()=>{e(j),rs(()=>{})});var pe=r(B);pe.value=pe.__value="720p";var Ae=n(pe);Ae.value=Ae.__value="1080p";var ie=n(Ae);ie.value=ie.__value="2160p";var O=n(ie);O.value=O.__value="480p",a(B),a(le);var Q=n(le,2),fe=n(r(Q),2);b(()=>{e(j),rs(()=>{})});var xe=r(fe);xe.value=xe.__value="web";var ye=n(xe);ye.value=ye.__value="bluray";var je=n(ye);je.value=je.__value="hdtv";var Pe=n(je);Pe.value=Pe.__value="webrip",a(fe),a(Q),a(J);var ke=n(J,2),_e=n(r(ke),2);we(_e),a(ke),a(W),b(()=>f(C,(e(g),p(()=>e(g)?.title)))),Ce(ae,()=>e(j).hash,Ee=>se(j,e(j).hash=Ee)),ga(B,()=>e(j).quality,Ee=>se(j,e(j).quality=Ee)),ga(fe,()=>e(j).type,Ee=>se(j,e(j).type=Ee)),Ce(_e,()=>e(j).size,Ee=>se(j,e(j).size=Ee)),Y("submit",W,Bs(et)),v(h,R)},$$slots:{default:!0,footer:(h,E)=>{var R=rp(),F=ge(R),G=n(F,2);b(()=>G.disabled=(e(j),p(()=>!e(j).hash))),Y("click",F,()=>o(S,!1)),Y("click",G,et),v(h,R)}},$$legacy:!0}),Ce(D,()=>e(w),h=>o(w,h)),Y("keydown",D,h=>h.key==="Enter"&&P()),Y("click",ue,bt),v(t,Pt),qa(Nt)}var ip=u('<div class="loading"><div class="spinner"></div></div>'),lp=u('<img class="poster poster-lg"/>'),op=u('<div class="poster poster-lg poster-placeholder svelte-138sfuz"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg></div>'),vp=u('<span class="movie-runtime svelte-138sfuz"> </span>'),cp=u('<span class="mpa-rating svelte-138sfuz"> </span>'),dp=u('<span class="movie-language svelte-138sfuz"> </span>'),up=u('<a target="_blank" rel="noopener" class="imdb-link svelte-138sfuz"> </a>'),pp=u('<span class="rating-votes svelte-138sfuz"> </span>'),fp=u('<div class="rating-badge rating-imdb svelte-138sfuz"><span class="rating-source svelte-138sfuz">IMDb</span> <span class="rating-score svelte-138sfuz"> </span> <!></div>'),_p=u('<div><span class="rating-source svelte-138sfuz">RT</span> <span class="rating-score svelte-138sfuz"> </span></div>'),mp=u('<div><span class="rating-source svelte-138sfuz">Meta</span> <span class="rating-score svelte-138sfuz"> </span></div>'),hp=u('<span class="genre-tag svelte-138sfuz"> </span>'),gp=u('<div class="movie-genres svelte-138sfuz"></div>'),bp=u('<p class="movie-summary svelte-138sfuz"> </p>'),yp=u('<div class="trailer-link svelte-138sfuz"><a target="_blank" rel="noopener" class="btn btn-sm btn-secondary svelte-138sfuz"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0C.488 3.45.029 5.804 0 12c.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0C23.512 20.55 23.971 18.196 24 12c-.029-6.185-.484-8.549-4.385-8.816zM9 16V8l8 3.993L9 16z"></path></svg> Watch Trailer</a></div>'),xp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">English Title</span> <span class="detail-value svelte-138sfuz"> </span></div>'),kp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Full Title</span> <span class="detail-value svelte-138sfuz"> </span></div>'),wp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Runtime</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Sp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Director</span> <span class="detail-value svelte-138sfuz"> </span></div>'),$p=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Writers</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Cp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Language</span> <span class="detail-value svelte-138sfuz"> </span></div>'),zp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Country</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Tp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Rating</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Ep=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Genres</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Mp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Franchise</span> <span class="detail-value svelte-138sfuz"> </span></div>'),Ap=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Awards</span> <span class="detail-value svelte-138sfuz"> </span></div>'),qp=u('<p class="text-muted">Loading...</p>'),Dp=u('<img class="franchise-poster svelte-138sfuz"/>'),Ip=u('<div class="franchise-poster franchise-placeholder svelte-138sfuz"><span> </span></div>'),Pp=u('<a class="franchise-movie svelte-138sfuz"><!> <div class="franchise-info svelte-138sfuz"><span class="franchise-title svelte-138sfuz"> </span> <span class="franchise-year svelte-138sfuz"> </span></div></a>'),jp=u('<div class="franchise-section svelte-138sfuz"><div class="franchise-grid svelte-138sfuz"></div></div>'),Lp=u('<div class="card franchise-card svelte-138sfuz"><h3 class="svelte-138sfuz"> </h3> <!></div>'),Rp=u('<div class="box-office-item svelte-138sfuz"><span class="box-office-label svelte-138sfuz">Budget</span> <span class="box-office-value svelte-138sfuz"> </span></div>'),Fp=u('<div class="box-office-item svelte-138sfuz"><span class="box-office-label svelte-138sfuz">Worldwide Gross</span> <span class="box-office-value svelte-138sfuz"> </span></div>'),Bp=u('<div class="card box-office-card svelte-138sfuz"><h3 class="svelte-138sfuz">Box Office</h3> <div class="box-office-grid svelte-138sfuz"><!> <!></div></div>'),Op=u('<span class="rating-votes svelte-138sfuz"> </span>'),Np=u('<div class="rating-box rating-imdb svelte-138sfuz"><div class="rating-icon svelte-138sfuz"><svg width="32" height="32" viewBox="0 0 24 24" fill="#f5c518"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg></div> <div class="rating-info svelte-138sfuz"><span class="rating-source svelte-138sfuz">IMDb</span> <span class="rating-value svelte-138sfuz"> <span class="rating-max svelte-138sfuz">/10</span></span> <!></div></div>'),Up=u('<span class="rt-icon fresh svelte-138sfuz">ð</span>'),Vp=u('<span class="rt-icon rotten svelte-138sfuz">ð¤¢</span>'),Gp=u('<div><div class="rating-icon svelte-138sfuz"><!></div> <div class="rating-info svelte-138sfuz"><span class="rating-source svelte-138sfuz">Rotten Tomatoes</span> <span class="rating-value svelte-138sfuz"> <span class="rating-max svelte-138sfuz">%</span></span> <span class="rating-label svelte-138sfuz"> </span></div></div>'),Hp=u('<div><div> </div> <div class="rating-info svelte-138sfuz"><span class="rating-source svelte-138sfuz">Metacritic</span> <span class="rating-label svelte-138sfuz"><!></span></div></div>'),Yp=u('<div class="card ratings-card svelte-138sfuz"><h3 class="svelte-138sfuz">Ratings</h3> <div class="ratings-grid svelte-138sfuz"><!> <!> <!></div></div>'),Wp=u('<div class="stat-item svelte-138sfuz"><span class="stat-value svelte-138sfuz"> </span> <span class="stat-label svelte-138sfuz">Likes</span></div>'),Kp=u('<div class="stat-item svelte-138sfuz"><span class="stat-value svelte-138sfuz"> </span> <span class="stat-label svelte-138sfuz">Downloads</span></div>'),Xp=u('<div class="card stats-card svelte-138sfuz"><h3 class="svelte-138sfuz">Statistics</h3> <div class="stats-grid svelte-138sfuz"><!> <!></div></div>'),Jp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">IMDB Code</span> <span class="detail-value svelte-138sfuz"><a target="_blank" rel="noopener" class="mono link svelte-138sfuz"> </a></span></div>'),Qp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Slug</span> <span class="detail-value mono svelte-138sfuz"> </span></div>'),Zp=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Provider</span> <span class="detail-value svelte-138sfuz"> </span></div>'),ef=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Content Type</span> <span class="detail-value svelte-138sfuz"> </span></div>'),tf=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Date Uploaded</span> <span class="detail-value svelte-138sfuz"> </span></div>'),af=u('<div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">YouTube Trailer</span> <span class="detail-value svelte-138sfuz"><a target="_blank" rel="noopener" class="mono link svelte-138sfuz"> </a></span></div>'),sf=u('<div class="image-item svelte-138sfuz"><span class="image-label svelte-138sfuz">Poster</span> <a target="_blank" rel="noopener"><img alt="Poster" class="preview-image svelte-138sfuz"/></a></div>'),rf=u('<div class="image-item image-wide svelte-138sfuz"><span class="image-label svelte-138sfuz">Background</span> <a target="_blank" rel="noopener"><img alt="Background" class="preview-image preview-wide svelte-138sfuz"/></a></div>'),nf=u('<div class="image-item svelte-138sfuz"><span class="image-label svelte-138sfuz"></span> <a target="_blank" rel="noopener"><img class="preview-image svelte-138sfuz" loading="lazy"/></a></div>'),lf=u('<div class="image-item more-images svelte-138sfuz"><span class="more-count svelte-138sfuz"> </span></div>'),of=u("<!> <!>",1),vf=u('<img class="cast-image svelte-138sfuz"/>'),cf=u('<div class="cast-image cast-placeholder svelte-138sfuz"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="8" r="4"></circle><path d="M20 21a8 8 0 10-16 0"></path></svg></div>'),df=u('<span class="cast-character svelte-138sfuz"> </span>'),uf=u('<div class="cast-item svelte-138sfuz"><!> <div class="cast-info svelte-138sfuz"><span class="cast-name svelte-138sfuz"> </span> <!></div></div>'),pf=u('<div class="card cast-card svelte-138sfuz"><h3 class="svelte-138sfuz">Cast</h3> <div class="cast-grid svelte-138sfuz"></div></div>'),ff=u('<span class="subtitle-count-badge svelte-138sfuz"> </span>'),_f=u('<p class="text-muted sub-loading svelte-138sfuz">Loading subtitles...</p>'),mf=u('<span class="subtitle-source badge badge-source svelte-138sfuz"> </span>'),hf=u('<span class="subtitle-hi badge badge-hi svelte-138sfuz">HI</span>'),gf=u('<div class="subtitle-row svelte-138sfuz"><span class="subtitle-lang badge svelte-138sfuz"> </span> <span class="subtitle-release svelte-138sfuz"> </span> <!> <!> <div class="subtitle-actions svelte-138sfuz"><button class="btn btn-xs btn-secondary svelte-138sfuz">Preview</button> <button class="btn btn-xs btn-danger svelte-138sfuz">Delete</button></div></div>'),bf=u('<p class="text-muted sub-empty svelte-138sfuz">No subtitles synced</p>'),yf=u('<div class="torrent-subtitles svelte-138sfuz"><!></div>'),xf=u('<div class="torrent-section svelte-138sfuz"><div class="torrent-row svelte-138sfuz" role="button" tabindex="0"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg> <span> </span> <span class="torrent-type svelte-138sfuz"> </span> <span class="torrent-size svelte-138sfuz"> </span> <span class="torrent-hash svelte-138sfuz"> </span> <!></div> <!></div>'),kf=u('<p class="text-muted">No torrents yet</p>'),wf=u('<div class="card movie-card svelte-138sfuz"><div class="movie-header svelte-138sfuz"><div class="movie-actions svelte-138sfuz"><button class="btn btn-primary"> </button> <button class="btn btn-secondary">FIND FRANCHISE</button> <button class="btn btn-secondary">EDIT</button> <button class="btn btn-danger">DELETE</button></div></div> <div class="movie-info svelte-138sfuz"><!> <div class="movie-meta svelte-138sfuz"><h2 class="movie-title svelte-138sfuz"> </h2> <div class="movie-details svelte-138sfuz"><span class="movie-year svelte-138sfuz"> </span> <!> <!> <!> <!></div> <div class="ratings-row svelte-138sfuz"><!> <!> <!></div> <!> <!> <!></div></div></div> <div class="card details-card svelte-138sfuz"><h3 class="svelte-138sfuz">Details</h3> <div class="details-grid svelte-138sfuz"><div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Title</span> <span class="detail-value svelte-138sfuz"> </span></div> <!> <!> <div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Year</span> <span class="detail-value svelte-138sfuz"> </span></div> <!> <!> <!> <!> <!> <!> <!> <!> <!></div></div> <!> <!> <!> <!> <div class="card tech-card svelte-138sfuz"><h3 class="svelte-138sfuz">Technical Info</h3> <div class="details-grid svelte-138sfuz"><div class="detail-row svelte-138sfuz"><span class="detail-label svelte-138sfuz">Database ID</span> <span class="detail-value mono svelte-138sfuz"> </span></div> <!> <!> <!> <!> <!> <!></div></div> <div class="card images-card svelte-138sfuz"><h3 class="svelte-138sfuz"> </h3> <div class="images-grid svelte-138sfuz"><!> <!> <!></div></div> <!> <div class="card torrents-card"><div class="torrents-header svelte-138sfuz"><h3 class="svelte-138sfuz">Torrents</h3> <div class="torrents-actions svelte-138sfuz"><button class="btn btn-sm btn-secondary"> </button> <button class="btn btn-sm btn-primary">ADD TORRENT</button></div></div> <!></div>',1),Sf=u('<div class="empty-state svelte-138sfuz"><p class="svelte-138sfuz">Movie not found</p> <a href="/movies" class="btn btn-primary">Back to Movies</a></div>'),$f=u('<div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="release_date">Release Date</label> <input type="date" id="release_date" class="form-input svelte-138sfuz"/></div>'),Cf=u('<form><div class="form-row svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="imdb_code">IMDB Code</label> <div class="input-with-button svelte-138sfuz"><input type="text" id="imdb_code" class="form-input svelte-138sfuz" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary"> </button></div></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="title">Title *</label> <input type="text" id="title" class="form-input svelte-138sfuz" required/></div></div> <div class="form-row form-row-4 svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="year">Year</label> <input type="number" id="year" class="form-input svelte-138sfuz"/></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="rating">Rating</label> <input type="number" id="rating" class="form-input svelte-138sfuz" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="runtime">Runtime (min)</label> <input type="number" id="runtime" class="form-input svelte-138sfuz" min="0"/></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="language">Language</label> <select id="language" class="form-input svelte-138sfuz"><option>English</option><option>Spanish</option><option>French</option><option>German</option><option>Italian</option><option>Albanian</option></select></div></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="genres">Genres</label> <input type="text" id="genres" class="form-input svelte-138sfuz" placeholder="Action, Drama"/></div> <div class="form-row svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="cover">Cover Image URL</label> <input type="text" id="cover" class="form-input svelte-138sfuz" placeholder="https://..."/></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="background">Background Image URL</label> <input type="text" id="background" class="form-input svelte-138sfuz" placeholder="https://..."/></div></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="summary">Summary</label> <textarea id="summary" class="form-input form-textarea svelte-138sfuz" rows="3"></textarea></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="franchise">Franchise</label> <input type="text" id="franchise" class="form-input svelte-138sfuz" placeholder="e.g., Lord of the Rings, Star Wars"/></div> <div class="form-row svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label checkbox-label svelte-138sfuz"><input type="checkbox" class="svelte-138sfuz"/> Coming Soon</label> <p class="form-hint svelte-138sfuz">Mark as upcoming release</p></div> <!></div></form>'),zf=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Save Changes</button>',1),Tf=u('<p class="delete-warning svelte-138sfuz">Are you sure you want to delete <strong> </strong>?</p> <p class="text-muted">This action cannot be undone. All associated torrents will also be removed.</p>',1),Ef=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-danger">Delete</button>',1),Mf=u('<div class="loading-small svelte-138sfuz">Searching IMDB...</div>'),Af=u('<img class="svelte-138sfuz"/>'),qf=u('<div class="no-poster svelte-138sfuz"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="2" width="20" height="20" rx="2"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line></svg></div>'),Df=u('<span class="result-rating svelte-138sfuz"> </span>'),If=u('<div class="franchise-result-item svelte-138sfuz"><!> <div class="result-info svelte-138sfuz"><span class="result-title svelte-138sfuz"> </span> <span class="result-year svelte-138sfuz"> </span> <!></div> <button class="btn btn-sm btn-primary add-btn svelte-138sfuz" title="Add to franchise">+</button></div>'),Pf=u('<div class="franchise-results svelte-138sfuz"><p class="results-label svelte-138sfuz"> </p> <div class="franchise-grid svelte-138sfuz"></div></div>'),jf=u('<p class="text-muted"> </p>'),Lf=u('<div class="franchise-modal svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="franchise_name">Franchise Name</label> <div class="search-row svelte-138sfuz"><input type="text" id="franchise_name" class="form-input svelte-138sfuz" placeholder="e.g., Avengers, Spider-Man, Batman"/></div> <p class="text-muted" style="margin-top: 8px; font-size: 13px;">Search IMDB for movies to add to this franchise</p></div> <!></div>'),Rf=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary"> </button>',1),Ff=u('<form><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="torrent_hash">Torrent Hash / Magnet Link *</label> <input type="text" id="torrent_hash" class="form-input svelte-138sfuz" placeholder="Magnet link or info hash" required/></div> <div class="form-row svelte-138sfuz"><div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="torrent_quality">Quality</label> <select id="torrent_quality" class="form-input svelte-138sfuz"><option>720p</option><option>1080p</option><option>2160p (4K)</option><option>480p</option></select></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="torrent_type">Type</label> <select id="torrent_type" class="form-input svelte-138sfuz"><option>Web</option><option>BluRay</option><option>HDTV</option><option>WebRip</option></select></div></div> <div class="form-group svelte-138sfuz"><label class="form-label svelte-138sfuz" for="torrent_size">Size</label> <input type="text" id="torrent_size" class="form-input svelte-138sfuz" placeholder="1.5 GB"/></div></form>'),Bf=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Add Torrent</button>',1),Of=u('<div class="loading-small svelte-138sfuz">Loading preview...</div>'),Nf=u('<div class="preview-info svelte-138sfuz"><span class="badge"> </span> <span class="preview-release svelte-138sfuz"> </span> <span class="text-muted"> </span></div> <pre class="vtt-preview svelte-138sfuz"> </pre>',1),Uf=u('<p class="text-muted">Failed to load preview</p>'),Vf=u('<button class="btn btn-secondary">Close</button>'),Gf=u('<div class="type-mismatch-info svelte-138sfuz"><p>IMDB reports that <strong> </strong> (<code> </code>) is a <strong class="type-badge svelte-138sfuz"> </strong>, not a movie.</p> <p class="text-muted mt-2 svelte-138sfuz">Would you like to move it to TV Shows instead? This will delete the movie entry and add it as a series.</p></div>'),Hf=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary"> </button>',1),Yf=u('<div class="movie-detail"><header class="page-header"><div class="breadcrumb svelte-138sfuz"><a href="/movies" class="svelte-138sfuz">MOVIES</a> <span class="svelte-138sfuz">/</span> <span class="svelte-138sfuz"> </span></div></header> <!></div> <!> <!> <!> <!> <!> <!>',1);function To(t,i){if(new.target)return La({component:To,...t});Aa(i,!1);let l=ls(i,"params",12),s=Z(null),c=Z(!0),d=Z(!1),_=Z(!1),m=Z([]),k=Z(!1),w=Z([]),$=Z(!1),I=Z(!1),L=Z(null),V=Z(!1),A=Z(null),ee=Z(!1),S=Z(!1),g=Z(!1),x=Z(!1),j=Z(!1),ce=Z(!1),ve=Z(null),he=Z(!1),z=Z(""),ne=Z([]),Se=Z(!1),P=Z({imdb_code:"",title:"",year:0,rating:0,runtime:0,genres:"",language:"en",summary:"",yt_trailer_code:"",medium_cover_image:"",background_image:"",status:"available",release_date:"",franchise:""}),De=Z({hash:"",quality:"1080p",type:"web",size:""});Ms(async()=>{await pt()});async function pt(){o(c,!0);try{o(s,await mo(parseInt(l().id))),e(s)&&(at(),ft())}catch(M){console.error("Failed to load movie:",M)}finally{o(c,!1)}}async function at(){if(e(s)?.franchise){o(k,!0);try{const M=await fetch(`/api/v2/franchise_movies.json?movie_id=${e(s).id}`);if(M.ok){const X=await M.json();o(m,X.data?.movies||[])}}catch(M){console.error("Failed to load franchise movies:",M)}finally{o(k,!1)}}}function bt(){const M=e(s)?.title?.split(/[:\-â]/)[0].trim()||"";o(z,M),o(ne,[]),o(j,!0),Be()}async function Be(){if(!e(z).trim()){o(ne,[]);return}o(Se,!0);try{const M=await fetch(`/admin/api/imdb/search?query=${encodeURIComponent(e(z))}`);if(M.ok){const X=await M.json();o(ne,(X.titles||[]).filter(h=>h.type==="movie"&&h.id!==e(s)?.imdb_code).slice(0,12))}}catch(M){console.error("Failed to search franchise:",M)}finally{o(Se,!1)}}async function st(){if(!(!e(s)||!e(z).trim()))try{await hi(e(s).id,{franchise:e(z).trim()}),o(j,!1),await pt()}catch(M){console.error("Failed to set franchise:",M)}}async function Dt(M){if(e(z).trim())try{(await fetch("/api/v2/sync_movie",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imdb_code:M.id,franchise:e(z).trim()})})).ok&&(o(ne,e(ne).filter(h=>h.id!==M.id)),at())}catch(X){console.error("Failed to add movie:",X)}}async function Lt(){if(e(s)){o(_,!0);try{const M=await fetch("/api/v2/refresh_movie",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({movie_id:e(s).id})});if(M.ok)await pt();else if(M.status===409){const X=await M.json();X.status==="type_mismatch"?(o(ve,{actual_type:X.actual_type,imdb_code:X.imdb_code,movie_id:X.movie_id,title:X.title}),o(ce,!0)):alert("Failed to refresh: "+(X.status_message||"Unknown error"))}else{const X=await M.json();alert("Failed to refresh: "+(X.status_message||"Unknown error"))}}catch(M){console.error("Failed to refresh movie:",M)}finally{o(_,!1)}}}async function St(){if(e(ve)){o(he,!0);try{const M=await fetch("/admin/api/move-to-series",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imdb_code:e(ve).imdb_code,movie_id:e(ve).movie_id})}),X=await M.json();if(!M.ok){alert("Failed to move to series: "+(X.error||"Unknown error"));return}o(ce,!1),o(ve,null),X.series_id?jn("/tvshows/"+X.series_id):jn("/tvshows")}catch(M){console.error("Failed to move to series:",M),alert("Error moving to series: "+M)}finally{o(he,!1)}}}async function ft(){if(e(s)?.imdb_code){o($,!0);try{const M=await yo(e(s).imdb_code);o(w,M.subtitles||[])}catch(M){console.error("Failed to load subtitles:",M)}finally{o($,!1)}}}async function Et(M){o(V,!0),o(I,!0),o(L,null);try{o(L,await xo(M))}catch(X){console.error("Failed to load preview:",X)}finally{o(V,!1)}}async function pa(M){try{await ko(M),o(w,e(w).filter(X=>X.id!==M))}catch(X){console.error("Failed to delete subtitle:",X)}}async function Qt(){if(e(s)?.imdb_code){o(ee,!0);try{const M=await gi(e(s).imdb_code);await ft()}catch(M){console.error("Failed to sync subtitles:",M)}finally{o(ee,!1)}}}function xt(){e(s)&&(o(P,{imdb_code:e(s).imdb_code||"",title:e(s).title,year:e(s).year,rating:e(s).rating||0,runtime:e(s).runtime||0,genres:e(s).genres?.join(", ")||"",language:e(s).language||"en",summary:e(s).summary||"",yt_trailer_code:e(s).yt_trailer_code||"",medium_cover_image:e(s).medium_cover_image||"",background_image:e(s).background_image||"",status:e(s).status||"available",release_date:e(s).release_date||"",franchise:e(s).franchise||""}),o(S,!0))}async function kt(){if(e(P).imdb_code){o(d,!0);try{const M=await fetch(`/admin/api/imdb/title/${e(P).imdb_code}`);if(M.ok){const X=await M.json();se(P,e(P).title=X.primaryTitle||e(P).title),se(P,e(P).year=X.startYear||e(P).year),se(P,e(P).rating=X.rating?.aggregateRating||e(P).rating),se(P,e(P).runtime=X.runtimeSeconds?Math.round(X.runtimeSeconds/60):e(P).runtime),se(P,e(P).genres=X.genres?.join(", ")||e(P).genres),se(P,e(P).summary=X.plot||e(P).summary),se(P,e(P).medium_cover_image=X.primaryImage?.url||e(P).medium_cover_image)}}catch(M){console.error("Failed to fetch from IMDB:",M)}finally{o(d,!1)}}}async function Mt(){if(e(s))try{await hi(e(s).id,{imdb_code:e(P).imdb_code,title:e(P).title,year:e(P).year,rating:e(P).rating,runtime:e(P).runtime,genres:e(P).genres,language:e(P).language,summary:e(P).summary,yt_trailer_code:e(P).yt_trailer_code,medium_cover_image:e(P).medium_cover_image,background_image:e(P).background_image,status:e(P).status,release_date:e(P).release_date,franchise:e(P).franchise}),o(S,!1),await pt()}catch(M){console.error("Failed to update movie:",M)}}async function Je(){if(e(s))try{await ho(e(s).id),o(g,!1),jn("/movies")}catch(M){console.error("Failed to delete movie:",M)}}async function wt(){if(e(s))try{(await fetch(`/admin/movies/${e(s).id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:e(De).hash,quality:e(De).quality,type:e(De).type,size:e(De).size})})).ok&&(o(x,!1),o(De,{hash:"",quality:"1080p",type:"web",size:""}),await pt())}catch(M){console.error("Failed to add torrent:",M)}}var K={get params(){return l()},set params(M){l(M),Wa()},$set:Fa,$on:(M,X)=>Ra(i,M,X)};Ns();var Oe=Yf(),He=ge(Oe),et=r(He),Nt=r(et),Pt=r(Nt);Lr(Pt,M=>Rr?.(M));var re=n(Pt,4),Ie=r(re,!0);a(re),a(Nt),a(et);var Ve=n(et,2);{var Qe=M=>{var X=ip();v(M,X)},D=M=>{var X=Tt(),h=ge(X);{var E=F=>{var G=wf(),C=ge(G),T=r(C),H=r(T),W=r(H),te=r(W,!0);a(W);var ae=n(W,2),J=n(ae,2),le=n(J,2);a(H),a(T);var B=n(T,2),pe=r(B);{var Ae=N=>{var U=lp();b(()=>{vt(U,"src",(e(s),p(()=>e(s).large_cover_image||e(s).medium_cover_image))),vt(U,"alt",(e(s),p(()=>e(s).title)))}),v(N,U)},ie=N=>{var U=op();v(N,U)};y(pe,N=>{e(s),p(()=>e(s).medium_cover_image||e(s).large_cover_image)?N(Ae):N(ie,!1)})}var O=n(pe,2),Q=r(O),fe=r(Q,!0);a(Q);var xe=n(Q,2),ye=r(xe),je=r(ye,!0);a(ye);var Pe=n(ye,2);{var ke=N=>{var U=vp(),me=r(U);a(U),b(()=>f(me,`${e(s),p(()=>e(s).runtime)??""} min`)),v(N,U)};y(Pe,N=>{e(s),p(()=>e(s).runtime)&&N(ke)})}var _e=n(Pe,2);{var Ee=N=>{var U=cp(),me=r(U,!0);a(U),b(()=>f(me,(e(s),p(()=>e(s).mpa_rating)))),v(N,U)};y(_e,N=>{e(s),p(()=>e(s).mpa_rating)&&N(Ee)})}var ze=n(_e,2);{var de=N=>{var U=dp(),me=r(U,!0);a(U),b(Fe=>f(me,Fe),[()=>(e(s),p(()=>e(s).language.toUpperCase()))]),v(N,U)};y(ze,N=>{e(s),p(()=>e(s).language)&&N(de)})}var Ue=n(ze,2);{var ot=N=>{var U=up(),me=r(U,!0);a(U),b(()=>{vt(U,"href",`https://www.imdb.com/title/${e(s),p(()=>e(s).imdb_code)??""}`),f(me,(e(s),p(()=>e(s).imdb_code)))}),v(N,U)};y(Ue,N=>{e(s),p(()=>e(s).imdb_code)&&N(ot)})}a(xe);var Re=n(xe,2),Le=r(Re);{var Ke=N=>{var U=fp(),me=n(r(U),2),Fe=r(me);a(me);var Ge=n(me,2);{var da=ua=>{var zt=pp(),Ft=r(zt);a(zt),b(()=>f(Ft,`(${e(s),p(()=>e(s).imdb_votes)??""})`)),v(ua,zt)};y(Ge,ua=>{e(s),p(()=>e(s).imdb_votes)&&ua(da)})}a(U),b(()=>f(Fe,`${e(s),p(()=>e(s).imdb_rating)??""}/10`)),v(N,U)};y(Le,N=>{e(s),p(()=>e(s).imdb_rating)&&N(Ke)})}var _t=n(Le,2);{var mt=N=>{var U=_p();let me;var Fe=n(r(U),2),Ge=r(Fe);a(Fe),a(U),b(()=>{me=rt(U,1,"rating-badge rating-rt svelte-138sfuz",null,me,{fresh:e(s).rotten_tomatoes>=60}),f(Ge,`${e(s),p(()=>e(s).rotten_tomatoes)??""}%`)}),v(N,U)};y(_t,N=>{e(s),p(()=>e(s).rotten_tomatoes)&&N(mt)})}var At=n(_t,2);{var ht=N=>{var U=mp();let me;var Fe=n(r(U),2),Ge=r(Fe,!0);a(Fe),a(U),b(()=>{me=rt(U,1,"rating-badge rating-mc svelte-138sfuz",null,me,{good:e(s).metacritic>=60}),f(Ge,(e(s),p(()=>e(s).metacritic)))}),v(N,U)};y(At,N=>{e(s),p(()=>e(s).metacritic)&&N(ht)})}a(Re);var Gt=n(Re,2);{var fa=N=>{var U=gp();lt(U,5,()=>(e(s),p(()=>e(s).genres)),it,(me,Fe)=>{var Ge=hp(),da=r(Ge,!0);a(Ge),b(()=>f(da,e(Fe))),v(me,Ge)}),a(U),v(N,U)};y(Gt,N=>{e(s),p(()=>e(s).genres&&e(s).genres.length>0)&&N(fa)})}var dt=n(Gt,2);{var Ne=N=>{var U=bp(),me=r(U,!0);a(U),b(()=>f(me,(e(s),p(()=>e(s).description_full||e(s).summary)))),v(N,U)};y(dt,N=>{e(s),p(()=>e(s).summary||e(s).description_full)&&N(Ne)})}var Ut=n(dt,2);{var _a=N=>{var U=yp(),me=r(U);a(U),b(()=>vt(me,"href",`https://www.youtube.com/watch?v=${e(s),p(()=>e(s).yt_trailer_code)??""}`)),v(N,U)};y(Ut,N=>{e(s),p(()=>e(s).yt_trailer_code)&&N(_a)})}a(O),a(B),a(C);var We=n(C,2),Vt=n(r(We),2),$t=r(Vt),Ta=n(r($t),2),Ja=r(Ta,!0);a(Ta),a($t);var Ga=n($t,2);{var os=N=>{var U=xp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).title_english)))),v(N,U)};y(Ga,N=>{e(s),p(()=>e(s).title_english&&e(s).title_english!==e(s).title)&&N(os)})}var As=n(Ga,2);{var Ka=N=>{var U=kp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).title_long)))),v(N,U)};y(As,N=>{e(s),p(()=>e(s).title_long)&&N(Ka)})}var Qa=n(As,2),ct=n(r(Qa),2),Da=r(ct,!0);a(ct),a(Qa);var Ba=n(Qa,2);{var ba=N=>{var U=wp(),me=n(r(U),2),Fe=r(me);a(me),a(U),b(Ge=>f(Fe,`${e(s),p(()=>e(s).runtime)??""} min (${Ge??""}h ${e(s),p(()=>e(s).runtime%60)??""}m)`),[()=>(e(s),p(()=>Math.floor(e(s).runtime/60)))]),v(N,U)};y(Ba,N=>{e(s),p(()=>e(s).runtime)&&N(ba)})}var Ha=n(Ba,2);{var qs=N=>{var U=Sp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).director)))),v(N,U)};y(Ha,N=>{e(s),p(()=>e(s).director)&&N(qs)})}var hs=n(Ha,2);{var fr=N=>{var U=$p(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(Ge=>f(Fe,Ge),[()=>(e(s),p(()=>e(s).writers.join(", ")))]),v(N,U)};y(hs,N=>{e(s),p(()=>e(s).writers&&e(s).writers.length>0)&&N(fr)})}var _r=n(hs,2);{var Qs=N=>{var U=Cp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(Ge=>f(Fe,Ge),[()=>(e(s),p(()=>e(s).language.toUpperCase()))]),v(N,U)};y(_r,N=>{e(s),p(()=>e(s).language)&&N(Qs)})}var Ye=n(_r,2);{var Xe=N=>{var U=zp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).country)))),v(N,U)};y(Ye,N=>{e(s),p(()=>e(s).country)&&N(Xe)})}var gt=n(Ye,2);{var Ct=N=>{var U=Tp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).mpa_rating)))),v(N,U)};y(gt,N=>{e(s),p(()=>e(s).mpa_rating)&&N(Ct)})}var ea=n(gt,2);{var Kt=N=>{var U=Ep(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(Ge=>f(Fe,Ge),[()=>(e(s),p(()=>e(s).genres.join(", ")))]),v(N,U)};y(ea,N=>{e(s),p(()=>e(s).genres&&e(s).genres.length>0)&&N(Kt)})}var Bt=n(ea,2);{var ta=N=>{var U=Mp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).franchise)))),v(N,U)};y(Bt,N=>{e(s),p(()=>e(s).franchise)&&N(ta)})}var va=n(Bt,2);{var ha=N=>{var U=Ap(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).awards)))),v(N,U)};y(va,N=>{e(s),p(()=>e(s).awards)&&N(ha)})}a(Vt),a(We);var ca=n(We,2);{var xa=N=>{var U=Lp(),me=r(U),Fe=r(me);a(me);var Ge=n(me,2);{var da=zt=>{var Ft=qp();v(zt,Ft)},ua=zt=>{var Ft=jp(),qt=r(Ft);lt(qt,5,()=>e(m),it,(Wt,nt)=>{var It=Pp(),wa=r(It);{var ia=oa=>{var Sa=Dp();b(()=>{vt(Sa,"src",(e(nt),p(()=>e(nt).medium_cover_image))),vt(Sa,"alt",(e(nt),p(()=>e(nt).title)))}),v(oa,Sa)},la=oa=>{var Sa=Ip(),br=r(Sa),pn=r(br,!0);a(br),a(Sa),b(Ys=>f(pn,Ys),[()=>(e(nt),p(()=>e(nt).title.charAt(0)))]),v(oa,Sa)};y(wa,oa=>{e(nt),p(()=>e(nt).medium_cover_image)?oa(ia):oa(la,!1)})}var Ca=n(wa,2),Oa=r(Ca),rr=r(Oa,!0);a(Oa);var nr=n(Oa,2),ks=r(nr,!0);a(nr),a(Ca),a(It),b(()=>{vt(It,"href",`#/movies/${e(nt),p(()=>e(nt).id)??""}`),f(rr,(e(nt),p(()=>e(nt).title))),f(ks,(e(nt),p(()=>e(nt).year)))}),v(Wt,It)}),a(qt),a(Ft),v(zt,Ft)};y(Ge,zt=>{e(k)?zt(da):zt(ua,!1)})}a(U),b(()=>f(Fe,`${e(s),p(()=>e(s).franchise)??""} Franchise`)),v(N,U)};y(ca,N=>{e(s),e(m),p(()=>e(s).franchise&&e(m).length>0)&&N(xa)})}var Ea=n(ca,2);{var Za=N=>{var U=Bp(),me=n(r(U),2),Fe=r(me);{var Ge=zt=>{var Ft=Rp(),qt=n(r(Ft),2),Wt=r(qt,!0);a(qt),a(Ft),b(()=>f(Wt,(e(s),p(()=>e(s).budget)))),v(zt,Ft)};y(Fe,zt=>{e(s),p(()=>e(s).budget)&&zt(Ge)})}var da=n(Fe,2);{var ua=zt=>{var Ft=Fp(),qt=n(r(Ft),2),Wt=r(qt,!0);a(qt),a(Ft),b(()=>f(Wt,(e(s),p(()=>e(s).box_office_gross)))),v(zt,Ft)};y(da,zt=>{e(s),p(()=>e(s).box_office_gross)&&zt(ua)})}a(me),a(U),v(N,U)};y(Ea,N=>{e(s),p(()=>e(s).budget||e(s).box_office_gross)&&N(Za)})}var Ds=n(Ea,2);{var mr=N=>{var U=Yp(),me=n(r(U),2),Fe=r(me);{var Ge=qt=>{var Wt=Np(),nt=n(r(Wt),2),It=n(r(nt),2),wa=r(It,!0);ut(),a(It);var ia=n(It,2);{var la=Ca=>{var Oa=Op(),rr=r(Oa);a(Oa),b(()=>f(rr,`${e(s),p(()=>e(s).imdb_votes)??""} votes`)),v(Ca,Oa)};y(ia,Ca=>{e(s),p(()=>e(s).imdb_votes)&&Ca(la)})}a(nt),a(Wt),b(()=>f(wa,(e(s),p(()=>e(s).imdb_rating)))),v(qt,Wt)};y(Fe,qt=>{e(s),p(()=>e(s).imdb_rating)&&qt(Ge)})}var da=n(Fe,2);{var ua=qt=>{var Wt=Gp();let nt;var It=r(Wt),wa=r(It);{var ia=oa=>{var Sa=Up();v(oa,Sa)},la=oa=>{var Sa=Vp();v(oa,Sa)};y(wa,oa=>{e(s),p(()=>e(s).rotten_tomatoes>=60)?oa(ia):oa(la,!1)})}a(It);var Ca=n(It,2),Oa=n(r(Ca),2),rr=r(Oa,!0);ut(),a(Oa);var nr=n(Oa,2),ks=r(nr,!0);a(nr),a(Ca),a(Wt),b(()=>{nt=rt(Wt,1,"rating-box svelte-138sfuz",null,nt,{"rating-rt-fresh":e(s).rotten_tomatoes>=60,"rating-rt-rotten":e(s).rotten_tomatoes<60}),f(rr,(e(s),p(()=>e(s).rotten_tomatoes))),f(ks,(e(s),p(()=>e(s).rotten_tomatoes>=60?"Fresh":"Rotten")))}),v(qt,Wt)};y(da,qt=>{e(s),p(()=>e(s).rotten_tomatoes)&&qt(ua)})}var zt=n(da,2);{var Ft=qt=>{var Wt=Hp();let nt;var It=r(Wt);let wa;var ia=r(It,!0);a(It);var la=n(It,2),Ca=n(r(la),2),Oa=r(Ca);{var rr=ks=>{var oa=zr("Generally Favorable");v(ks,oa)},nr=ks=>{var oa=Tt(),Sa=ge(oa);{var br=Ys=>{var Ws=zr("Mixed Reviews");v(Ys,Ws)},pn=Ys=>{var Ws=zr("Generally Unfavorable");v(Ys,Ws)};y(Sa,Ys=>{e(s),p(()=>e(s).metacritic>=40)?Ys(br):Ys(pn,!1)},!0)}v(ks,oa)};y(Oa,ks=>{e(s),p(()=>e(s).metacritic>=60)?ks(rr):ks(nr,!1)})}a(Ca),a(la),a(Wt),b(()=>{nt=rt(Wt,1,"rating-box rating-mc svelte-138sfuz",null,nt,{"mc-good":e(s).metacritic>=60,"mc-mixed":e(s).metacritic>=40&&e(s).metacritic<60,"mc-bad":e(s).metacritic<40}),wa=rt(It,1,"rating-icon mc-score svelte-138sfuz",null,wa,{"mc-good":e(s).metacritic>=60,"mc-mixed":e(s).metacritic>=40&&e(s).metacritic<60,"mc-bad":e(s).metacritic<40}),f(ia,(e(s),p(()=>e(s).metacritic)))}),v(qt,Wt)};y(zt,qt=>{e(s),p(()=>e(s).metacritic)&&qt(Ft)})}a(me),a(U),v(N,U)};y(Ds,N=>{e(s),p(()=>e(s).imdb_rating||e(s).rotten_tomatoes||e(s).metacritic||e(s).rating)&&N(mr)})}var Mr=n(Ds,2);{var Zs=N=>{var U=Xp(),me=n(r(U),2),Fe=r(me);{var Ge=zt=>{var Ft=Wp(),qt=r(Ft),Wt=r(qt,!0);a(qt),ut(2),a(Ft),b(nt=>f(Wt,nt),[()=>(e(s),p(()=>e(s).like_count.toLocaleString()))]),v(zt,Ft)};y(Fe,zt=>{e(s),p(()=>e(s).like_count)&&zt(Ge)})}var da=n(Fe,2);{var ua=zt=>{var Ft=Kp(),qt=r(Ft),Wt=r(qt,!0);a(qt),ut(2),a(Ft),b(nt=>f(Wt,nt),[()=>(e(s),p(()=>e(s).download_count.toLocaleString()))]),v(zt,Ft)};y(da,zt=>{e(s),p(()=>e(s).download_count)&&zt(ua)})}a(me),a(U),v(N,U)};y(Mr,N=>{e(s),p(()=>e(s).like_count||e(s).download_count)&&N(Zs)})}var Rt=n(Mr,2),gs=n(r(Rt),2),Is=r(gs),Us=n(r(Is),2),er=r(Us,!0);a(Us),a(Is);var $e=n(Is,2);{var qe=N=>{var U=Jp(),me=n(r(U),2),Fe=r(me),Ge=r(Fe,!0);a(Fe),a(me),a(U),b(()=>{vt(Fe,"href",`https://www.imdb.com/title/${e(s),p(()=>e(s).imdb_code)??""}`),f(Ge,(e(s),p(()=>e(s).imdb_code)))}),v(N,U)};y($e,N=>{e(s),p(()=>e(s).imdb_code)&&N(qe)})}var Ze=n($e,2);{var yt=N=>{var U=Qp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).slug)))),v(N,U)};y(Ze,N=>{e(s),p(()=>e(s).slug)&&N(yt)})}var Ht=n(Ze,2);{var Ot=N=>{var U=Zp(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).provider)))),v(N,U)};y(Ht,N=>{e(s),p(()=>e(s).provider)&&N(Ot)})}var Ia=n(Ht,2);{var bs=N=>{var U=ef(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).content_type)))),v(N,U)};y(Ia,N=>{e(s),p(()=>e(s).content_type)&&N(bs)})}var es=n(Ia,2);{var vs=N=>{var U=tf(),me=n(r(U),2),Fe=r(me,!0);a(me),a(U),b(()=>f(Fe,(e(s),p(()=>e(s).date_uploaded)))),v(N,U)};y(es,N=>{e(s),p(()=>e(s).date_uploaded)&&N(vs)})}var cs=n(es,2);{var Vs=N=>{var U=af(),me=n(r(U),2),Fe=r(me),Ge=r(Fe,!0);a(Fe),a(me),a(U),b(()=>{vt(Fe,"href",`https://www.youtube.com/watch?v=${e(s),p(()=>e(s).yt_trailer_code)??""}`),f(Ge,(e(s),p(()=>e(s).yt_trailer_code)))}),v(N,U)};y(cs,N=>{e(s),p(()=>e(s).yt_trailer_code)&&N(Vs)})}a(gs),a(Rt);var Gs=n(Rt,2),ys=r(Gs),tr=r(ys);a(ys);var ar=n(ys,2),hr=r(ar);{var Ma=N=>{var U=sf(),me=n(r(U),2),Fe=r(me);a(me),a(U),b(()=>{vt(me,"href",(e(s),p(()=>e(s).medium_cover_image))),vt(Fe,"src",(e(s),p(()=>e(s).medium_cover_image)))}),v(N,U)};y(hr,N=>{e(s),p(()=>e(s).medium_cover_image)&&N(Ma)})}var xs=n(hr,2);{var sr=N=>{var U=rf(),me=n(r(U),2),Fe=r(me);a(me),a(U),b(()=>{vt(me,"href",(e(s),p(()=>e(s).background_image))),vt(Fe,"src",(e(s),p(()=>e(s).background_image)))}),v(N,U)};y(xs,N=>{e(s),p(()=>e(s).background_image)&&N(sr)})}var Zt=n(xs,2);{var na=N=>{var U=of(),me=ge(U);lt(me,1,()=>(e(s),p(()=>e(s).all_images.slice(0,12))),it,(da,ua,zt)=>{var Ft=nf(),qt=r(Ft);qt.textContent=`Image ${zt+1}`;var Wt=n(qt,2),nt=r(Wt);vt(nt,"alt",`Image ${zt+1}`),a(Wt),a(Ft),b(()=>{vt(Wt,"href",e(ua)),vt(nt,"src",e(ua))}),v(da,Ft)});var Fe=n(me,2);{var Ge=da=>{var ua=lf(),zt=r(ua),Ft=r(zt);a(zt),a(ua),b(()=>f(Ft,`+${e(s),p(()=>e(s).all_images.length-12)??""} more`)),v(da,ua)};y(Fe,da=>{e(s),p(()=>e(s).all_images.length>12)&&da(Ge)})}v(N,U)};y(Zt,N=>{e(s),p(()=>e(s).all_images&&e(s).all_images.length>0)&&N(na)})}a(ar),a(Gs);var Hs=n(Gs,2);{var ka=N=>{var U=pf(),me=n(r(U),2);lt(me,5,()=>(e(s),p(()=>e(s).cast)),it,(Fe,Ge)=>{var da=uf(),ua=r(da);{var zt=ia=>{var la=vf();b(()=>{vt(la,"src",(e(Ge),p(()=>e(Ge).url_small_image))),vt(la,"alt",(e(Ge),p(()=>e(Ge).name)))}),v(ia,la)},Ft=ia=>{var la=cf();v(ia,la)};y(ua,ia=>{e(Ge),p(()=>e(Ge).url_small_image)?ia(zt):ia(Ft,!1)})}var qt=n(ua,2),Wt=r(qt),nt=r(Wt,!0);a(Wt);var It=n(Wt,2);{var wa=ia=>{var la=df(),Ca=r(la,!0);a(la),b(()=>f(Ca,(e(Ge),p(()=>e(Ge).character_name)))),v(ia,la)};y(It,ia=>{e(Ge),p(()=>e(Ge).character_name)&&ia(wa)})}a(qt),a(da),b(()=>f(nt,(e(Ge),p(()=>e(Ge).name)))),v(Fe,da)}),a(me),a(U),v(N,U)};y(Hs,N=>{e(s),p(()=>e(s).cast&&e(s).cast.length>0)&&N(ka)})}var Ya=n(Hs,2),ts=r(Ya),Yt=n(r(ts),2),as=r(Yt),gr=r(as,!0);a(as);var dn=n(as,2);a(Yt),a(ts);var ds=n(ts,2);{var Ps=N=>{var U=Tt(),me=ge(U);lt(me,1,()=>(e(s),p(()=>e(s).torrents)),it,(Fe,Ge)=>{var da=xf(),ua=r(da),zt=r(ua);let Ft;var qt=n(zt,2),Wt=r(qt,!0);a(qt);var nt=n(qt,2),It=r(nt,!0);a(nt);var wa=n(nt,2),ia=r(wa,!0);a(wa);var la=n(wa,2),Ca=r(la);a(la);var Oa=n(la,2);{var rr=oa=>{var Sa=ff(),br=r(Sa);a(Sa),b(()=>{vt(Sa,"title",`${e(w),p(()=>e(w).length)??""} subtitle(s)`),f(br,`${e(w),p(()=>e(w).length)??""} sub${e(w),p(()=>e(w).length!==1?"s":"")??""}`)}),v(oa,Sa)};y(Oa,oa=>{e(w),p(()=>e(w).length>0)&&oa(rr)})}a(ua);var nr=n(ua,2);{var ks=oa=>{var Sa=yf(),br=r(Sa);{var pn=Ws=>{var An=_f();v(Ws,An)},Ys=Ws=>{var An=Tt(),Lo=ge(An);{var Ro=Hr=>{var qn=Tt(),Bo=ge(qn);lt(Bo,1,()=>e(w),it,(Oo,us)=>{var Zn=gf(),ei=r(Zn),No=r(ei,!0);a(ei);var ti=n(ei,2),Uo=r(ti,!0);a(ti);var Li=n(ti,2);{var Vo=Ar=>{var fn=mf(),Yo=r(fn,!0);a(fn),b(()=>f(Yo,(e(us),p(()=>e(us).source)))),v(Ar,fn)};y(Li,Ar=>{e(us),p(()=>e(us).source)&&Ar(Vo)})}var Ri=n(Li,2);{var Go=Ar=>{var fn=hf();v(Ar,fn)};y(Ri,Ar=>{e(us),p(()=>e(us).hearing_impaired)&&Ar(Go)})}var Fi=n(Ri,2),Bi=r(Fi),Ho=n(Bi,2);a(Fi),a(Zn),b(()=>{f(No,(e(us),p(()=>e(us).language_name||e(us).language))),f(Uo,(e(us),p(()=>e(us).release_name||"Unknown")))}),Y("click",Bi,vr(()=>Et(e(us).id))),Y("click",Ho,vr(()=>pa(e(us).id))),v(Oo,Zn)}),v(Hr,qn)},Fo=Hr=>{var qn=bf();v(Hr,qn)};y(Lo,Hr=>{e(w),p(()=>e(w).length>0)?Hr(Ro):Hr(Fo,!1)},!0)}v(Ws,An)};y(br,Ws=>{e($)?Ws(pn):Ws(Ys,!1)})}a(Sa),v(oa,Sa)};y(nr,oa=>{e(A),e(Ge),p(()=>e(A)===e(Ge).hash)&&oa(ks)})}a(da),b(oa=>{Ft=rt(zt,0,"chevron svelte-138sfuz",null,Ft,{expanded:e(A)===e(Ge).hash}),rt(qt,1,`torrent-quality badge badge-${e(Ge),p(()=>e(Ge).quality)??""}`,"svelte-138sfuz"),f(Wt,(e(Ge),p(()=>e(Ge).quality))),f(It,(e(Ge),p(()=>e(Ge).type))),f(ia,(e(Ge),p(()=>e(Ge).size))),vt(la,"title",(e(Ge),p(()=>e(Ge).hash))),f(Ca,`${oa??""}...`)},[()=>(e(Ge),p(()=>e(Ge).hash.substring(0,8)))]),Y("click",ua,()=>o(A,e(A)===e(Ge).hash?null:e(Ge).hash)),Y("keypress",ua,oa=>oa.key==="Enter"&&o(A,e(A)===e(Ge).hash?null:e(Ge).hash)),v(Fe,da)}),v(N,U)},un=N=>{var U=kf();v(N,U)};y(ds,N=>{e(s),p(()=>e(s).torrents&&e(s).torrents.length>0)?N(Ps):N(un,!1)})}a(Ya),b(()=>{W.disabled=(e(_),e(s),p(()=>e(_)||!e(s)?.imdb_code)),f(te,e(_)?"REFRESHING...":"REFRESH DATA"),f(fe,(e(s),p(()=>e(s).title))),f(je,(e(s),p(()=>e(s).year))),f(Ja,(e(s),p(()=>e(s).title))),f(Da,(e(s),p(()=>e(s).year))),f(er,(e(s),p(()=>e(s).id))),f(tr,`Images (${e(s),p(()=>(e(s).all_images?.length||0)+(e(s).medium_cover_image?1:0)+(e(s).background_image?1:0))??""})`),as.disabled=(e(ee),e(s),p(()=>e(ee)||!e(s).imdb_code)),f(gr,e(ee)?"SYNCING...":"SYNC SUBS")}),Y("click",W,Lt),Y("click",ae,bt),Y("click",J,xt),Y("click",le,()=>o(g,!0)),Y("click",as,Qt),Y("click",dn,()=>o(x,!0)),v(F,G)},R=F=>{var G=Sf(),C=n(r(G),2);Lr(C,T=>Rr?.(T)),a(G),v(F,G)};y(h,F=>{e(s)?F(E):F(R,!1)},!0)}v(M,X)};y(Ve,M=>{e(c)?M(Qe):M(D,!1)})}a(He);var ue=n(He,2);za(ue,{title:"Edit Movie",size:"lg",get open(){return e(S)},set open(M){o(S,M)},$$events:{close:()=>o(S,!1)},children:(M,X)=>{var h=Cf(),E=r(h),R=r(E),F=n(r(R),2),G=r(F);we(G);var C=n(G,2),T=r(C,!0);a(C),a(F),a(R);var H=n(R,2),W=n(r(H),2);we(W),a(H),a(E);var te=n(E,2),ae=r(te),J=n(r(ae),2);we(J),a(ae);var le=n(ae,2),B=n(r(le),2);we(B),a(le);var pe=n(le,2),Ae=n(r(pe),2);we(Ae),a(pe);var ie=n(pe,2),O=n(r(ie),2);b(()=>{e(P),rs(()=>{})});var Q=r(O);Q.value=Q.__value="en";var fe=n(Q);fe.value=fe.__value="es";var xe=n(fe);xe.value=xe.__value="fr";var ye=n(xe);ye.value=ye.__value="de";var je=n(ye);je.value=je.__value="it";var Pe=n(je);Pe.value=Pe.__value="sq",a(O),a(ie),a(te);var ke=n(te,2),_e=n(r(ke),2);we(_e),a(ke);var Ee=n(ke,2),ze=r(Ee),de=n(r(ze),2);we(de),a(ze);var Ue=n(ze,2),ot=n(r(Ue),2);we(ot),a(Ue),a(Ee);var Re=n(Ee,2),Le=n(r(Re),2);Ur(Le),a(Re);var Ke=n(Re,2),_t=n(r(Ke),2);we(_t),a(Ke);var mt=n(Ke,2),At=r(mt),ht=r(At),Gt=r(ht);we(Gt),ut(),a(ht),ut(2),a(At);var fa=n(At,2);{var dt=Ne=>{var Ut=$f(),_a=n(r(Ut),2);we(_a),a(Ut),Ce(_a,()=>e(P).release_date,We=>se(P,e(P).release_date=We)),v(Ne,Ut)};y(fa,Ne=>{e(P),p(()=>e(P).status==="coming_soon")&&Ne(dt)})}a(mt),a(h),b(()=>{C.disabled=(e(d),e(P),p(()=>e(d)||!e(P).imdb_code)),f(T,e(d)?"Updating...":"Update"),Zr(Gt,(e(P),p(()=>e(P).status==="coming_soon")))}),Ce(G,()=>e(P).imdb_code,Ne=>se(P,e(P).imdb_code=Ne)),Y("click",C,kt),Ce(W,()=>e(P).title,Ne=>se(P,e(P).title=Ne)),Ce(J,()=>e(P).year,Ne=>se(P,e(P).year=Ne)),Ce(B,()=>e(P).rating,Ne=>se(P,e(P).rating=Ne)),Ce(Ae,()=>e(P).runtime,Ne=>se(P,e(P).runtime=Ne)),ga(O,()=>e(P).language,Ne=>se(P,e(P).language=Ne)),Ce(_e,()=>e(P).genres,Ne=>se(P,e(P).genres=Ne)),Ce(de,()=>e(P).medium_cover_image,Ne=>se(P,e(P).medium_cover_image=Ne)),Ce(ot,()=>e(P).background_image,Ne=>se(P,e(P).background_image=Ne)),Ce(Le,()=>e(P).summary,Ne=>se(P,e(P).summary=Ne)),Ce(_t,()=>e(P).franchise,Ne=>se(P,e(P).franchise=Ne)),Y("change",Gt,Ne=>se(P,e(P).status=Ne.currentTarget.checked?"coming_soon":"available")),Y("submit",h,Bs(Mt)),v(M,h)},$$slots:{default:!0,footer:(M,X)=>{var h=zf(),E=ge(h),R=n(E,2);Y("click",E,()=>o(S,!1)),Y("click",R,Mt),v(M,h)}},$$legacy:!0});var oe=n(ue,2);za(oe,{title:"Delete Movie",size:"sm",get open(){return e(g)},set open(M){o(g,M)},$$events:{close:()=>o(g,!1)},children:(M,X)=>{var h=Tf(),E=ge(h),R=n(r(E)),F=r(R,!0);a(R),ut(),a(E),ut(2),b(()=>f(F,(e(s),p(()=>e(s)?.title)))),v(M,h)},$$slots:{default:!0,footer:(M,X)=>{var h=Ef(),E=ge(h),R=n(E,2);Y("click",E,()=>o(g,!1)),Y("click",R,Je),v(M,h)}},$$legacy:!0});var Te=n(oe,2);za(Te,{title:"Find Franchise",size:"lg",get open(){return e(j)},set open(M){o(j,M)},$$events:{close:()=>o(j,!1)},children:(M,X)=>{var h=Lf(),E=r(h),R=n(r(E),2),F=r(R);we(F),a(R),ut(2),a(E);var G=n(E,2);{var C=H=>{var W=Mf();v(H,W)},T=H=>{var W=Tt(),te=ge(W);{var ae=le=>{var B=Pf(),pe=r(B),Ae=r(pe);a(pe);var ie=n(pe,2);lt(ie,5,()=>e(ne),it,(O,Q)=>{var fe=If(),xe=r(fe);{var ye=Re=>{var Le=Af();b(()=>{vt(Le,"src",(e(Q),p(()=>e(Q).primaryImage.url))),vt(Le,"alt",(e(Q),p(()=>e(Q).primaryTitle)))}),v(Re,Le)},je=Re=>{var Le=qf();v(Re,Le)};y(xe,Re=>{e(Q),p(()=>e(Q).primaryImage?.url)?Re(ye):Re(je,!1)})}var Pe=n(xe,2),ke=r(Pe),_e=r(ke,!0);a(ke);var Ee=n(ke,2),ze=r(Ee,!0);a(Ee);var de=n(Ee,2);{var Ue=Re=>{var Le=Df(),Ke=r(Le);a(Le),b(()=>f(Ke,`IMDB: ${e(Q),p(()=>e(Q).rating.aggregateRating)??""}`)),v(Re,Le)};y(de,Re=>{e(Q),p(()=>e(Q).rating?.aggregateRating)&&Re(Ue)})}a(Pe);var ot=n(Pe,2);a(fe),b(()=>{f(_e,(e(Q),p(()=>e(Q).primaryTitle))),f(ze,(e(Q),p(()=>e(Q).startYear)))}),Y("click",ot,()=>Dt(e(Q))),v(O,fe)}),a(ie),a(B),b(()=>f(Ae,`Movies from IMDB (${e(ne),p(()=>e(ne).length)??""}):`)),v(le,B)},J=le=>{var B=Tt(),pe=ge(B);{var Ae=ie=>{var O=jf(),Q=r(O);a(O),b(()=>f(Q,`No movies found matching "${e(z)??""}"`)),v(ie,O)};y(pe,ie=>{e(z),p(()=>e(z).trim())&&ie(Ae)},!0)}v(le,B)};y(te,le=>{e(ne),p(()=>e(ne).length>0)?le(ae):le(J,!1)},!0)}v(H,W)};y(G,H=>{e(Se)?H(C):H(T,!1)})}a(h),Ce(F,()=>e(z),H=>o(z,H)),Y("input",F,()=>Be()),v(M,h)},$$slots:{default:!0,footer:(M,X)=>{var h=Rf(),E=ge(h),R=n(E,2),F=r(R);a(R),b(G=>{R.disabled=G,f(F,`Set "${e(z)??""}" as Franchise`)},[()=>(e(z),p(()=>!e(z).trim()))]),Y("click",E,()=>o(j,!1)),Y("click",R,st),v(M,h)}},$$legacy:!0});var Me=n(Te,2);za(Me,{title:"Add Torrent",size:"md",get open(){return e(x)},set open(M){o(x,M)},$$events:{close:()=>o(x,!1)},children:(M,X)=>{var h=Ff(),E=r(h),R=n(r(E),2);we(R),a(E);var F=n(E,2),G=r(F),C=n(r(G),2);b(()=>{e(De),rs(()=>{})});var T=r(C);T.value=T.__value="720p";var H=n(T);H.value=H.__value="1080p";var W=n(H);W.value=W.__value="2160p";var te=n(W);te.value=te.__value="480p",a(C),a(G);var ae=n(G,2),J=n(r(ae),2);b(()=>{e(De),rs(()=>{})});var le=r(J);le.value=le.__value="web";var B=n(le);B.value=B.__value="bluray";var pe=n(B);pe.value=pe.__value="hdtv";var Ae=n(pe);Ae.value=Ae.__value="webrip",a(J),a(ae),a(F);var ie=n(F,2),O=n(r(ie),2);we(O),a(ie),a(h),Ce(R,()=>e(De).hash,Q=>se(De,e(De).hash=Q)),ga(C,()=>e(De).quality,Q=>se(De,e(De).quality=Q)),ga(J,()=>e(De).type,Q=>se(De,e(De).type=Q)),Ce(O,()=>e(De).size,Q=>se(De,e(De).size=Q)),Y("submit",h,Bs(wt)),v(M,h)},$$slots:{default:!0,footer:(M,X)=>{var h=Bf(),E=ge(h),R=n(E,2);Y("click",E,()=>o(x,!1)),Y("click",R,wt),v(M,h)}},$$legacy:!0});var q=n(Me,2);za(q,{title:"Subtitle Preview",size:"lg",get open(){return e(I)},set open(M){o(I,M)},$$events:{close:()=>o(I,!1)},children:(M,X)=>{var h=Tt(),E=ge(h);{var R=G=>{var C=Of();v(G,C)},F=G=>{var C=Tt(),T=ge(C);{var H=te=>{var ae=Nf(),J=ge(ae),le=r(J),B=r(le,!0);a(le);var pe=n(le,2),Ae=r(pe,!0);a(pe);var ie=n(pe,2),O=r(ie);a(ie),a(J);var Q=n(J,2),fe=r(Q,!0);a(Q),b(()=>{f(B,(e(L),p(()=>e(L).language))),f(Ae,(e(L),p(()=>e(L).release_name))),f(O,`(${e(L),p(()=>e(L).total_lines)??""} total lines)`),f(fe,(e(L),p(()=>e(L).preview)))}),v(te,ae)},W=te=>{var ae=Uf();v(te,ae)};y(T,te=>{e(L)?te(H):te(W,!1)},!0)}v(G,C)};y(E,G=>{e(V)?G(R):G(F,!1)})}v(M,h)},$$slots:{default:!0,footer:(M,X)=>{var h=Vf();Y("click",h,()=>o(I,!1)),v(M,h)}},$$legacy:!0});var be=n(q,2);return za(be,{title:"Wrong Content Type",size:"md",get open(){return e(ce)},set open(M){o(ce,M)},$$events:{close:()=>{o(ce,!1),o(ve,null)}},children:(M,X)=>{var h=Tt(),E=ge(h);{var R=F=>{var G=Gf(),C=r(G),T=n(r(C)),H=r(T,!0);a(T);var W=n(T,2),te=r(W,!0);a(W);var ae=n(W,2),J=r(ae,!0);a(ae),ut(),a(C),ut(2),a(G),b(()=>{f(H,(e(ve),p(()=>e(ve).title))),f(te,(e(ve),p(()=>e(ve).imdb_code))),f(J,(e(ve),p(()=>e(ve).actual_type)))}),v(F,G)};y(E,F=>{e(ve)&&F(R)})}v(M,h)},$$slots:{default:!0,footer:(M,X)=>{var h=Hf(),E=ge(h),R=n(E,2),F=r(R,!0);a(R),b(()=>{E.disabled=e(he),R.disabled=e(he),f(F,e(he)?"Moving...":"Move to TV Shows")}),Y("click",E,()=>{o(ce,!1),o(ve,null)}),Y("click",R,St),v(M,h)}},$$legacy:!0}),b(()=>f(Ie,(e(s),p(()=>e(s)?.title||"Loading...")))),v(t,Oe),qa(K)}var Wf=u("<option> </option>"),Kf=u("<button> </button>"),Xf=u('<div class="pagination-controls svelte-aafecq"><button class="pagination-btn svelte-aafecq" title="First page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="11 17 6 12 11 7"></polyline><polyline points="18 17 13 12 18 7"></polyline></svg></button> <button class="pagination-btn svelte-aafecq" title="Previous page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg></button> <!> <button class="pagination-btn svelte-aafecq" title="Next page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg></button> <button class="pagination-btn svelte-aafecq" title="Last page"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="13 17 18 12 13 7"></polyline><polyline points="6 17 11 12 6 7"></polyline></svg></button></div>'),Jf=u('<div class="pagination svelte-aafecq"><div class="pagination-left svelte-aafecq"><span class="pagination-info svelte-aafecq"> </span> <div class="per-page svelte-aafecq"><span>per page:</span> <select class="svelte-aafecq"></select></div></div> <!></div>'),Qf=u('<div class="loading"><div class="spinner"></div></div>'),Zf=u('<div class="empty-state"><p>No TV shows found</p></div>'),e_=u('<img class="poster"/>'),t_=u('<div class="poster poster-placeholder svelte-aafecq"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg></div>'),a_=u('<div class="rating-badge svelte-aafecq"><span class="score svelte-aafecq"> </span></div>'),s_=u('<span class="text-muted">-</span>'),r_=u('<tr><td><!></td><td><a class="series-title svelte-aafecq"> </a></td><td> </td><td> </td><td><!></td><td><span> </span></td><td><div class="actions"><button class="btn btn-sm btn-secondary">EDIT</button> <button class="btn btn-sm btn-danger">DELETE</button></div></td></tr>'),n_=u('<!> <div class="card"><table class="data-table"><thead><tr><th>Poster</th><th>Title</th><th>Year</th><th>Seasons</th><th>Rating</th><th>Status</th><th style="text-align: right;">Actions</th></tr></thead><tbody></tbody></table></div> <!>',1),i_=u('<p class="form-error svelte-aafecq"> </p>'),l_=u('<img alt="" class="suggestion-poster svelte-aafecq"/>'),o_=u('<div class="suggestion-poster suggestion-poster-empty svelte-aafecq"></div>'),v_=u('<span class="library-badge svelte-aafecq">IN LIBRARY</span>'),c_=u('<button type="button"><!> <div class="suggestion-info svelte-aafecq"><span class="suggestion-title svelte-aafecq"> <!></span> <span class="suggestion-year svelte-aafecq"> </span></div></button>'),d_=u('<div class="suggestions-dropdown svelte-aafecq"></div>'),u_=u('<form><div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="imdb_code">IMDB Code</label> <div class="input-with-button svelte-aafecq"><input type="text" id="imdb_code" class="form-input svelte-aafecq" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary svelte-aafecq"> </button></div> <!></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="title">Title *</label> <div class="autocomplete-wrapper svelte-aafecq"><input type="text" id="title" class="form-input svelte-aafecq" autocomplete="off" required/> <!></div></div></div> <div class="form-row form-row-4 svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="year">Year</label> <input type="number" id="year" class="form-input svelte-aafecq"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="rating">Rating</label> <input type="number" id="rating" class="form-input svelte-aafecq" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="runtime">Runtime (min)</label> <input type="number" id="runtime" class="form-input svelte-aafecq" min="0"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="total_seasons">Seasons</label> <input type="number" id="total_seasons" class="form-input svelte-aafecq" min="1"/></div></div> <div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="genres">Genres</label> <input type="text" id="genres" class="form-input svelte-aafecq" placeholder="Drama, Thriller, Crime"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="status">Status</label> <select id="status" class="form-input svelte-aafecq"><option>Continuing</option><option>Ended</option></select></div></div> <div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="poster">Poster Image URL</label> <input type="text" id="poster" class="form-input svelte-aafecq" placeholder="https://..."/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="background">Background Image URL</label> <input type="text" id="background" class="form-input svelte-aafecq" placeholder="https://..."/></div></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="network">Network</label> <input type="text" id="network" class="form-input svelte-aafecq" placeholder="HBO, Netflix, AMC..."/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="summary">Summary</label> <textarea id="summary" class="form-input form-textarea svelte-aafecq" rows="3"></textarea></div></form>'),p_=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Add Series</button>',1),f_=u('<p class="form-error svelte-aafecq"> </p>'),__=u('<form><div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_imdb_code">IMDB Code</label> <div class="input-with-button svelte-aafecq"><input type="text" id="edit_imdb_code" class="form-input svelte-aafecq" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary svelte-aafecq"> </button></div> <!></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_title">Title *</label> <input type="text" id="edit_title" class="form-input svelte-aafecq" required/></div></div> <div class="form-row form-row-4 svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_year">Year</label> <input type="number" id="edit_year" class="form-input svelte-aafecq"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_rating">Rating</label> <input type="number" id="edit_rating" class="form-input svelte-aafecq" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_runtime">Runtime (min)</label> <input type="number" id="edit_runtime" class="form-input svelte-aafecq" min="0"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_total_seasons">Seasons</label> <input type="number" id="edit_total_seasons" class="form-input svelte-aafecq" min="1"/></div></div> <div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_genres">Genres</label> <input type="text" id="edit_genres" class="form-input svelte-aafecq" placeholder="Drama, Thriller"/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_status">Status</label> <select id="edit_status" class="form-input svelte-aafecq"><option>Continuing</option><option>Ended</option></select></div></div> <div class="form-row svelte-aafecq"><div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_poster">Poster Image URL</label> <input type="text" id="edit_poster" class="form-input svelte-aafecq" placeholder="https://..."/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_background">Background Image URL</label> <input type="text" id="edit_background" class="form-input svelte-aafecq" placeholder="https://..."/></div></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_network">Network</label> <input type="text" id="edit_network" class="form-input svelte-aafecq" placeholder="HBO, Netflix, AMC..."/></div> <div class="form-group svelte-aafecq"><label class="form-label svelte-aafecq" for="edit_summary">Summary</label> <textarea id="edit_summary" class="form-input form-textarea svelte-aafecq" rows="3"></textarea></div></form>'),m_=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Save Changes</button>',1),h_=u('<p class="delete-warning svelte-aafecq">Are you sure you want to delete <strong> </strong>?</p> <p class="text-muted">This action cannot be undone. All episodes and torrents will also be removed.</p>',1),g_=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-danger">Delete</button>',1),b_=u('<div class="tvshows-page"><header class="page-header"><h1 class="page-title">TV SHOWS</h1> <div class="page-actions"><div class="search-box"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input type="text" placeholder="Search series..."/></div> <button class="btn btn-primary">ADD</button></div></header> <!></div> <!> <!> <!>',1);function Eo(t,i){if(new.target)return La({component:Eo,...t});Aa(i,!1);const l=Z(),s=Z(),c=Z(),d=re=>{var Ie=Jf(),Ve=r(Ie),Qe=r(Ve),D=r(Qe);a(Qe);var ue=n(Qe,2),oe=n(r(ue),2);b(()=>{e(I),rs(()=>{})}),lt(oe,5,()=>L,it,(q,be)=>{var M=Wf(),X=r(M,!0);a(M);var h={};b(()=>{f(X,e(be)),h!==(h=e(be))&&(M.value=(M.__value=e(be))??"")}),v(q,M)}),a(oe),a(ue),a(Ve);var Te=n(Ve,2);{var Me=q=>{var be=Xf(),M=r(be),X=n(M,2),h=n(X,2);lt(h,1,()=>p(he),it,(F,G)=>{var C=Kf();let T;var H=r(C,!0);a(C),b(()=>{T=rt(C,1,"pagination-btn svelte-aafecq",null,T,{active:e(G)===e($)}),f(H,e(G))}),Y("click",C,()=>ce(e(G))),v(F,C)});var E=n(h,2),R=n(E,2);a(be),b(()=>{M.disabled=e($)===1,X.disabled=e($)===1,E.disabled=e($)===e(l),R.disabled=e($)===e(l)}),Y("click",M,()=>ce(1)),Y("click",X,()=>ce(e($)-1)),Y("click",E,()=>ce(e($)+1)),Y("click",R,()=>ce(e(l))),v(q,be)};y(Te,q=>{e(l)>1&&q(Me)})}a(Ie),b(q=>f(D,`Showing ${e(s)??""}-${e(c)??""} of ${q??""}`),[()=>(e(m),p(()=>e(m).toLocaleString()))]),ga(oe,()=>e(I),q=>o(I,q)),Y("change",oe,()=>ve(e(I))),v(re,Ie)};let _=Z([]),m=Z(0),k=Z(!0),w=Z(""),$=Z(1),I=Z(20);const L=[10,20,50,100];let V=Z(!1),A=Z(!1),ee=Z(!1),S=Z(null),g=Z({imdb_code:"",title:"",year:new Date().getFullYear(),rating:0,runtime:0,genres:"",summary:"",poster_image:"",background_image:"",total_seasons:1,status:"Continuing",network:""});Ms(async()=>{await x()});async function x(){o(k,!0);try{const re=await Hc({page:e($),limit:e(I),search:e(w)||void 0});o(_,re.series),o(m,re.total)}catch(re){console.error("Failed to load series:",re)}finally{o(k,!1)}}function j(){o($,1),x()}function ce(re){re>=1&&re<=e(l)&&(o($,re),x())}function ve(re){o(I,re),o($,1),x()}function he(){const re=[];let Ve=Math.max(1,e($)-Math.floor(2.5)),Qe=Math.min(e(l),Ve+5-1);Qe-Ve+1<5&&(Ve=Math.max(1,Qe-5+1));for(let D=Ve;D<=Qe;D++)re.push(D);return re}function z(){o(g,{imdb_code:"",title:"",year:new Date().getFullYear(),rating:0,runtime:0,genres:"",summary:"",poster_image:"",background_image:"",total_seasons:1,status:"Continuing",network:""}),o(V,!0)}function ne(re){o(S,re),o(g,{imdb_code:re.imdb_code||"",title:re.title,year:re.year,rating:re.rating||0,runtime:re.runtime||0,genres:re.genres?.join(", ")||"",summary:re.summary||"",poster_image:re.poster_image||"",background_image:re.background_image||"",total_seasons:re.total_seasons||1,status:re.status||"Continuing",network:re.network||""}),o(A,!0)}function Se(re){o(S,re),o(ee,!0)}async function P(){try{(await fetch("/admin/series",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({imdb_code:e(g).imdb_code,title:e(g).title,year:String(e(g).year),rating:String(e(g).rating),runtime:String(e(g).runtime),genres:e(g).genres,summary:e(g).summary,poster_image:e(g).poster_image,background_image:e(g).background_image,total_seasons:String(e(g).total_seasons),status:e(g).status,network:e(g).network})})).ok&&(o(V,!1),o($,1),x())}catch(re){console.error("Failed to add series:",re)}}async function De(){if(e(S))try{await bo(e(S).id,{imdb_code:e(g).imdb_code,title:e(g).title,year:e(g).year,rating:e(g).rating,runtime:e(g).runtime,genres:e(g).genres,summary:e(g).summary,poster_image:e(g).poster_image,background_image:e(g).background_image,total_seasons:e(g).total_seasons,status:e(g).status,network:e(g).network}),o(A,!1),x()}catch(re){console.error("Failed to update series:",re)}}async function pt(){if(e(S))try{await go(e(S).id),o(ee,!1),x()}catch(re){console.error("Failed to delete series:",re)}}let at=Z(!1),bt=Z(null),Be=Z([]),st=Z(!1),Dt;async function Lt(re){if(re.length<2){o(Be,[]);return}clearTimeout(Dt),Dt=setTimeout(async()=>{try{const Ie=re.toLowerCase(),[Ve,Qe]=await Promise.all([fetch(`/api/v2/list_series.json?query_term=${encodeURIComponent(re)}&limit=5`),fetch(`/admin/api/imdb/search?query=${encodeURIComponent(re)}`)]),D=[],ue=[],oe=new Set;if(Ve.ok){const Me=(await Ve.json()).data?.series||[];for(const q of Me)q.imdb_code&&oe.add(q.imdb_code),ue.push({id:q.imdb_code||`local-${q.id}`,title:q.title,year:String(q.year),poster:q.poster_image||"",inLibrary:!0,seriesId:q.id})}if(Qe.ok){const Te=await Qe.json();for(const Me of(Te.titles||[]).slice(0,10)){const q=(Me.type||Me.titleType||"").toLowerCase();!q.includes("series")&&!q.includes("tv")||oe.has(Me.id)||D.push({id:Me.id,title:Me.primaryTitle,year:Me.startYear?String(Me.startYear):"",poster:Me.primaryImage?.url||"",inLibrary:!1})}}D.sort((Te,Me)=>{const q=Te.title.toLowerCase(),be=Me.title.toLowerCase(),M=q===Ie,X=be===Ie,h=q.startsWith(Ie),E=be.startsWith(Ie);return M&&!X?-1:X&&!M?1:h&&!E?-1:E&&!h?1:0}),o(Be,[...D,...ue].slice(0,10)),o(st,e(Be).length>0)}catch(Ie){console.error("Search failed:",Ie)}},300)}async function St(re){if(o(st,!1),o(Be,[]),re.inLibrary&&re.seriesId){const Ie=e(_).find(Ve=>Ve.id===re.seriesId);if(Ie){o(V,!1),ne(Ie);return}}if(re.id.startsWith("tt"))try{const Ie=await Wc(re.id);if(Ie.exists&&Ie.series){o(V,!1),ne(Ie.series);return}}catch(Ie){console.error("Failed to check existing series:",Ie)}se(g,e(g).imdb_code=re.id),se(g,e(g).title=re.title),se(g,e(g).year=parseInt(re.year)||new Date().getFullYear()),ft()}async function ft(){if(e(g).imdb_code){o(at,!0),o(bt,null);try{const re=await fetch(`/admin/api/imdb/title/${e(g).imdb_code}`);if(re.ok){const Ie=await re.json();console.log("IMDB data:",Ie);const Ve=(Ie.type||Ie.titleType||"").toLowerCase();if(Ve==="movie"||Ve==="short"||Ve==="video"){o(bt,`"${Ie.primaryTitle||Ie.title}" is a Movie. Add it in the Movies section instead.`),o(at,!1);return}o(bt,null),se(g,e(g).title=Ie.primaryTitle||e(g).title),se(g,e(g).year=Ie.startYear||e(g).year),se(g,e(g).rating=Ie.rating?.aggregateRating||e(g).rating),se(g,e(g).runtime=Ie.runtimeSeconds?Math.round(Ie.runtimeSeconds/60):e(g).runtime),se(g,e(g).genres=Ie.genres?.join(", ")||e(g).genres),se(g,e(g).summary=Ie.plot||e(g).summary),se(g,e(g).poster_image=Ie.primaryImage?.url||e(g).poster_image),Ie.totalSeasons&&se(g,e(g).total_seasons=Ie.totalSeasons),Ie.endYear?se(g,e(g).status="Ended"):se(g,e(g).status="Continuing")}}catch(re){console.error("Failed to fetch from IMDB:",re),o(bt,"Failed to fetch from IMDB")}finally{o(at,!1)}}}Cr(()=>(e(m),e(I)),()=>{o(l,Math.ceil(e(m)/e(I)))}),Cr(()=>(e(m),e($),e(I)),()=>{o(s,e(m)>0?(e($)-1)*e(I)+1:0)}),Cr(()=>(e($),e(I),e(m)),()=>{o(c,Math.min(e($)*e(I),e(m)))}),Jn();var Et={$set:Fa,$on:(re,Ie)=>Ra(i,re,Ie)};Ns();var pa=b_(),Qt=ge(pa),xt=r(Qt),kt=n(r(xt),2),Mt=r(kt),Je=n(r(Mt),2);we(Je),a(Mt);var wt=n(Mt,2);a(kt),a(xt);var K=n(xt,2);{var Oe=re=>{var Ie=Qf();v(re,Ie)},He=re=>{var Ie=Tt(),Ve=ge(Ie);{var Qe=ue=>{var oe=Zf();v(ue,oe)},D=ue=>{var oe=n_(),Te=ge(oe);d(Te);var Me=n(Te,2),q=r(Me),be=n(r(q));lt(be,5,()=>e(_),it,(X,h)=>{var E=r_(),R=r(E),F=r(R);{var G=ke=>{var _e=e_();b(()=>{vt(_e,"src",(e(h),p(()=>e(h).poster_image))),vt(_e,"alt",(e(h),p(()=>e(h).title)))}),v(ke,_e)},C=ke=>{var _e=t_();v(ke,_e)};y(F,ke=>{e(h),p(()=>e(h).poster_image)?ke(G):ke(C,!1)})}a(R);var T=n(R),H=r(T),W=r(H,!0);a(H),Lr(H,ke=>Rr?.(ke)),a(T);var te=n(T),ae=r(te,!0);a(te);var J=n(te),le=r(J,!0);a(J);var B=n(J),pe=r(B);{var Ae=ke=>{var _e=a_(),Ee=r(_e),ze=r(Ee,!0);a(Ee),a(_e),b(de=>f(ze,de),[()=>(e(h),p(()=>e(h).rating.toFixed(1)))]),v(ke,_e)},ie=ke=>{var _e=s_();v(ke,_e)};y(pe,ke=>{e(h),p(()=>e(h).rating)?ke(Ae):ke(ie,!1)})}a(B);var O=n(B),Q=r(O),fe=r(Q,!0);a(Q),a(O);var xe=n(O),ye=r(xe),je=r(ye),Pe=n(je,2);a(ye),a(xe),a(E),b(ke=>{vt(H,"href",`/tvshows/${e(h),p(()=>e(h).id)??""}`),f(W,(e(h),p(()=>e(h).title))),f(ae,(e(h),p(()=>e(h).year))),f(le,(e(h),p(()=>e(h).total_seasons))),rt(Q,1,`status status-${ke??""}`,"svelte-aafecq"),f(fe,(e(h),p(()=>e(h).status)))},[()=>(e(h),p(()=>e(h).status?.toLowerCase()))]),Y("click",je,()=>ne(e(h))),Y("click",Pe,()=>Se(e(h))),v(X,E)}),a(be),a(q),a(Me);var M=n(Me,2);d(M),v(ue,oe)};y(Ve,ue=>{e(_),p(()=>e(_).length===0)?ue(Qe):ue(D,!1)},!0)}v(re,Ie)};y(K,re=>{e(k)?re(Oe):re(He,!1)})}a(Qt);var et=n(Qt,2);za(et,{title:"Add TV Series",size:"lg",get open(){return e(V)},set open(re){o(V,re)},$$events:{close:()=>o(V,!1)},children:(re,Ie)=>{var Ve=u_(),Qe=r(Ve),D=r(Qe),ue=n(r(D),2),oe=r(ue);we(oe);var Te=n(oe,2),Me=r(Te,!0);a(Te),a(ue);var q=n(ue,2);{var be=de=>{var Ue=i_(),ot=r(Ue,!0);a(Ue),b(()=>f(ot,e(bt))),v(de,Ue)};y(q,de=>{e(bt)&&de(be)})}a(D);var M=n(D,2),X=n(r(M),2),h=r(X);we(h);var E=n(h,2);{var R=de=>{var Ue=d_();lt(Ue,5,()=>e(Be),it,(ot,Re)=>{var Le=c_();let Ke;var _t=r(Le);{var mt=We=>{var Vt=l_();b(()=>vt(Vt,"src",(e(Re),p(()=>e(Re).poster)))),v(We,Vt)},At=We=>{var Vt=o_();v(We,Vt)};y(_t,We=>{e(Re),p(()=>e(Re).poster)?We(mt):We(At,!1)})}var ht=n(_t,2),Gt=r(ht),fa=r(Gt),dt=n(fa);{var Ne=We=>{var Vt=v_();v(We,Vt)};y(dt,We=>{e(Re),p(()=>e(Re).inLibrary)&&We(Ne)})}a(Gt);var Ut=n(Gt,2),_a=r(Ut);a(Ut),a(ht),a(Le),b(()=>{Ke=rt(Le,1,"suggestion-item svelte-aafecq",null,Ke,{"in-library":e(Re).inLibrary}),f(fa,`${e(Re),p(()=>e(Re).title)??""} `),f(_a,`${e(Re),p(()=>e(Re).year)??""} ${e(Re),p(()=>e(Re).inLibrary?"â¢ Click to edit":"")??""}`)}),Y("mousedown",Le,()=>St(e(Re))),v(ot,Le)}),a(Ue),v(de,Ue)};y(E,de=>{e(st),e(Be),p(()=>e(st)&&e(Be).length>0)&&de(R)})}a(X),a(M),a(Qe);var F=n(Qe,2),G=r(F),C=n(r(G),2);we(C),a(G);var T=n(G,2),H=n(r(T),2);we(H),a(T);var W=n(T,2),te=n(r(W),2);we(te),a(W);var ae=n(W,2),J=n(r(ae),2);we(J),a(ae),a(F);var le=n(F,2),B=r(le),pe=n(r(B),2);we(pe),a(B);var Ae=n(B,2),ie=n(r(Ae),2);b(()=>{e(g),rs(()=>{})});var O=r(ie);O.value=O.__value="Continuing";var Q=n(O);Q.value=Q.__value="Ended",a(ie),a(Ae),a(le);var fe=n(le,2),xe=r(fe),ye=n(r(xe),2);we(ye),a(xe);var je=n(xe,2),Pe=n(r(je),2);we(Pe),a(je),a(fe);var ke=n(fe,2),_e=n(r(ke),2);we(_e),a(ke);var Ee=n(ke,2),ze=n(r(Ee),2);Ur(ze),a(Ee),a(Ve),b(()=>{Te.disabled=(e(at),e(g),p(()=>e(at)||!e(g).imdb_code)),f(Me,e(at)?"Fetching...":"Fetch")}),Ce(oe,()=>e(g).imdb_code,de=>se(g,e(g).imdb_code=de)),Y("click",Te,ft),Ce(h,()=>e(g).title,de=>se(g,e(g).title=de)),Y("input",h,de=>Lt(de.currentTarget.value)),Y("focus",h,()=>o(st,e(Be).length>0)),Y("blur",h,()=>setTimeout(()=>o(st,!1),200)),Ce(C,()=>e(g).year,de=>se(g,e(g).year=de)),Ce(H,()=>e(g).rating,de=>se(g,e(g).rating=de)),Ce(te,()=>e(g).runtime,de=>se(g,e(g).runtime=de)),Ce(J,()=>e(g).total_seasons,de=>se(g,e(g).total_seasons=de)),Ce(pe,()=>e(g).genres,de=>se(g,e(g).genres=de)),ga(ie,()=>e(g).status,de=>se(g,e(g).status=de)),Ce(ye,()=>e(g).poster_image,de=>se(g,e(g).poster_image=de)),Ce(Pe,()=>e(g).background_image,de=>se(g,e(g).background_image=de)),Ce(_e,()=>e(g).network,de=>se(g,e(g).network=de)),Ce(ze,()=>e(g).summary,de=>se(g,e(g).summary=de)),Y("submit",Ve,Bs(P)),v(re,Ve)},$$slots:{default:!0,footer:(re,Ie)=>{var Ve=p_(),Qe=ge(Ve),D=n(Qe,2);Y("click",Qe,()=>o(V,!1)),Y("click",D,P),v(re,Ve)}},$$legacy:!0});var Nt=n(et,2);za(Nt,{title:"Edit TV Series",size:"lg",get open(){return e(A)},set open(re){o(A,re)},$$events:{close:()=>o(A,!1)},children:(re,Ie)=>{var Ve=__(),Qe=r(Ve),D=r(Qe),ue=n(r(D),2),oe=r(ue);we(oe);var Te=n(oe,2),Me=r(Te,!0);a(Te),a(ue);var q=n(ue,2);{var be=_e=>{var Ee=f_(),ze=r(Ee,!0);a(Ee),b(()=>f(ze,e(bt))),v(_e,Ee)};y(q,_e=>{e(bt)&&_e(be)})}a(D);var M=n(D,2),X=n(r(M),2);we(X),a(M),a(Qe);var h=n(Qe,2),E=r(h),R=n(r(E),2);we(R),a(E);var F=n(E,2),G=n(r(F),2);we(G),a(F);var C=n(F,2),T=n(r(C),2);we(T),a(C);var H=n(C,2),W=n(r(H),2);we(W),a(H),a(h);var te=n(h,2),ae=r(te),J=n(r(ae),2);we(J),a(ae);var le=n(ae,2),B=n(r(le),2);b(()=>{e(g),rs(()=>{})});var pe=r(B);pe.value=pe.__value="Continuing";var Ae=n(pe);Ae.value=Ae.__value="Ended",a(B),a(le),a(te);var ie=n(te,2),O=r(ie),Q=n(r(O),2);we(Q),a(O);var fe=n(O,2),xe=n(r(fe),2);we(xe),a(fe),a(ie);var ye=n(ie,2),je=n(r(ye),2);we(je),a(ye);var Pe=n(ye,2),ke=n(r(Pe),2);Ur(ke),a(Pe),a(Ve),b(()=>{Te.disabled=(e(at),e(g),p(()=>e(at)||!e(g).imdb_code)),f(Me,e(at)?"Updating...":"Update")}),Ce(oe,()=>e(g).imdb_code,_e=>se(g,e(g).imdb_code=_e)),Y("click",Te,ft),Ce(X,()=>e(g).title,_e=>se(g,e(g).title=_e)),Ce(R,()=>e(g).year,_e=>se(g,e(g).year=_e)),Ce(G,()=>e(g).rating,_e=>se(g,e(g).rating=_e)),Ce(T,()=>e(g).runtime,_e=>se(g,e(g).runtime=_e)),Ce(W,()=>e(g).total_seasons,_e=>se(g,e(g).total_seasons=_e)),Ce(J,()=>e(g).genres,_e=>se(g,e(g).genres=_e)),ga(B,()=>e(g).status,_e=>se(g,e(g).status=_e)),Ce(Q,()=>e(g).poster_image,_e=>se(g,e(g).poster_image=_e)),Ce(xe,()=>e(g).background_image,_e=>se(g,e(g).background_image=_e)),Ce(je,()=>e(g).network,_e=>se(g,e(g).network=_e)),Ce(ke,()=>e(g).summary,_e=>se(g,e(g).summary=_e)),Y("submit",Ve,Bs(De)),v(re,Ve)},$$slots:{default:!0,footer:(re,Ie)=>{var Ve=m_(),Qe=ge(Ve),D=n(Qe,2);Y("click",Qe,()=>o(A,!1)),Y("click",D,De),v(re,Ve)}},$$legacy:!0});var Pt=n(Nt,2);return za(Pt,{title:"Delete Series",size:"sm",get open(){return e(ee)},set open(re){o(ee,re)},$$events:{close:()=>o(ee,!1)},children:(re,Ie)=>{var Ve=h_(),Qe=ge(Ve),D=n(r(Qe)),ue=r(D,!0);a(D),ut(),a(Qe),ut(2),b(()=>f(ue,(e(S),p(()=>e(S)?.title)))),v(re,Ve)},$$slots:{default:!0,footer:(re,Ie)=>{var Ve=g_(),Qe=ge(Ve),D=n(Qe,2);Y("click",Qe,()=>o(ee,!1)),Y("click",D,pt),v(re,Ve)}},$$legacy:!0}),Ce(Je,()=>e(w),re=>o(w,re)),Y("keydown",Je,re=>re.key==="Enter"&&j()),Y("click",wt,z),v(t,pa),qa(Et)}var y_=u('<div class="loading svelte-f6m6ck"><div class="spinner svelte-f6m6ck"></div></div>'),x_=u('<div class="error-state svelte-f6m6ck"><h2>Series not found</h2> <a href="#/tvshows" class="btn btn-primary">Back to TV Shows</a></div>'),k_=u('<img class="detail-poster svelte-f6m6ck"/>'),w_=u('<div class="detail-poster poster-placeholder svelte-f6m6ck"><span> </span></div>'),S_=u('<span class="meta-item svelte-f6m6ck"> </span>'),$_=u('<span class="genre-tag svelte-f6m6ck"> </span>'),C_=u('<div class="genre-tags svelte-f6m6ck"></div>'),z_=u('<div class="header-rating svelte-f6m6ck"><svg width="20" height="20" viewBox="0 0 24 24" fill="#f5c518"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"></path></svg> <span class="rating-value svelte-f6m6ck"> </span> <span class="rating-max svelte-f6m6ck">/10</span></div>'),T_=u('<p class="detail-summary svelte-f6m6ck"> </p>'),E_=u('<span class="spinner-sm svelte-f6m6ck"></span> Refreshing...',1),M_=Es('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"></path><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg> Refresh from IMDB',1),A_=u('<div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Runtime</span> <span class="detail-value svelte-f6m6ck"> </span></div>'),q_=u('<div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Network</span> <span class="detail-value svelte-f6m6ck"> </span></div>'),D_=u('<div class="detail-item full-width svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Genres</span> <span class="detail-value svelte-f6m6ck"> </span></div>'),I_=u('<p class="text-muted">No episodes available</p>'),P_=u('<span class="season-pack-badge svelte-f6m6ck" title="Season pack available"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg> </span> <button class="btn btn-xs btn-expand svelte-f6m6ck" title="Create episode torrents from season pack">Expand</button>',1),j_=u('<span class="episode-date svelte-f6m6ck"> </span>'),L_=u('<p class="episode-summary svelte-f6m6ck"> </p>'),R_=u("<span> </span>"),F_=u('<span class="badge badge-source svelte-f6m6ck" style="font-size: 10px;"> </span>'),B_=u('<div class="episode-item svelte-f6m6ck"><div class="episode-number svelte-f6m6ck"> </div> <div class="episode-info svelte-f6m6ck"><span class="episode-title svelte-f6m6ck"> </span> <!> <!></div> <div class="episode-torrents svelte-f6m6ck"><!> <!> <button class="btn btn-xs btn-add-torrent svelte-f6m6ck" title="Sync subtitles for this episode">CC</button> <button class="btn btn-xs btn-add-torrent svelte-f6m6ck" title="Add torrent"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg></button></div></div>'),O_=u('<div class="episodes-list svelte-f6m6ck"></div>'),N_=u('<div class="season-section svelte-f6m6ck"><div class="season-header svelte-f6m6ck" role="button" tabindex="0"><div class="season-title svelte-f6m6ck"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg> <span> </span> <span class="episode-count svelte-f6m6ck"> </span></div> <div class="season-pack-actions svelte-f6m6ck"><!> <button class="btn btn-xs btn-add-season svelte-f6m6ck" title="Add magnet link for entire season"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg> Add Season</button></div></div> <!></div>'),U_=u('<div class="seasons-list svelte-f6m6ck"></div>'),V_=u('<div class="detail-row svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">IMDB Code</span> <span class="detail-value svelte-f6m6ck"><a target="_blank" rel="noopener" class="mono link svelte-f6m6ck"> </a></span></div>'),G_=u('<div class="detail-row svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Slug</span> <span class="detail-value mono svelte-f6m6ck"> </span></div>'),H_=u('<div class="detail-row svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Date Added</span> <span class="detail-value svelte-f6m6ck"> </span></div>'),Y_=u('<div class="image-item svelte-f6m6ck"><span class="image-label svelte-f6m6ck">Poster</span> <a target="_blank" rel="noopener"><img alt="Poster" class="preview-image svelte-f6m6ck"/></a></div>'),W_=u('<div class="image-item image-wide svelte-f6m6ck"><span class="image-label svelte-f6m6ck">Background</span> <a target="_blank" rel="noopener"><img alt="Background" class="preview-image preview-wide svelte-f6m6ck"/></a></div>'),K_=u('<span class="text-muted" style="font-size: 12px;"> </span>'),X_=u('<span class="subtitle-source badge badge-source svelte-f6m6ck"> </span>'),J_=u('<span class="subtitle-hi badge badge-hi svelte-f6m6ck">HI</span>'),Q_=u('<div class="subtitle-row svelte-f6m6ck"><span class="subtitle-lang badge svelte-f6m6ck"> </span> <span class="subtitle-release svelte-f6m6ck"> </span> <!> <!> <div class="subtitle-actions svelte-f6m6ck"><button class="btn btn-xs btn-secondary svelte-f6m6ck">Preview</button> <button class="btn btn-xs btn-danger svelte-f6m6ck">Delete</button></div></div>'),Z_=u('<div class="episode-subtitle-group svelte-f6m6ck"><div class="episode-subtitle-header svelte-f6m6ck"><strong> </strong> <span class="text-muted" style="font-size: 11px;"> </span></div> <!></div>'),e1=u('<p class="text-muted">No subtitles synced</p>'),t1=u('<div class="detail-header svelte-f6m6ck"><div class="header-overlay svelte-f6m6ck"><div class="header-content svelte-f6m6ck"><a href="#/tvshows" class="back-link svelte-f6m6ck"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"></path></svg> Back to TV Shows</a> <div class="header-main svelte-f6m6ck"><!> <div class="header-info svelte-f6m6ck"><h1 class="detail-title svelte-f6m6ck"> </h1> <div class="detail-meta svelte-f6m6ck"><span class="meta-item svelte-f6m6ck"> </span> <!> <span class="meta-item svelte-f6m6ck"> </span> <span> </span></div> <!> <!> <!> <div class="header-actions svelte-f6m6ck"><button class="btn btn-primary svelte-f6m6ck"><!></button> <button class="btn btn-secondary svelte-f6m6ck"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg> Edit</button> <button class="btn btn-danger svelte-f6m6ck"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg> Delete</button></div></div></div></div></div></div> <div class="card details-card compact svelte-f6m6ck"><h3 class="svelte-f6m6ck">Details</h3> <div class="details-grid-compact svelte-f6m6ck"><div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Year</span> <span class="detail-value svelte-f6m6ck"> <!></span></div> <div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Status</span> <span class="detail-value svelte-f6m6ck"> </span></div> <div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Seasons</span> <span class="detail-value svelte-f6m6ck"> </span></div> <div class="detail-item svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Episodes</span> <span class="detail-value svelte-f6m6ck"> </span></div> <!> <!> <!></div></div> <div class="card episodes-card svelte-f6m6ck"><h3 class="svelte-f6m6ck"> </h3> <!></div> <div class="card tech-card svelte-f6m6ck"><h3 class="svelte-f6m6ck">Technical Info</h3> <div class="details-grid svelte-f6m6ck"><div class="detail-row svelte-f6m6ck"><span class="detail-label svelte-f6m6ck">Database ID</span> <span class="detail-value mono svelte-f6m6ck"> </span></div> <!> <!> <!></div></div> <div class="card images-card svelte-f6m6ck"><h3 class="svelte-f6m6ck">Images</h3> <div class="images-grid svelte-f6m6ck"><!> <!></div></div> <div class="card subtitles-card svelte-f6m6ck"><div class="subtitles-header svelte-f6m6ck"><h3 class="svelte-f6m6ck"> </h3> <div style="display: flex; align-items: center; gap: 8px;"><!> <button class="btn btn-sm btn-secondary"> </button></div></div> <!></div>',1),a1=u('<form><div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_imdb_code">IMDB Code</label> <div class="input-with-button svelte-f6m6ck"><input type="text" id="edit_imdb_code" class="form-input svelte-f6m6ck" placeholder="tt1234567"/> <button type="button" class="btn btn-sm btn-secondary"> </button></div></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_title">Title *</label> <input type="text" id="edit_title" class="form-input svelte-f6m6ck" required/></div></div> <div class="form-row form-row-4 svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_year">Year</label> <input type="number" id="edit_year" class="form-input svelte-f6m6ck"/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_rating">Rating</label> <input type="number" id="edit_rating" class="form-input svelte-f6m6ck" step="0.1" min="0" max="10"/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_runtime">Runtime (min)</label> <input type="number" id="edit_runtime" class="form-input svelte-f6m6ck" min="0"/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_total_seasons">Seasons</label> <input type="number" id="edit_total_seasons" class="form-input svelte-f6m6ck" min="1"/></div></div> <div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_genres">Genres</label> <input type="text" id="edit_genres" class="form-input svelte-f6m6ck" placeholder="Drama, Thriller"/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_status">Status</label> <select id="edit_status" class="form-input svelte-f6m6ck"><option>Continuing</option><option>Ended</option></select></div></div> <div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_poster">Poster Image URL</label> <input type="text" id="edit_poster" class="form-input svelte-f6m6ck" placeholder="https://..."/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_background">Background Image URL</label> <input type="text" id="edit_background" class="form-input svelte-f6m6ck" placeholder="https://..."/></div></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_network">Network</label> <input type="text" id="edit_network" class="form-input svelte-f6m6ck" placeholder="HBO, Netflix, AMC..."/></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="edit_summary">Summary</label> <textarea id="edit_summary" class="form-input form-textarea svelte-f6m6ck" rows="3"></textarea></div></form>'),s1=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Save Changes</button>',1),r1=u('<p class="delete-warning svelte-f6m6ck">Are you sure you want to delete <strong> </strong>?</p> <p class="text-muted">This action cannot be undone. All episodes and torrents will also be removed.</p>',1),n1=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-danger">Delete</button>',1),i1=u('<p class="torrent-episode-info svelte-f6m6ck"><strong> </strong> </p>'),l1=u('<!> <form><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="torrent_hash">Torrent Hash / Magnet Link *</label> <input type="text" id="torrent_hash" class="form-input svelte-f6m6ck" placeholder="Magnet link or info hash" required/></div> <div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="torrent_quality">Quality</label> <select id="torrent_quality" class="form-input svelte-f6m6ck"><option>480p</option><option>720p</option><option>1080p</option><option>2160p (4K)</option></select></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="torrent_size">Size</label> <input type="text" id="torrent_size" class="form-input svelte-f6m6ck" placeholder="500 MB"/></div></div></form>',1),o1=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Add Torrent</button>',1),v1=u('<p class="torrent-season-info svelte-f6m6ck"><strong> </strong> </p> <p class="text-muted text-sm svelte-f6m6ck">Paste a magnet link for the entire season. A torrent entry will be created for each episode with the correct file index.</p>',1),c1=u('<!> <form><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="season_magnet">Magnet Link / Hash *</label> <textarea id="season_magnet" class="form-input form-textarea svelte-f6m6ck" placeholder="magnet:?xt=urn:btih:... or just the hash" rows="3" required></textarea></div> <div class="form-row svelte-f6m6ck"><div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="season_quality">Quality</label> <select id="season_quality" class="form-input svelte-f6m6ck"><option>480p</option><option>720p</option><option>1080p</option><option>2160p (4K)</option></select></div> <div class="form-group svelte-f6m6ck"><label class="form-label svelte-f6m6ck" for="season_size">Total Size (optional)</label> <input type="text" id="season_size" class="form-input svelte-f6m6ck" placeholder="16.1 GB"/> <span class="form-hint svelte-f6m6ck">Will be divided among episodes</span></div></div></form>',1),d1=u('<button class="btn btn-secondary">Cancel</button> <button class="btn btn-primary">Add to All Episodes</button>',1),u1=u('<div class="loading-small svelte-f6m6ck">Loading preview...</div>'),p1=u('<div class="preview-info svelte-f6m6ck"><span class="badge"> </span> <span class="preview-release svelte-f6m6ck"> </span> <span class="text-muted"> </span></div> <pre class="vtt-preview svelte-f6m6ck"> </pre>',1),f1=u('<p class="text-muted">Failed to load preview</p>'),_1=u('<button class="btn btn-secondary">Close</button>'),m1=u('<div class="detail-page svelte-f6m6ck"><!></div> <!> <!> <!> <!> <!>',1);function Mo(t,i){if(new.target)return La({component:Mo,...t});Aa(i,!1);let l=ls(i,"params",12),s=Z(null),c=Z(!0),d=Z(!1),_=Z(!1),m=Z(new Map),k=Z(new Set),w=Z([]),$=Z(!1),I=Z(null),L=Z(!1),V=Z(!1),A=Z(""),ee=Z(!1),S=Z(!1),g=Z(!1),x=Z(!1),j=Z(null),ce=Z(null),ve=Z({hash:"",quality:"1080p",size:""}),he=Z({magnet:"",quality:"1080p",totalSize:""}),z=Z({imdb_code:"",title:"",year:0,rating:0,runtime:0,genres:"",summary:"",poster_image:"",background_image:"",total_seasons:1,status:"Continuing",network:""});Ms(async()=>{await ne()});async function ne(){o(c,!0);try{o(s,await Yc(parseInt(l().id))),e(s)&&(Se(),e(m).size>0&&e(k).add(Math.min(...e(m).keys())),pt())}catch(D){console.error("Failed to load series:",D)}finally{o(c,!1)}}function Se(){if(o(m,new Map),e(s)?.episodes){for(const D of e(s).episodes){const ue=D.season_number;e(m).has(ue)||e(m).set(ue,[]),e(m).get(ue).push(D)}for(const[D,ue]of e(m))ue.sort((oe,Te)=>oe.episode_number-Te.episode_number)}}function P(D){e(k).has(D)?e(k).delete(D):e(k).add(D),o(k,e(k))}async function De(){if(e(s)){o(_,!0);try{const D=await fetch("/api/v2/refresh_series",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({series_id:e(s).id})});if(D.ok)await ne();else{const ue=await D.json();alert("Failed to refresh: "+(ue.status_message||"Unknown error"))}}catch(D){console.error("Failed to refresh series:",D)}finally{o(_,!1)}}}async function pt(){if(e(s)?.imdb_code)try{const D=await yo(e(s).imdb_code);o(w,D.subtitles||[])}catch(D){console.error("Failed to load subtitles:",D)}}async function at(D){o(L,!0),o($,!0),o(I,null);try{o(I,await xo(D))}catch(ue){console.error("Failed to load preview:",ue)}finally{o(L,!1)}}async function bt(D){try{await ko(D),o(w,e(w).filter(ue=>ue.id!==D))}catch(ue){console.error("Failed to delete subtitle:",ue)}}async function Be(D,ue){if(!e(s)?.imdb_code)return;const oe=`S${String(D).padStart(2,"0")}E${String(ue).padStart(2,"0")}`;o(A,oe);try{await gi(e(s).imdb_code,void 0,D,ue),await pt()}catch(Te){console.error(`Failed to sync subtitles for ${oe}:`,Te)}finally{o(A,"")}}async function st(){if(e(s)?.imdb_code){o(V,!0);try{for(const[D,ue]of e(m))for(const oe of ue)o(A,`S${String(D).padStart(2,"0")}E${String(oe.episode_number).padStart(2,"0")}`),await gi(e(s).imdb_code,void 0,D,oe.episode_number);await pt()}catch(D){console.error("Failed to sync subtitles:",D)}finally{o(V,!1),o(A,"")}}}function Dt(){e(s)&&(o(z,{imdb_code:e(s).imdb_code||"",title:e(s).title,year:e(s).year,rating:e(s).rating||0,runtime:e(s).runtime||0,genres:e(s).genres?.join(", ")||"",summary:e(s).summary||"",poster_image:e(s).poster_image||"",background_image:e(s).background_image||"",total_seasons:e(s).total_seasons||1,status:e(s).status||"Continuing",network:e(s).network||""}),o(ee,!0))}async function Lt(){if(e(s))try{await bo(e(s).id,{imdb_code:e(z).imdb_code,title:e(z).title,year:e(z).year,rating:e(z).rating,runtime:e(z).runtime,genres:e(z).genres,summary:e(z).summary,poster_image:e(z).poster_image,background_image:e(z).background_image,total_seasons:e(z).total_seasons,status:e(z).status,network:e(z).network}),o(ee,!1),await ne()}catch(D){console.error("Failed to update series:",D)}}async function St(){if(e(s))try{await go(e(s).id),o(S,!1),jn("/tvshows")}catch(D){console.error("Failed to delete series:",D)}}async function ft(){if(e(z).imdb_code){o(d,!0);try{const D=await fetch(`/admin/api/imdb/title/${e(z).imdb_code}`);if(D.ok){const ue=await D.json();se(z,e(z).title=ue.primaryTitle||e(z).title),se(z,e(z).year=ue.startYear||e(z).year),se(z,e(z).rating=ue.rating?.aggregateRating||e(z).rating),se(z,e(z).runtime=ue.runtimeSeconds?Math.round(ue.runtimeSeconds/60):e(z).runtime),se(z,e(z).genres=ue.genres?.join(", ")||e(z).genres),se(z,e(z).summary=ue.plot||e(z).summary),se(z,e(z).poster_image=ue.primaryImage?.url||e(z).poster_image),ue.totalSeasons&&se(z,e(z).total_seasons=ue.totalSeasons),se(z,e(z).status=ue.endYear?"Ended":"Continuing")}}catch(D){console.error("Failed to fetch from IMDB:",D)}finally{o(d,!1)}}}function Et(D){return e(s)?.season_packs?.find(ue=>ue.season===D)}function pa(D){o(j,D),o(ve,{hash:"",quality:"1080p",size:""}),o(g,!0)}async function Qt(){if(!(!e(j)||!e(s)))try{const D=await fetch(`/admin/episodes/${e(j).id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:e(ve).hash,quality:e(ve).quality,size:e(ve).size,series_id:String(e(s).id),season_number:String(e(j).season_number),episode_number:String(e(j).episode_number)})});if(D.ok)o(g,!1),o(j,null),o(ve,{hash:"",quality:"1080p",size:""}),await ne();else{const ue=await D.json();alert("Failed to add torrent: "+(ue.error||"Unknown error"))}}catch(D){console.error("Failed to add torrent:",D)}}async function xt(D){if(!D.id&&!e(s)?.season_packs?.find(oe=>oe.season===D.season&&oe.quality===D.quality)){alert("Season pack not found");return}try{const ue=await fetch(`/admin/api/season-packs/${D.id||0}/expand`,{method:"POST",headers:{Accept:"application/json"}}),oe=await ue.json();ue.ok&&oe.success?(alert(`Created ${oe.created} episode torrents from season pack`),await ne()):alert("Failed to expand season pack: "+(oe.error||"Unknown error"))}catch(ue){console.error("Failed to expand season pack:",ue)}}function kt(D){o(ce,D),o(he,{magnet:"",quality:"1080p",totalSize:""}),o(x,!0)}function Mt(D){const ue=D.match(/btih:([a-fA-F0-9]{40})/i);if(ue)return ue[1].toUpperCase();const oe=D.match(/btih:([A-Za-z2-7]{32})/i);return oe?oe[1].toUpperCase():D.trim().toUpperCase()}async function Je(){if(!e(s)||e(ce)===null)return;const D=Mt(e(he).magnet);if(!D){alert("Please enter a valid magnet link or hash");return}const ue=e(m).get(e(ce))||[];if(ue.length===0){alert("No episodes found for this season");return}let oe="";if(e(he).totalSize){const q=e(he).totalSize.match(/([\d.]+)\s*(GB|MB|TB)/i);if(q){const be=parseFloat(q[1]),M=q[2].toUpperCase();oe=`${(be/ue.length).toFixed(1)} ${M}`}}let Te=0,Me=0;for(let q=0;q<ue.length;q++){const be=ue[q];try{(await fetch(`/admin/episodes/${be.id}/torrent`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({hash:D,quality:e(he).quality,size:oe,series_id:String(e(s).id),season_number:String(e(ce)),episode_number:String(be.episode_number),file_index:String(q)})})).ok?Te++:Me++}catch{Me++}}o(x,!1),o(ce,null),Te>0?(alert(`Added torrent to ${Te} episodes`+(Me>0?` (${Me} failed)`:"")),await ne()):alert("Failed to add torrents")}var wt={get params(){return l()},set params(D){l(D),Wa()},$set:Fa,$on:(D,ue)=>Ra(i,D,ue)};Ns();var K=m1(),Oe=ge(K),He=r(Oe);{var et=D=>{var ue=y_();v(D,ue)},Nt=D=>{var ue=Tt(),oe=ge(ue);{var Te=q=>{var be=x_();v(q,be)},Me=q=>{var be=t1(),M=ge(be),X=r(M),h=r(X),E=n(r(h),2),R=r(E);{var F=$e=>{var qe=k_();b(()=>{vt(qe,"src",(e(s),p(()=>e(s).poster_image))),vt(qe,"alt",(e(s),p(()=>e(s).title)))}),v($e,qe)},G=$e=>{var qe=w_(),Ze=r(qe),yt=r(Ze,!0);a(Ze),a(qe),b(Ht=>f(yt,Ht),[()=>(e(s),p(()=>e(s).title.charAt(0)))]),v($e,qe)};y(R,$e=>{e(s),p(()=>e(s).poster_image)?$e(F):$e(G,!1)})}var C=n(R,2),T=r(C),H=r(T,!0);a(T);var W=n(T,2),te=r(W),ae=r(te,!0);a(te);var J=n(te,2);{var le=$e=>{var qe=S_(),Ze=r(qe);a(qe),b(()=>f(Ze,`${e(s),p(()=>e(s).runtime)??""} min/ep`)),v($e,qe)};y(J,$e=>{e(s),p(()=>e(s).runtime)&&$e(le)})}var B=n(J,2),pe=r(B);a(B);var Ae=n(B,2),ie=r(Ae,!0);a(Ae),a(W);var O=n(W,2);{var Q=$e=>{var qe=C_();lt(qe,5,()=>(e(s),p(()=>e(s).genres)),it,(Ze,yt)=>{var Ht=$_(),Ot=r(Ht,!0);a(Ht),b(()=>f(Ot,e(yt))),v(Ze,Ht)}),a(qe),v($e,qe)};y(O,$e=>{e(s),p(()=>e(s).genres&&e(s).genres.length>0)&&$e(Q)})}var fe=n(O,2);{var xe=$e=>{var qe=z_(),Ze=n(r(qe),2),yt=r(Ze,!0);a(Ze),ut(2),a(qe),b(Ht=>f(yt,Ht),[()=>(e(s),p(()=>e(s).rating.toFixed(1)))]),v($e,qe)};y(fe,$e=>{e(s),p(()=>e(s).rating)&&$e(xe)})}var ye=n(fe,2);{var je=$e=>{var qe=T_(),Ze=r(qe,!0);a(qe),b(()=>f(Ze,(e(s),p(()=>e(s).summary)))),v($e,qe)};y(ye,$e=>{e(s),p(()=>e(s).summary)&&$e(je)})}var Pe=n(ye,2),ke=r(Pe),_e=r(ke);{var Ee=$e=>{var qe=E_();ut(),v($e,qe)},ze=$e=>{var qe=M_();ut(),v($e,qe)};y(_e,$e=>{e(_)?$e(Ee):$e(ze,!1)})}a(ke);var de=n(ke,2),Ue=n(de,2);a(Pe),a(C),a(E),a(h),a(X),a(M);var ot=n(M,2),Re=n(r(ot),2),Le=r(Re),Ke=n(r(Le),2),_t=r(Ke,!0),mt=n(_t);{var At=$e=>{var qe=zr();b(()=>f(qe,`-${e(s),p(()=>e(s).end_year)??""}`)),v($e,qe)};y(mt,$e=>{e(s),p(()=>e(s).end_year&&e(s).end_year!==e(s).year)&&$e(At)})}a(Ke),a(Le);var ht=n(Le,2),Gt=n(r(ht),2),fa=r(Gt,!0);a(Gt),a(ht);var dt=n(ht,2),Ne=n(r(dt),2),Ut=r(Ne,!0);a(Ne),a(dt);var _a=n(dt,2),We=n(r(_a),2),Vt=r(We,!0);a(We),a(_a);var $t=n(_a,2);{var Ta=$e=>{var qe=A_(),Ze=n(r(qe),2),yt=r(Ze);a(Ze),a(qe),b(()=>f(yt,`${e(s),p(()=>e(s).runtime)??""} min`)),v($e,qe)};y($t,$e=>{e(s),p(()=>e(s).runtime)&&$e(Ta)})}var Ja=n($t,2);{var Ga=$e=>{var qe=q_(),Ze=n(r(qe),2),yt=r(Ze,!0);a(Ze),a(qe),b(()=>f(yt,(e(s),p(()=>e(s).network)))),v($e,qe)};y(Ja,$e=>{e(s),p(()=>e(s).network)&&$e(Ga)})}var os=n(Ja,2);{var As=$e=>{var qe=D_(),Ze=n(r(qe),2),yt=r(Ze,!0);a(Ze),a(qe),b(Ht=>f(yt,Ht),[()=>(e(s),p(()=>e(s).genres.join(", ")))]),v($e,qe)};y(os,$e=>{e(s),p(()=>e(s).genres&&e(s).genres.length>0)&&$e(As)})}a(Re),a(ot);var Ka=n(ot,2),Qa=r(Ka),ct=r(Qa);a(Qa);var Da=n(Qa,2);{var Ba=$e=>{var qe=I_();v($e,qe)},ba=$e=>{var qe=U_();lt(qe,5,()=>(e(m),p(()=>[...e(m).entries()].sort((Ze,yt)=>Ze[0]-yt[0]))),it,(Ze,yt)=>{var Ht=Ir(()=>Ui(e(yt),2));let Ot=()=>e(Ht)[0],Ia=()=>e(Ht)[1];const bs=wn(()=>(Ot(),p(()=>Et(Ot()))));var es=N_(),vs=r(es),cs=r(vs),Vs=r(cs);let Gs;var ys=n(Vs,2),tr=r(ys);a(ys);var ar=n(ys,2),hr=r(ar);a(ar),a(cs);var Ma=n(cs,2),xs=r(Ma);{var sr=ka=>{var Ya=P_(),ts=ge(Ya),Yt=n(r(ts));a(ts);var as=n(ts,2);b(()=>f(Yt,` ${Qr(e(bs)),p(()=>e(bs).quality)??""} â¢ ${Qr(e(bs)),p(()=>e(bs).size)??""}`)),Y("click",as,vr(()=>xt(e(bs)))),v(ka,Ya)};y(xs,ka=>{e(bs)&&ka(sr)})}var Zt=n(xs,2);a(Ma),a(vs);var na=n(vs,2);{var Hs=ka=>{var Ya=O_();lt(Ya,5,Ia,it,(ts,Yt)=>{var as=B_(),gr=r(as),dn=r(gr);a(gr);var ds=n(gr,2),Ps=r(ds),un=r(Ps,!0);a(Ps);var N=n(Ps,2);{var U=nt=>{var It=j_(),wa=r(It,!0);a(It),b(()=>f(wa,(e(Yt),p(()=>e(Yt).air_date)))),v(nt,It)};y(N,nt=>{e(Yt),p(()=>e(Yt).air_date)&&nt(U)})}var me=n(N,2);{var Fe=nt=>{var It=L_(),wa=r(It,!0);a(It),b(()=>f(wa,(e(Yt),p(()=>e(Yt).summary)))),v(nt,It)};y(me,nt=>{e(Yt),p(()=>e(Yt).summary)&&nt(Fe)})}a(ds);var Ge=n(ds,2),da=r(Ge);{var ua=nt=>{var It=Tt(),wa=ge(It);lt(wa,1,()=>(e(Yt),p(()=>e(Yt).torrents)),it,(ia,la)=>{var Ca=R_(),Oa=r(Ca,!0);a(Ca),b(()=>{rt(Ca,1,`torrent-badge badge-${e(la),p(()=>e(la).quality)??""}`,"svelte-f6m6ck"),f(Oa,(e(la),p(()=>e(la).quality)))}),v(ia,Ca)}),v(nt,It)};y(da,nt=>{e(Yt),p(()=>e(Yt).torrents&&e(Yt).torrents.length>0)&&nt(ua)})}var zt=n(da,2);{var Ft=nt=>{var It=F_(),wa=r(It);a(It),b((ia,la)=>{vt(It,"title",`${ia??""} subtitle(s)`),f(wa,`${la??""} CC`)},[()=>(e(w),Ot(),e(Yt),p(()=>e(w).filter(ia=>ia.season_number===Ot()&&ia.episode_number===e(Yt).episode_number).length)),()=>(e(w),Ot(),e(Yt),p(()=>e(w).filter(ia=>ia.season_number===Ot()&&ia.episode_number===e(Yt).episode_number).length))]),v(nt,It)};y(zt,nt=>{e(w),Ot(),e(Yt),p(()=>e(w).filter(It=>It.season_number===Ot()&&It.episode_number===e(Yt).episode_number).length>0)&&nt(Ft)})}var qt=n(zt,2),Wt=n(qt,2);a(Ge),a(as),b(nt=>{f(dn,`E${e(Yt),p(()=>e(Yt).episode_number)??""}`),f(un,(e(Yt),p(()=>e(Yt).title||`Episode ${e(Yt).episode_number}`))),qt.disabled=nt},[()=>(e(A),Ot(),e(Yt),p(()=>e(A)===`S${String(Ot()).padStart(2,"0")}E${String(e(Yt).episode_number).padStart(2,"0")}`))]),Y("click",qt,vr(()=>Be(Ot(),e(Yt).episode_number))),Y("click",Wt,()=>pa(e(Yt))),v(ts,as)}),a(Ya),v(ka,Ya)};y(na,ka=>{e(k),Ot(),p(()=>e(k).has(Ot()))&&ka(Hs)})}a(es),b(ka=>{Gs=rt(Vs,0,"chevron svelte-f6m6ck",null,Gs,ka),f(tr,`Season ${Ot()??""}`),f(hr,`${Ia(),p(()=>Ia().length)??""} episodes`)},[()=>({expanded:e(k).has(Ot())})]),Y("click",Zt,vr(()=>kt(Ot()))),Y("click",vs,()=>P(Ot())),Y("keypress",vs,ka=>ka.key==="Enter"&&P(Ot())),v(Ze,es)}),a(qe),v($e,qe)};y(Da,$e=>{e(m),p(()=>e(m).size===0)?$e(Ba):$e(ba,!1)})}a(Ka);var Ha=n(Ka,2),qs=n(r(Ha),2),hs=r(qs),fr=n(r(hs),2),_r=r(fr,!0);a(fr),a(hs);var Qs=n(hs,2);{var Ye=$e=>{var qe=V_(),Ze=n(r(qe),2),yt=r(Ze),Ht=r(yt,!0);a(yt),a(Ze),a(qe),b(()=>{vt(yt,"href",`https://www.imdb.com/title/${e(s),p(()=>e(s).imdb_code)??""}`),f(Ht,(e(s),p(()=>e(s).imdb_code)))}),v($e,qe)};y(Qs,$e=>{e(s),p(()=>e(s).imdb_code)&&$e(Ye)})}var Xe=n(Qs,2);{var gt=$e=>{var qe=G_(),Ze=n(r(qe),2),yt=r(Ze,!0);a(Ze),a(qe),b(()=>f(yt,(e(s),p(()=>e(s).title_slug)))),v($e,qe)};y(Xe,$e=>{e(s),p(()=>e(s).title_slug)&&$e(gt)})}var Ct=n(Xe,2);{var ea=$e=>{var qe=H_(),Ze=n(r(qe),2),yt=r(Ze,!0);a(Ze),a(qe),b(()=>f(yt,(e(s),p(()=>e(s).date_added)))),v($e,qe)};y(Ct,$e=>{e(s),p(()=>e(s).date_added)&&$e(ea)})}a(qs),a(Ha);var Kt=n(Ha,2),Bt=n(r(Kt),2),ta=r(Bt);{var va=$e=>{var qe=Y_(),Ze=n(r(qe),2),yt=r(Ze);a(Ze),a(qe),b(()=>{vt(Ze,"href",(e(s),p(()=>e(s).poster_image))),vt(yt,"src",(e(s),p(()=>e(s).poster_image)))}),v($e,qe)};y(ta,$e=>{e(s),p(()=>e(s).poster_image)&&$e(va)})}var ha=n(ta,2);{var ca=$e=>{var qe=W_(),Ze=n(r(qe),2),yt=r(Ze);a(Ze),a(qe),b(()=>{vt(Ze,"href",(e(s),p(()=>e(s).background_image))),vt(yt,"src",(e(s),p(()=>e(s).background_image)))}),v($e,qe)};y(ha,$e=>{e(s),p(()=>e(s).background_image)&&$e(ca)})}a(Bt),a(Kt);var xa=n(Kt,2),Ea=r(xa),Za=r(Ea),Ds=r(Za);a(Za);var mr=n(Za,2),Mr=r(mr);{var Zs=$e=>{var qe=K_(),Ze=r(qe);a(qe),b(()=>f(Ze,`${e(A)??""}...`)),v($e,qe)};y(Mr,$e=>{e(A)&&$e(Zs)})}var Rt=n(Mr,2),gs=r(Rt,!0);a(Rt),a(mr),a(Ea);var Is=n(Ea,2);{var Us=$e=>{const qe=wn(()=>(e(w),p(()=>e(w).reduce((Ht,Ot)=>{const Ia=Ot.season_number&&Ot.episode_number?`S${String(Ot.season_number).padStart(2,"0")}E${String(Ot.episode_number).padStart(2,"0")}`:"General";return Ht[Ia]||(Ht[Ia]=[]),Ht[Ia].push(Ot),Ht},{}))));var Ze=Tt(),yt=ge(Ze);lt(yt,1,()=>(Qr(e(qe)),p(()=>Object.entries(e(qe)).sort(([Ht],[Ot])=>Ht.localeCompare(Ot)))),it,(Ht,Ot)=>{var Ia=Ir(()=>Ui(e(Ot),2));let bs=()=>e(Ia)[0],es=()=>e(Ia)[1];var vs=Z_(),cs=r(vs),Vs=r(cs),Gs=r(Vs,!0);a(Vs);var ys=n(Vs,2),tr=r(ys);a(ys),a(cs);var ar=n(cs,2);lt(ar,1,es,it,(hr,Ma)=>{var xs=Q_(),sr=r(xs),Zt=r(sr,!0);a(sr);var na=n(sr,2),Hs=r(na,!0);a(na);var ka=n(na,2);{var Ya=ds=>{var Ps=X_(),un=r(Ps,!0);a(Ps),b(()=>f(un,(e(Ma),p(()=>e(Ma).source)))),v(ds,Ps)};y(ka,ds=>{e(Ma),p(()=>e(Ma).source)&&ds(Ya)})}var ts=n(ka,2);{var Yt=ds=>{var Ps=J_();v(ds,Ps)};y(ts,ds=>{e(Ma),p(()=>e(Ma).hearing_impaired)&&ds(Yt)})}var as=n(ts,2),gr=r(as),dn=n(gr,2);a(as),a(xs),b(()=>{f(Zt,(e(Ma),p(()=>e(Ma).language_name||e(Ma).language))),f(Hs,(e(Ma),p(()=>e(Ma).release_name||"Unknown")))}),Y("click",gr,()=>at(e(Ma).id)),Y("click",dn,()=>bt(e(Ma).id)),v(hr,xs)}),a(vs),b(()=>{f(Gs,bs()),f(tr,`${es(),p(()=>es().length)??""} sub${es(),p(()=>es().length!==1?"s":"")??""}`)}),v(Ht,vs)}),v($e,Ze)},er=$e=>{var qe=e1();v($e,qe)};y(Is,$e=>{e(w),p(()=>e(w).length>0)?$e(Us):$e(er,!1)})}a(xa),b($e=>{Er(M,`background-image: url('${e(s),p(()=>e(s).background_image||e(s).poster_image)??""}')`),f(H,(e(s),p(()=>e(s).title))),f(ae,(e(s),p(()=>e(s).year))),f(pe,`${e(s),p(()=>e(s).total_seasons)??""} Season${e(s),p(()=>e(s).total_seasons!==1?"s":"")??""}`),rt(Ae,1,`status-badge status-${$e??""}`,"svelte-f6m6ck"),f(ie,(e(s),p(()=>e(s).status))),ke.disabled=(e(_),e(s),p(()=>e(_)||!e(s).imdb_code)),f(_t,(e(s),p(()=>e(s).year))),f(fa,(e(s),p(()=>e(s).status))),f(Ut,(e(s),p(()=>e(s).total_seasons))),f(Vt,(e(s),p(()=>e(s).total_episodes||e(s).episodes?.length||0))),f(ct,`Episodes (${e(s),p(()=>e(s).episodes?.length||0)??""})`),f(_r,(e(s),p(()=>e(s).id))),f(Ds,`Subtitles (${e(w),p(()=>e(w).length)??""})`),Rt.disabled=(e(V),e(s),p(()=>e(V)||!e(s).imdb_code)),f(gs,e(V)?"SYNCING ALL...":"SYNC ALL")},[()=>(e(s),p(()=>e(s).status?.toLowerCase()))]),Y("click",ke,De),Y("click",de,Dt),Y("click",Ue,()=>o(S,!0)),Y("click",Rt,st),v(q,be)};y(oe,q=>{e(s)?q(Me,!1):q(Te)},!0)}v(D,ue)};y(He,D=>{e(c)?D(et):D(Nt,!1)})}a(Oe);var Pt=n(Oe,2);za(Pt,{title:"Edit Series",size:"lg",get open(){return e(ee)},set open(D){o(ee,D)},$$events:{close:()=>o(ee,!1)},children:(D,ue)=>{var oe=a1(),Te=r(oe),Me=r(Te),q=n(r(Me),2),be=r(q);we(be);var M=n(be,2),X=r(M,!0);a(M),a(q),a(Me);var h=n(Me,2),E=n(r(h),2);we(E),a(h),a(Te);var R=n(Te,2),F=r(R),G=n(r(F),2);we(G),a(F);var C=n(F,2),T=n(r(C),2);we(T),a(C);var H=n(C,2),W=n(r(H),2);we(W),a(H);var te=n(H,2),ae=n(r(te),2);we(ae),a(te),a(R);var J=n(R,2),le=r(J),B=n(r(le),2);we(B),a(le);var pe=n(le,2),Ae=n(r(pe),2);b(()=>{e(z),rs(()=>{})});var ie=r(Ae);ie.value=ie.__value="Continuing";var O=n(ie);O.value=O.__value="Ended",a(Ae),a(pe),a(J);var Q=n(J,2),fe=r(Q),xe=n(r(fe),2);we(xe),a(fe);var ye=n(fe,2),je=n(r(ye),2);we(je),a(ye),a(Q);var Pe=n(Q,2),ke=n(r(Pe),2);we(ke),a(Pe);var _e=n(Pe,2),Ee=n(r(_e),2);Ur(Ee),a(_e),a(oe),b(()=>{M.disabled=(e(d),e(z),p(()=>e(d)||!e(z).imdb_code)),f(X,e(d)?"Updating...":"Fetch")}),Ce(be,()=>e(z).imdb_code,ze=>se(z,e(z).imdb_code=ze)),Y("click",M,ft),Ce(E,()=>e(z).title,ze=>se(z,e(z).title=ze)),Ce(G,()=>e(z).year,ze=>se(z,e(z).year=ze)),Ce(T,()=>e(z).rating,ze=>se(z,e(z).rating=ze)),Ce(W,()=>e(z).runtime,ze=>se(z,e(z).runtime=ze)),Ce(ae,()=>e(z).total_seasons,ze=>se(z,e(z).total_seasons=ze)),Ce(B,()=>e(z).genres,ze=>se(z,e(z).genres=ze)),ga(Ae,()=>e(z).status,ze=>se(z,e(z).status=ze)),Ce(xe,()=>e(z).poster_image,ze=>se(z,e(z).poster_image=ze)),Ce(je,()=>e(z).background_image,ze=>se(z,e(z).background_image=ze)),Ce(ke,()=>e(z).network,ze=>se(z,e(z).network=ze)),Ce(Ee,()=>e(z).summary,ze=>se(z,e(z).summary=ze)),Y("submit",oe,Bs(Lt)),v(D,oe)},$$slots:{default:!0,footer:(D,ue)=>{var oe=s1(),Te=ge(oe),Me=n(Te,2);Y("click",Te,()=>o(ee,!1)),Y("click",Me,Lt),v(D,oe)}},$$legacy:!0});var re=n(Pt,2);za(re,{title:"Delete Series",size:"sm",get open(){return e(S)},set open(D){o(S,D)},$$events:{close:()=>o(S,!1)},children:(D,ue)=>{var oe=r1(),Te=ge(oe),Me=n(r(Te)),q=r(Me,!0);a(Me),ut(),a(Te),ut(2),b(()=>f(q,(e(s),p(()=>e(s)?.title)))),v(D,oe)},$$slots:{default:!0,footer:(D,ue)=>{var oe=n1(),Te=ge(oe),Me=n(Te,2);Y("click",Te,()=>o(S,!1)),Y("click",Me,St),v(D,oe)}},$$legacy:!0});var Ie=n(re,2);za(Ie,{title:"Add Episode Torrent",size:"md",get open(){return e(g)},set open(D){o(g,D)},$$events:{close:()=>o(g,!1)},children:(D,ue)=>{var oe=l1(),Te=ge(oe);{var Me=W=>{var te=i1(),ae=r(te),J=r(ae);a(ae);var le=n(ae);a(te),b((B,pe)=>{f(J,`S${B??""}E${pe??""}`),f(le,` - ${e(j),p(()=>e(j).title||`Episode ${e(j).episode_number}`)??""}`)},[()=>(e(j),p(()=>String(e(j).season_number).padStart(2,"0"))),()=>(e(j),p(()=>String(e(j).episode_number).padStart(2,"0")))]),v(W,te)};y(Te,W=>{e(j)&&W(Me)})}var q=n(Te,2),be=r(q),M=n(r(be),2);we(M),a(be);var X=n(be,2),h=r(X),E=n(r(h),2);b(()=>{e(ve),rs(()=>{})});var R=r(E);R.value=R.__value="480p";var F=n(R);F.value=F.__value="720p";var G=n(F);G.value=G.__value="1080p";var C=n(G);C.value=C.__value="2160p",a(E),a(h);var T=n(h,2),H=n(r(T),2);we(H),a(T),a(X),a(q),Ce(M,()=>e(ve).hash,W=>se(ve,e(ve).hash=W)),ga(E,()=>e(ve).quality,W=>se(ve,e(ve).quality=W)),Ce(H,()=>e(ve).size,W=>se(ve,e(ve).size=W)),Y("submit",q,Bs(Qt)),v(D,oe)},$$slots:{default:!0,footer:(D,ue)=>{var oe=o1(),Te=ge(oe),Me=n(Te,2);Y("click",Te,()=>o(g,!1)),Y("click",Me,Qt),v(D,oe)}},$$legacy:!0});var Ve=n(Ie,2);za(Ve,{title:"Add Season Torrent",size:"md",get open(){return e(x)},set open(D){o(x,D)},$$events:{close:()=>o(x,!1)},children:(D,ue)=>{var oe=c1(),Te=ge(oe);{var Me=W=>{var te=v1(),ae=ge(te),J=r(ae),le=r(J);a(J);var B=n(J);a(ae),ut(2),b(pe=>{f(le,`Season ${e(ce)??""}`),f(B,` - ${pe??""} episodes`)},[()=>(e(m),e(ce),p(()=>e(m).get(e(ce))?.length||0))]),v(W,te)};y(Te,W=>{e(ce)!==null&&W(Me)})}var q=n(Te,2),be=r(q),M=n(r(be),2);Ur(M),a(be);var X=n(be,2),h=r(X),E=n(r(h),2);b(()=>{e(he),rs(()=>{})});var R=r(E);R.value=R.__value="480p";var F=n(R);F.value=F.__value="720p";var G=n(F);G.value=G.__value="1080p";var C=n(G);C.value=C.__value="2160p",a(E),a(h);var T=n(h,2),H=n(r(T),2);we(H),ut(2),a(T),a(X),a(q),Ce(M,()=>e(he).magnet,W=>se(he,e(he).magnet=W)),ga(E,()=>e(he).quality,W=>se(he,e(he).quality=W)),Ce(H,()=>e(he).totalSize,W=>se(he,e(he).totalSize=W)),Y("submit",q,Bs(Je)),v(D,oe)},$$slots:{default:!0,footer:(D,ue)=>{var oe=d1(),Te=ge(oe),Me=n(Te,2);Y("click",Te,()=>o(x,!1)),Y("click",Me,Je),v(D,oe)}},$$legacy:!0});var Qe=n(Ve,2);return za(Qe,{title:"Subtitle Preview",size:"lg",get open(){return e($)},set open(D){o($,D)},$$events:{close:()=>o($,!1)},children:(D,ue)=>{var oe=Tt(),Te=ge(oe);{var Me=be=>{var M=u1();v(be,M)},q=be=>{var M=Tt(),X=ge(M);{var h=R=>{var F=p1(),G=ge(F),C=r(G),T=r(C,!0);a(C);var H=n(C,2),W=r(H,!0);a(H);var te=n(H,2),ae=r(te);a(te),a(G);var J=n(G,2),le=r(J,!0);a(J),b(()=>{f(T,(e(I),p(()=>e(I).language))),f(W,(e(I),p(()=>e(I).release_name))),f(ae,`(${e(I),p(()=>e(I).total_lines)??""} total lines)`),f(le,(e(I),p(()=>e(I).preview)))}),v(R,F)},E=R=>{var F=f1();v(R,F)};y(X,R=>{e(I)?R(h):R(E,!1)},!0)}v(be,M)};y(Te,be=>{e(L)?be(Me):be(q,!1)})}v(D,oe)},$$slots:{default:!0,footer:(D,ue)=>{var oe=_1();Y("click",oe,()=>o($,!1)),v(D,oe)}},$$legacy:!0}),v(t,K),qa(wt)}var h1=u('<div class="not-found svelte-14us6pi"><h1 class="svelte-14us6pi">404</h1> <p class="svelte-14us6pi">Page not found</p></div>'),g1=u('<span class="sync-progress svelte-14us6pi"> </span>'),b1=u('<div class="sync-banner svelte-14us6pi"><div class="sync-info svelte-14us6pi"><span class="sync-spinner svelte-14us6pi"></span> <span class="sync-text svelte-14us6pi"> </span> <!></div> <div class="sync-bar svelte-14us6pi"><div class="sync-bar-fill svelte-14us6pi"></div></div></div>'),y1=u('<div class="sync-error svelte-14us6pi"> </div>'),x1=u('<span class="blocklist-count svelte-14us6pi"> </span> <button class="btn btn-secondary btn-sm">Clear Blocklist</button>',1),k1=u('<span class="sync-progress svelte-14us6pi"> </span>'),w1=u('<span class="health-removed svelte-14us6pi"> </span>'),S1=u('<div class="sync-banner health-banner svelte-14us6pi"><div class="sync-info svelte-14us6pi"><span class="sync-spinner svelte-14us6pi"></span> <span class="sync-text svelte-14us6pi"> </span> <!> <!></div> <div class="sync-bar svelte-14us6pi"><div class="sync-bar-fill svelte-14us6pi"></div></div></div>'),$1=u('<div class="health-completed svelte-14us6pi"> </div>'),C1=u('<div class="sync-error svelte-14us6pi"> </div>'),z1=u('<div class="active-filter svelte-14us6pi"><span>Filtered by: <!> <!></span> <button class="btn btn-sm btn-secondary">Clear</button></div>'),T1=u('<button class="grid-card svelte-14us6pi"><span class="grid-flag svelte-14us6pi"> </span> <span class="grid-name svelte-14us6pi"> </span> <span class="grid-count svelte-14us6pi"> </span></button>'),E1=u('<div class="grid-container svelte-14us6pi"></div>'),M1=u('<button class="grid-card svelte-14us6pi"><span class="grid-name svelte-14us6pi"> </span> <span class="grid-count svelte-14us6pi"> </span></button>'),A1=u('<div class="grid-container svelte-14us6pi"></div>'),q1=u('<div class="loading-state svelte-14us6pi">Loading channels...</div>'),D1=u('<p class="text-muted">Click "SYNC IPTV" to fetch channels from iptv-org database</p>'),I1=u('<div class="empty-state svelte-14us6pi"><p>No channels found</p> <!></div>'),P1=u('<img class="channel-logo svelte-14us6pi"/>'),j1=u('<div class="channel-logo-placeholder svelte-14us6pi"></div>'),L1=u('<button class="country-tag svelte-14us6pi"> </button>'),R1=u('<span class="text-muted">-</span>'),F1=u('<button class="category-tag svelte-14us6pi"> </button>'),B1=u('<div class="category-tags svelte-14us6pi"></div>'),O1=u('<span class="text-muted">-</span>'),N1=u('<span class="stream-badge online svelte-14us6pi">LIVE</span>'),U1=u('<span class="stream-badge offline svelte-14us6pi">NO STREAM</span>'),V1=u('<tr><td class="channel-cell svelte-14us6pi"><!> <div class="channel-info svelte-14us6pi"><span class="channel-name svelte-14us6pi"> </span> <span class="channel-id text-muted svelte-14us6pi"> </span></div></td><td><!></td><td><!></td><td><!></td><td><button class="btn btn-sm btn-danger">DEL</button></td></tr>'),G1=u("<button> </button>"),H1=u('<div class="pagination svelte-14us6pi"><span class="pagination-info text-muted"> </span> <div class="pagination-controls svelte-14us6pi"><button class="btn btn-sm btn-secondary">Prev</button> <!> <button class="btn btn-sm btn-secondary">Next</button></div></div>'),Y1=u('<div class="channel-table-wrapper svelte-14us6pi"><table class="data-table"><thead><tr><th>Channel</th><th>Country</th><th>Categories</th><th>Stream</th><th></th></tr></thead><tbody></tbody></table></div> <!>',1),W1=u('<div class="modal-backdrop svelte-14us6pi"><div class="modal-content svelte-14us6pi"><h3 class="svelte-14us6pi">Delete Channel</h3> <p class="svelte-14us6pi">Are you sure you want to delete <strong> </strong>?</p> <div class="modal-actions svelte-14us6pi"><button class="btn btn-secondary">Cancel</button> <button class="btn btn-danger">Delete</button></div></div></div>'),K1=u('<div class="modal-backdrop svelte-14us6pi"><div class="modal-content svelte-14us6pi"><h3 class="svelte-14us6pi">Clear Blocklist</h3> <p class="svelte-14us6pi"> </p> <div class="modal-actions svelte-14us6pi"><button class="btn btn-secondary">Cancel</button> <button class="btn btn-danger">Clear All</button></div></div></div>'),X1=u('<div class="channels-page svelte-14us6pi"><header class="page-header"><h1 class="page-title">LIVE CHANNELS</h1> <div class="page-actions"><div class="search-box svelte-14us6pi"><input type="text" class="form-input search-input svelte-14us6pi" placeholder="Search channels..."/></div> <button class="btn btn-primary"> </button></div></header> <!> <!> <div class="stats-row svelte-14us6pi"><div class="stat-card svelte-14us6pi"><div class="stat-value svelte-14us6pi"> </div> <div class="stat-label svelte-14us6pi">Channels</div></div> <div class="stat-card svelte-14us6pi"><div class="stat-value svelte-14us6pi"> </div> <div class="stat-label svelte-14us6pi">Countries</div></div> <div class="stat-card svelte-14us6pi"><div class="stat-value svelte-14us6pi"> </div> <div class="stat-label svelte-14us6pi">Categories</div></div> <div class="stat-card svelte-14us6pi"><div class="stat-value svelte-14us6pi"> </div> <div class="stat-label svelte-14us6pi">With Streams</div></div> <div class="stat-card last-sync svelte-14us6pi"><div class="stat-value text-sm svelte-14us6pi"> </div> <div class="stat-label svelte-14us6pi">Last Sync</div></div></div> <div class="m3u-setting svelte-14us6pi"><label class="m3u-label svelte-14us6pi">M3U Source URL</label> <div class="m3u-input-row svelte-14us6pi"><input type="text" class="form-input m3u-input svelte-14us6pi" placeholder="https://iptv-org.github.io/iptv/index.m3u"/> <button class="btn btn-secondary btn-sm"> </button> <button class="btn btn-primary btn-sm"> </button></div></div> <div class="health-section svelte-14us6pi"><div class="health-header svelte-14us6pi"><div><label class="m3u-label svelte-14us6pi">Stream Health Check</label> <span class="health-subtitle svelte-14us6pi">Check all streams and blocklist dead channels</span></div> <div class="health-actions svelte-14us6pi"><!> <button class="btn btn-primary btn-sm"> </button></div></div> <!> <!> <!></div> <div class="view-tabs svelte-14us6pi"><button>All Channels</button> <button>By Country</button> <button>By Category</button></div> <!> <!> <!> <!></div> <!> <!>',1);function Ao(t,i){if(new.target)return La({component:Ao,...t});Aa(i,!1);const l=Z();let s=Z(!1),c=Z([]),d=Z([]),_=Z([]),m=Z(0),k=Z(!0),w=Z(""),$=Z(1),I=50,L=Z(""),V=Z(""),A=Z({channels:0,countries:0,categories:0,with_streams:0,blocklisted:0}),ee=Z(!1),S=Z(""),g=Z(0),x=Z(0),j=Z(""),ce=Z(""),ve=null,he=Z(!1),z=Z(""),ne=Z(0),Se=Z(0),P=Z(0),De=Z(""),pt=null,at=Z(!1),bt=Z(""),Be=Z(!1),st=Z("list"),Dt=Z(!1),Lt=Z(null);Ms(async()=>{try{if(!((await wo())?.status?.features||[]).includes("live_channels")){o(s,!0),o(k,!1);return}}catch{o(s,!0),o(k,!1);return}await Promise.all([St(),ft(),Et(),pa(),Qt(),Je()])}),io(()=>{ve&&clearInterval(ve),pt&&clearInterval(pt)});async function St(){o(k,!0);try{const q=await Xc({page:e($),limit:I,country:e(L)||void 0,category:e(V)||void 0,query_term:e(w)||void 0});o(c,q.channels),o(m,q.total)}catch(q){console.error("Failed to load channels:",q)}finally{o(k,!1)}}async function ft(){try{const[q,be]=await Promise.all([Jc(),Qc()]);o(d,q),o(_,be)}catch(q){console.error("Failed to load filters:",q)}}async function Et(){try{o(A,await ed())}catch(q){console.error("Failed to load stats:",q)}}async function pa(){try{const q=await ol();o(ee,q.running),o(S,q.phase),o(g,q.progress),o(x,q.total),o(j,q.last_sync||""),o(ce,q.last_error||""),e(ee)&&Mt()}catch{}}async function Qt(){try{const q=await td();o(bt,q.m3u_url)}catch{}}async function xt(){try{await ad(e(bt)),o(Be,!0),setTimeout(()=>o(Be,!1),2e3)}catch(q){o(ce,q.message||"Failed to save")}}async function kt(){try{await Zc(e(bt)),o(ee,!0),o(S,"starting"),o(ce,""),Mt()}catch(q){o(ce,q.message||"Sync failed")}}function Mt(){ve&&clearInterval(ve),ve=setInterval(async()=>{try{const q=await ol();o(ee,q.running),o(S,q.phase),o(g,q.progress),o(x,q.total),o(j,q.last_sync||""),o(ce,q.last_error||""),q.running||(clearInterval(ve),ve=null,await Promise.all([St(),ft(),Et()]))}catch{}},2e3)}async function Je(){try{const q=await vl();o(he,q.running),o(z,q.phase),o(ne,q.total),o(Se,q.checked),o(P,q.removed),o(De,q.last_error||""),e(he)&&K()}catch{}}async function wt(){try{await rd(),o(he,!0),o(z,"starting"),o(Se,0),o(ne,0),o(P,0),o(De,""),K()}catch(q){o(De,q.message||"Health check failed")}}function K(){pt&&clearInterval(pt),pt=setInterval(async()=>{try{const q=await vl();o(he,q.running),o(z,q.phase),o(ne,q.total),o(Se,q.checked),o(P,q.removed),o(De,q.last_error||""),q.running||(clearInterval(pt),pt=null,await Promise.all([St(),Et()]))}catch{}},2e3)}async function Oe(){try{await nd(),o(at,!1),await Et()}catch(q){o(De,q.message||"Failed to clear blocklist")}}function He(){o($,1),St()}function et(q){o(L,q),o(V,""),o($,1),o(st,"list"),St()}function Nt(q){o(V,q),o(L,""),o($,1),o(st,"list"),St()}function Pt(){o(L,""),o(V,""),o(w,""),o($,1),St()}function re(q){q>=1&&q<=e(l)&&(o($,q),St())}function Ie(q){o(Lt,q),o(Dt,!0)}async function Ve(){if(e(Lt))try{await sd(e(Lt).id),o(Dt,!1),o(Lt,null),await St(),await Et()}catch(q){console.error("Failed to delete channel:",q)}}function Qe(q){if(!q)return"Never";const be=new Date(q);return be.toLocaleDateString()+" "+be.toLocaleTimeString()}Cr(()=>e(m),()=>{o(l,Math.ceil(e(m)/I))}),Jn();var D={$set:Fa,$on:(q,be)=>Ra(i,q,be)};Ns();var ue=Tt(),oe=ge(ue);{var Te=q=>{var be=h1();v(q,be)},Me=q=>{var be=X1(),M=ge(be),X=r(M),h=n(r(X),2),E=r(h),R=r(E);we(R),a(E);var F=n(E,2),G=r(F,!0);a(F),a(h),a(X);var C=n(X,2);{var T=Ye=>{var Xe=b1(),gt=r(Xe),Ct=n(r(gt),2),ea=r(Ct,!0);a(Ct);var Kt=n(Ct,2);{var Bt=ha=>{var ca=g1(),xa=r(ca);a(ca),b(()=>f(xa,`(${e(g)??""}/${e(x)??""})`)),v(ha,ca)};y(Kt,ha=>{e(x)>0&&ha(Bt)})}a(gt);var ta=n(gt,2),va=r(ta);a(ta),a(Xe),b(()=>{f(ea,e(S)),Er(va,`width: ${e(x)>0?e(g)/e(x)*100:0}%`)}),v(Ye,Xe)};y(C,Ye=>{e(ee)&&Ye(T)})}var H=n(C,2);{var W=Ye=>{var Xe=y1(),gt=r(Xe);a(Xe),b(()=>f(gt,`Sync error: ${e(ce)??""}`)),v(Ye,Xe)};y(H,Ye=>{e(ce)&&Ye(W)})}var te=n(H,2),ae=r(te),J=r(ae),le=r(J,!0);a(J),ut(2),a(ae);var B=n(ae,2),pe=r(B),Ae=r(pe,!0);a(pe),ut(2),a(B);var ie=n(B,2),O=r(ie),Q=r(O,!0);a(O),ut(2),a(ie);var fe=n(ie,2),xe=r(fe),ye=r(xe,!0);a(xe),ut(2),a(fe);var je=n(fe,2),Pe=r(je),ke=r(Pe,!0);a(Pe),ut(2),a(je),a(te);var _e=n(te,2),Ee=n(r(_e),2),ze=r(Ee);we(ze);var de=n(ze,2),Ue=r(de,!0);a(de);var ot=n(de,2),Re=r(ot,!0);a(ot),a(Ee),a(_e);var Le=n(_e,2),Ke=r(Le),_t=n(r(Ke),2),mt=r(_t);{var At=Ye=>{var Xe=x1(),gt=ge(Xe),Ct=r(gt);a(gt);var ea=n(gt,2);b(()=>f(Ct,`${e(A),p(()=>e(A).blocklisted)??""} blocklisted`)),Y("click",ea,()=>o(at,!0)),v(Ye,Xe)};y(mt,Ye=>{e(A),p(()=>e(A).blocklisted>0)&&Ye(At)})}var ht=n(mt,2),Gt=r(ht,!0);a(ht),a(_t),a(Ke);var fa=n(Ke,2);{var dt=Ye=>{var Xe=S1(),gt=r(Xe),Ct=n(r(gt),2),ea=r(Ct,!0);a(Ct);var Kt=n(Ct,2);{var Bt=xa=>{var Ea=k1(),Za=r(Ea);a(Ea),b(()=>f(Za,`(${e(Se)??""}/${e(ne)??""})`)),v(xa,Ea)};y(Kt,xa=>{e(ne)>0&&xa(Bt)})}var ta=n(Kt,2);{var va=xa=>{var Ea=w1(),Za=r(Ea);a(Ea),b(()=>f(Za,`${e(P)??""} removed`)),v(xa,Ea)};y(ta,xa=>{e(P)>0&&xa(va)})}a(gt);var ha=n(gt,2),ca=r(ha);a(ha),a(Xe),b(()=>{f(ea,e(z)),Er(ca,`width: ${e(ne)>0?e(Se)/e(ne)*100:0}%`)}),v(Ye,Xe)};y(fa,Ye=>{e(he)&&Ye(dt)})}var Ne=n(fa,2);{var Ut=Ye=>{var Xe=$1(),gt=r(Xe);a(Xe),b(()=>f(gt,`Completed: ${e(Se)??""} checked, ${e(P)??""} removed`)),v(Ye,Xe)};y(Ne,Ye=>{!e(he)&&e(z)==="completed"&&Ye(Ut)})}var _a=n(Ne,2);{var We=Ye=>{var Xe=C1(),gt=r(Xe);a(Xe),b(()=>f(gt,`Health check error: ${e(De)??""}`)),v(Ye,Xe)};y(_a,Ye=>{e(De)&&Ye(We)})}a(Le);var Vt=n(Le,2),$t=r(Vt);let Ta;var Ja=n($t,2);let Ga;var os=n(Ja,2);let As;a(Vt);var Ka=n(Vt,2);{var Qa=Ye=>{var Xe=z1(),gt=r(Xe),Ct=n(r(gt));{var ea=va=>{var ha=zr();b((ca,xa)=>f(ha,`${ca??""}
          ${xa??""}`),[()=>(e(d),e(L),p(()=>e(d).find(ca=>ca.code===e(L))?.flag||"")),()=>(e(d),e(L),p(()=>e(d).find(ca=>ca.code===e(L))?.name||e(L)))]),v(va,ha)};y(Ct,va=>{e(L)&&va(ea)})}var Kt=n(Ct,2);{var Bt=va=>{var ha=zr();b(ca=>f(ha,ca),[()=>(e(_),e(V),p(()=>e(_).find(ca=>ca.id===e(V))?.name||e(V)))]),v(va,ha)};y(Kt,va=>{e(V)&&va(Bt)})}a(gt);var ta=n(gt,2);a(Xe),Y("click",ta,Pt),v(Ye,Xe)};y(Ka,Ye=>{(e(L)||e(V))&&Ye(Qa)})}var ct=n(Ka,2);{var Da=Ye=>{var Xe=E1();lt(Xe,5,()=>e(d),it,(gt,Ct)=>{var ea=T1(),Kt=r(ea),Bt=r(Kt,!0);a(Kt);var ta=n(Kt,2),va=r(ta,!0);a(ta);var ha=n(ta,2),ca=r(ha,!0);a(ha),a(ea),b(()=>{f(Bt,(e(Ct),p(()=>e(Ct).flag||""))),f(va,(e(Ct),p(()=>e(Ct).name))),f(ca,(e(Ct),p(()=>e(Ct).channel_count||0)))}),Y("click",ea,()=>et(e(Ct).code)),v(gt,ea)}),a(Xe),v(Ye,Xe)};y(ct,Ye=>{e(st)==="countries"&&Ye(Da)})}var Ba=n(ct,2);{var ba=Ye=>{var Xe=A1();lt(Xe,5,()=>e(_),it,(gt,Ct)=>{var ea=M1(),Kt=r(ea),Bt=r(Kt,!0);a(Kt);var ta=n(Kt,2),va=r(ta,!0);a(ta),a(ea),b(()=>{f(Bt,(e(Ct),p(()=>e(Ct).name))),f(va,(e(Ct),p(()=>e(Ct).channel_count||0)))}),Y("click",ea,()=>Nt(e(Ct).id)),v(gt,ea)}),a(Xe),v(Ye,Xe)};y(Ba,Ye=>{e(st)==="categories"&&Ye(ba)})}var Ha=n(Ba,2);{var qs=Ye=>{var Xe=Tt(),gt=ge(Xe);{var Ct=Kt=>{var Bt=q1();v(Kt,Bt)},ea=Kt=>{var Bt=Tt(),ta=ge(Bt);{var va=ca=>{var xa=I1(),Ea=n(r(xa),2);{var Za=Ds=>{var mr=D1();v(Ds,mr)};y(Ea,Ds=>{e(A),p(()=>e(A).channels===0)&&Ds(Za)})}a(xa),v(ca,xa)},ha=ca=>{var xa=Y1(),Ea=ge(xa),Za=r(Ea),Ds=n(r(Za));lt(Ds,5,()=>e(c),it,(Zs,Rt)=>{var gs=V1(),Is=r(gs),Us=r(Is);{var er=Zt=>{var na=P1();b(()=>{vt(na,"src",(e(Rt),p(()=>e(Rt).logo))),vt(na,"alt",(e(Rt),p(()=>e(Rt).name)))}),v(Zt,na)},$e=Zt=>{var na=j1();v(Zt,na)};y(Us,Zt=>{e(Rt),p(()=>e(Rt).logo)?Zt(er):Zt($e,!1)})}var qe=n(Us,2),Ze=r(qe),yt=r(Ze,!0);a(Ze);var Ht=n(Ze,2),Ot=r(Ht,!0);a(Ht),a(qe),a(Is);var Ia=n(Is),bs=r(Ia);{var es=Zt=>{var na=L1(),Hs=r(na);a(na),b(ka=>f(Hs,`${ka??""}
                      ${e(Rt),p(()=>e(Rt).country)??""}`),[()=>(e(d),e(Rt),p(()=>e(d).find(ka=>ka.code===e(Rt).country)?.flag||""))]),Y("click",na,()=>et(e(Rt).country||"")),v(Zt,na)},vs=Zt=>{var na=R1();v(Zt,na)};y(bs,Zt=>{e(Rt),p(()=>e(Rt).country)?Zt(es):Zt(vs,!1)})}a(Ia);var cs=n(Ia),Vs=r(cs);{var Gs=Zt=>{var na=B1();lt(na,5,()=>(e(Rt),p(()=>e(Rt).categories)),it,(Hs,ka)=>{var Ya=F1(),ts=r(Ya,!0);a(Ya),b(()=>f(ts,e(ka))),Y("click",Ya,()=>Nt(e(ka))),v(Hs,Ya)}),a(na),v(Zt,na)},ys=Zt=>{var na=O1();v(Zt,na)};y(Vs,Zt=>{e(Rt),p(()=>e(Rt).categories&&e(Rt).categories.length>0)?Zt(Gs):Zt(ys,!1)})}a(cs);var tr=n(cs),ar=r(tr);{var hr=Zt=>{var na=N1();v(Zt,na)},Ma=Zt=>{var na=U1();v(Zt,na)};y(ar,Zt=>{e(Rt),p(()=>e(Rt).stream_url)?Zt(hr):Zt(Ma,!1)})}a(tr);var xs=n(tr),sr=r(xs);a(xs),a(gs),b(()=>{f(yt,(e(Rt),p(()=>e(Rt).name))),f(Ot,(e(Rt),p(()=>e(Rt).id)))}),Y("click",sr,()=>Ie(e(Rt))),v(Zs,gs)}),a(Ds),a(Za),a(Ea);var mr=n(Ea,2);{var Mr=Zs=>{var Rt=H1(),gs=r(Rt),Is=r(gs);a(gs);var Us=n(gs,2),er=r(Us),$e=n(er,2);lt($e,1,()=>(e(l),e($),p(()=>Array.from({length:Math.min(5,e(l))},(Ze,yt)=>e(l)<=5||e($)<=3?yt+1:e($)>=e(l)-2?e(l)-4+yt:e($)-2+yt))),it,(Ze,yt)=>{var Ht=G1();let Ot;var Ia=r(Ht,!0);a(Ht),b(()=>{Ot=rt(Ht,1,"btn btn-sm",null,Ot,{"btn-primary":e(yt)===e($),"btn-secondary":e(yt)!==e($)}),f(Ia,e(yt))}),Y("click",Ht,()=>re(e(yt))),v(Ze,Ht)});var qe=n($e,2);a(Us),a(Rt),b((Ze,yt)=>{f(Is,`Showing ${(e($)-1)*I+1}-${Ze??""} of ${yt??""}`),er.disabled=e($)<=1,qe.disabled=e($)>=e(l)},[()=>(e($),e(m),p(()=>Math.min(e($)*I,e(m)))),()=>(e(m),p(()=>e(m).toLocaleString()))]),Y("click",er,()=>re(e($)-1)),Y("click",qe,()=>re(e($)+1)),v(Zs,Rt)};y(mr,Zs=>{e(l)>1&&Zs(Mr)})}v(ca,xa)};y(ta,ca=>{e(c),p(()=>e(c).length===0)?ca(va):ca(ha,!1)},!0)}v(Kt,Bt)};y(gt,Kt=>{e(k)?Kt(Ct):Kt(ea,!1)})}v(Ye,Xe)};y(Ha,Ye=>{e(st)==="list"&&Ye(qs)})}a(M);var hs=n(M,2);{var fr=Ye=>{var Xe=W1(),gt=r(Xe),Ct=n(r(gt),2),ea=n(r(Ct)),Kt=r(ea,!0);a(ea),ut(),a(Ct);var Bt=n(Ct,2),ta=r(Bt),va=n(ta,2);a(Bt),a(gt),a(Xe),b(()=>f(Kt,(e(Lt),p(()=>e(Lt).name)))),Y("click",ta,()=>o(Dt,!1)),Y("click",va,Ve),Y("click",gt,vr(function(ha){Jr.call(this,i,ha)})),Y("keydown",gt,vr(function(ha){Jr.call(this,i,ha)})),Y("click",Xe,()=>o(Dt,!1)),Y("keydown",Xe,ha=>ha.key==="Escape"&&o(Dt,!1)),v(Ye,Xe)};y(hs,Ye=>{e(Dt)&&e(Lt)&&Ye(fr)})}var _r=n(hs,2);{var Qs=Ye=>{var Xe=K1(),gt=r(Xe),Ct=n(r(gt),2),ea=r(Ct);a(Ct);var Kt=n(Ct,2),Bt=r(Kt),ta=n(Bt,2);a(Kt),a(gt),a(Xe),b(()=>f(ea,`This will remove all ${e(A),p(()=>e(A).blocklisted)??""} entries from the blocklist. Previously dead channels may reappear on the next sync.`)),Y("click",Bt,()=>o(at,!1)),Y("click",ta,Oe),Y("click",gt,vr(function(va){Jr.call(this,i,va)})),Y("keydown",gt,vr(function(va){Jr.call(this,i,va)})),Y("click",Xe,()=>o(at,!1)),Y("keydown",Xe,va=>va.key==="Escape"&&o(at,!1)),v(Ye,Xe)};y(_r,Ye=>{e(at)&&Ye(Qs)})}b((Ye,Xe,gt)=>{F.disabled=e(ee),f(G,e(ee)?"SYNCING...":"SYNC IPTV"),f(le,Ye),f(Ae,(e(A),p(()=>e(A).countries))),f(Q,(e(A),p(()=>e(A).categories))),f(ye,Xe),f(ke,gt),f(Ue,e(Be)?"SAVED":"SAVE"),ot.disabled=e(ee),f(Re,e(ee)?"SYNCING...":"SYNC"),ht.disabled=e(he),f(Gt,e(he)?"CHECKING...":"RUN HEALTH CHECK"),Ta=rt($t,1,"tab svelte-14us6pi",null,Ta,{active:e(st)==="list"}),Ga=rt(Ja,1,"tab svelte-14us6pi",null,Ga,{active:e(st)==="countries"}),As=rt(os,1,"tab svelte-14us6pi",null,As,{active:e(st)==="categories"})},[()=>(e(A),p(()=>e(A).channels.toLocaleString())),()=>(e(A),p(()=>e(A).with_streams.toLocaleString())),()=>(e(j),p(()=>Qe(e(j))))]),Ce(R,()=>e(w),Ye=>o(w,Ye)),Y("keydown",R,Ye=>Ye.key==="Enter"&&He()),Y("click",F,kt),Ce(ze,()=>e(bt),Ye=>o(bt,Ye)),Y("click",de,xt),Y("click",ot,kt),Y("click",ht,wt),Y("click",$t,()=>{o(st,"list"),Pt()}),Y("click",Ja,()=>o(st,"countries")),Y("click",os,()=>o(st,"categories")),v(q,be)};y(oe,q=>{e(s)?q(Te):q(Me,!1)})}return v(t,ue),qa(D)}var J1=u('<div class="loading"><div class="spinner"></div></div>'),Q1=u('<div class="empty-state"><p>No curated lists yet. Create one to get started.</p></div>'),Z1=u('<span class="filter svelte-1adbcgk"> </span>'),em=u('<span class="filter svelte-1adbcgk"> </span>'),tm=u('<span class="filter svelte-1adbcgk"> </span>'),am=u('<span class="filter svelte-1adbcgk"> </span>'),sm=u('<span class="status-active svelte-1adbcgk">Active</span>'),rm=u('<span class="status-inactive svelte-1adbcgk">Inactive</span>'),nm=u('<tr><td class="list-name svelte-1adbcgk"> </td><td><code class="svelte-1adbcgk"> </code></td><td> </td><td class="filters svelte-1adbcgk"><!> <!> <!> <!></td><td> </td><td><!></td><td><div class="actions"><button class="btn btn-sm btn-secondary">MANAGE</button> <button class="btn btn-sm btn-warning">EDIT</button> <button class="btn btn-sm btn-danger">DELETE</button></div></td></tr>'),im=u('<div class="card"><table class="data-table"><thead><tr><th>Name</th><th>Slug</th><th>Sort By</th><th>Filters</th><th>Limit</th><th>Active</th><th style="text-align: right;">Actions</th></tr></thead><tbody></tbody></table></div>'),lm=u('<div class="curated-page"><header class="page-header"><h1 class="page-title">CURATED LISTS</h1> <div class="page-actions"><button class="btn btn-primary">CREATE LIST</button></div></header> <!></div>');function qo(t,i){if(new.target)return La({component:qo,...t});Aa(i,!1);let l=Z([]),s=Z(!0);Ms(async()=>{try{o(l,await Kc()||[])}catch(w){console.error("Failed to load curated lists:",w)}finally{o(s,!1)}});var c={$set:Fa,$on:(w,$)=>Ra(i,w,$)};Ns();var d=lm(),_=n(r(d),2);{var m=w=>{var $=J1();v(w,$)},k=w=>{var $=Tt(),I=ge($);{var L=A=>{var ee=Q1();v(A,ee)},V=A=>{var ee=im(),S=r(ee),g=n(r(S));lt(g,5,()=>e(l),it,(x,j)=>{var ce=nm(),ve=r(ce),he=r(ve,!0);a(ve);var z=n(ve),ne=r(z),Se=r(ne,!0);a(ne),a(z);var P=n(z),De=r(P);a(P);var pt=n(P),at=r(pt);{var bt=Je=>{var wt=Z1(),K=r(wt);a(wt),b(()=>f(K,`Rating â¥ ${e(j).minimum_rating??""}`)),v(Je,wt)};y(at,Je=>{e(j).minimum_rating&&Je(bt)})}var Be=n(at,2);{var st=Je=>{var wt=em(),K=r(wt);a(wt),b(()=>f(K,`Genre: ${e(j).genre??""}`)),v(Je,wt)};y(Be,Je=>{e(j).genre&&Je(st)})}var Dt=n(Be,2);{var Lt=Je=>{var wt=tm(),K=r(wt);a(wt),b(()=>f(K,`Year â¥ ${e(j).minimum_year??""}`)),v(Je,wt)};y(Dt,Je=>{e(j).minimum_year&&Je(Lt)})}var St=n(Dt,2);{var ft=Je=>{var wt=am(),K=r(wt);a(wt),b(()=>f(K,`Year â¤ ${e(j).maximum_year??""}`)),v(Je,wt)};y(St,Je=>{e(j).maximum_year&&Je(ft)})}a(pt);var Et=n(pt),pa=r(Et,!0);a(Et);var Qt=n(Et),xt=r(Qt);{var kt=Je=>{var wt=sm();v(Je,wt)},Mt=Je=>{var wt=rm();v(Je,wt)};y(xt,Je=>{e(j).is_active?Je(kt):Je(Mt,!1)})}a(Qt),ut(),a(ce),b(()=>{f(he,e(j).name),f(Se,e(j).slug),f(De,`${e(j).sort_by??""} ${e(j).order_by??""}`),f(pa,e(j).limit)}),v(x,ce)}),a(g),a(S),a(ee),v(A,ee)};y(I,A=>{e(l).length===0?A(L):A(V,!1)},!0)}v(w,$)};y(_,w=>{e(s)?w(m):w(k,!1)})}return a(d),v(t,d),qa(c)}var om=u('<button><span> </span> <span class="path svelte-e9yfgx"> </span></button>'),vm=u('<div class="category svelte-e9yfgx"><h3 class="svelte-e9yfgx"> </h3> <!></div>'),cm=u('<tr><td class="svelte-e9yfgx"><code class="svelte-e9yfgx"> </code></td><td class="svelte-e9yfgx"><span class="type svelte-e9yfgx"> </span></td><td class="svelte-e9yfgx"> </td></tr>'),dm=u('<h3 class="svelte-e9yfgx">Parameters</h3> <table class="params-table svelte-e9yfgx"><thead><tr><th class="svelte-e9yfgx">Name</th><th class="svelte-e9yfgx">Type</th><th class="svelte-e9yfgx">Description</th></tr></thead><tbody></tbody></table>',1),um=u('<div class="endpoint-detail svelte-e9yfgx"><div class="endpoint-header svelte-e9yfgx"><span> </span> <code class="path-code svelte-e9yfgx"> </code></div> <p class="description svelte-e9yfgx"> </p> <!> <h3 class="svelte-e9yfgx">Example Request</h3> <pre class="code-block svelte-e9yfgx"> </pre></div>'),pm=u('<div class="welcome-message svelte-e9yfgx"><svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" class="svelte-e9yfgx"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg> <h2 class="svelte-e9yfgx">Select an endpoint</h2> <p>Choose an endpoint from the sidebar to view its documentation.</p></div>'),fm=u('<div class="page-header svelte-e9yfgx"><h1 class="svelte-e9yfgx">API Documentation</h1> <div class="header-actions"><span class="base-url svelte-e9yfgx">Base URL: <code class="svelte-e9yfgx"></code></span></div></div> <div class="docs-container svelte-e9yfgx"><aside class="docs-sidebar svelte-e9yfgx"></aside> <main class="docs-content svelte-e9yfgx"><!></main></div>',1);function Do(t,i){if(new.target)return La({component:Do,...t});Aa(i,!0);const l=[{category:"Configuration",items:[{method:"GET",path:"/api/v2/config.json",description:"Get enabled services configuration. Returns which services (Movies, TV Shows, Live TV) are active.",params:[]}]},{category:"Movies",items:[{method:"GET",path:"/api/v2/list_movies.json",description:"List all movies with filtering and pagination",params:[{name:"limit",type:"int",description:"Number of results (default: 20, max: 50)"},{name:"page",type:"int",description:"Page number (default: 1)"},{name:"quality",type:"string",description:"Filter by quality (720p, 1080p, 2160p)"},{name:"minimum_rating",type:"float",description:"Minimum IMDb rating"},{name:"query_term",type:"string",description:"Search term for title"},{name:"genre",type:"string",description:"Filter by genre"},{name:"sort_by",type:"string",description:"Sort field (title, year, rating, date_added)"},{name:"order_by",type:"string",description:"Sort order (asc, desc)"},{name:"year",type:"int",description:"Filter by exact year"},{name:"minimum_year",type:"int",description:"Minimum release year"},{name:"maximum_year",type:"int",description:"Maximum release year"}]},{method:"GET",path:"/api/v2/movie_details.json",description:"Get detailed information about a specific movie",params:[{name:"movie_id",type:"int",description:"Movie ID (required)"},{name:"with_cast",type:"bool",description:"Include cast information"},{name:"with_images",type:"bool",description:"Include additional images"}]},{method:"GET",path:"/api/v2/movie_suggestions.json",description:"Get movie suggestions based on a movie",params:[{name:"movie_id",type:"int",description:"Movie ID (required)"}]},{method:"GET",path:"/api/v2/franchise_movies.json",description:"Get all movies in a franchise/series (e.g. all Harry Potter movies)",params:[{name:"movie_id",type:"int",description:"Movie ID (required)"}]},{method:"GET",path:"/api/v2/check_availability",description:"Check if a movie exists by IMDB code",params:[{name:"imdb_code",type:"string",description:"IMDB code (required)"}]}]},{category:"TV Series",items:[{method:"GET",path:"/api/v2/list_series.json",description:"List all TV series with filtering and pagination",params:[{name:"limit",type:"int",description:"Number of results (default: 20)"},{name:"page",type:"int",description:"Page number (default: 1)"},{name:"query_term",type:"string",description:"Search term"},{name:"genre",type:"string",description:"Filter by genre"},{name:"sort_by",type:"string",description:"Sort field (title, year, rating)"}]},{method:"GET",path:"/api/v2/series_details.json",description:"Get detailed information about a TV series",params:[{name:"series_id",type:"int",description:"Series ID (required)"}]},{method:"GET",path:"/api/v2/season_episodes.json",description:"Get episodes for a specific season",params:[{name:"series_id",type:"int",description:"Series ID (required)"},{name:"season",type:"int",description:"Season number (required)"}]}]},{category:"Live TV / Channels",items:[{method:"GET",path:"/api/v2/list_channels.json",description:"List channels with filtering and pagination",params:[{name:"limit",type:"int",description:"Number of results (default: 50)"},{name:"page",type:"int",description:"Page number (default: 1)"},{name:"country",type:"string",description:"Filter by country code (e.g. US, AL)"},{name:"category",type:"string",description:"Filter by category"},{name:"query",type:"string",description:"Search by channel name"}]},{method:"GET",path:"/api/v2/channel_details.json",description:"Get details for a specific channel",params:[{name:"id",type:"string",description:"Channel ID (required)"}]},{method:"GET",path:"/api/v2/channel_countries.json",description:"List all countries with channel counts",params:[]},{method:"GET",path:"/api/v2/channel_categories.json",description:"List all channel categories with counts",params:[]},{method:"GET",path:"/api/v2/channels_by_country.json",description:"Get channels for a specific country",params:[{name:"country",type:"string",description:"Country code (required)"}]},{method:"GET",path:"/api/v2/channel_epg.json",description:"Get EPG (Electronic Program Guide) for a channel",params:[{name:"channel_id",type:"string",description:"Channel ID (required)"}]}]},{category:"Subtitles",items:[{method:"GET",path:"/api/v2/subtitles/search",description:"Search subtitles by IMDB ID. Returns from local DB first, falls back to external API.",params:[{name:"imdb_id",type:"string",description:"IMDB code (required)"},{name:"languages",type:"string",description:"Comma-separated language codes (e.g. en,es)"}]},{method:"GET",path:"/api/v2/subtitles/search_by_filename",description:"Search subtitles by release filename",params:[{name:"filename",type:"string",description:"Release filename (required)"},{name:"languages",type:"string",description:"Comma-separated language codes"}]},{method:"GET",path:"/api/v2/subtitles/stored/{id}",description:"Serve a stored subtitle as VTT content directly from DB",params:[{name:"id",type:"int",description:"Stored subtitle ID (required, in URL)"}]},{method:"GET",path:"/api/v2/subtitles/download",description:"Download and convert a subtitle from external URL to VTT",params:[{name:"url",type:"string",description:"Subtitle download URL (required, URL-encoded)"}]},{method:"GET",path:"/api/v2/subtitle_languages",description:"Get list of supported subtitle languages",params:[]}]},{category:"Streaming",items:[{method:"POST",path:"/api/v2/stream/start",description:"Start streaming a torrent. Loads the torrent and returns a stream URL. Also extracts embedded subtitles.",params:[{name:"hash",type:"string",description:"Torrent info hash (required, in body)"},{name:"file_index",type:"int",description:"File index (optional, auto-selects largest video)"}]},{method:"GET",path:"/api/v2/stream/status",description:"Get download progress for an active stream",params:[{name:"hash",type:"string",description:"Torrent info hash (required)"}]},{method:"POST",path:"/api/v2/stream/stop",description:"Stop streaming and remove torrent",params:[{name:"hash",type:"string",description:"Torrent info hash (required, in body)"}]},{method:"GET",path:"/stream/{info_hash}/{file_index}",description:"Stream a video file from a torrent (supports Range requests)",params:[{name:"info_hash",type:"string",description:"Torrent info hash (in URL)"},{name:"file_index",type:"int",description:"File index in the torrent (in URL)"}]},{method:"GET",path:"/api/v2/torrent_files",description:"List files in a torrent (video, subtitle, etc.)",params:[{name:"hash",type:"string",description:"Torrent info hash (required)"}]}]},{category:"Search",items:[{method:"GET",path:"/api/v2/search.json",description:"Unified search across movies, series, and channels",params:[{name:"query",type:"string",description:"Search term (required)"}]}]},{category:"Home & Curated",items:[{method:"GET",path:"/api/v2/home.json",description:"Get home page sections with content",params:[]},{method:"GET",path:"/api/v2/curated_lists.json",description:"Get all active curated lists",params:[]},{method:"GET",path:"/api/v2/curated_list.json",description:"Get a curated list with movies",params:[{name:"slug",type:"string",description:"List slug (required)"},{name:"limit",type:"int",description:"Number of movies to return"}]}]},{category:"IMDB",items:[{method:"GET",path:"/api/v2/imdb/search",description:"Search IMDB for movies/series",params:[{name:"q",type:"string",description:"Search query (required)"}]},{method:"GET",path:"/api/v2/imdb/title/{imdbCode}",description:"Get IMDB title details",params:[{name:"imdbCode",type:"string",description:"IMDB code (in URL, e.g. tt0111161)"}]},{method:"GET",path:"/api/v2/imdb/images/{imdbCode}",description:"Get images for an IMDB title",params:[{name:"imdbCode",type:"string",description:"IMDB code (in URL)"}]}]},{category:"Sync & Ratings",items:[{method:"POST",path:"/api/v2/sync_movie",description:"Sync a movie by IMDB code (fetches metadata, torrents, subtitles)",params:[{name:"imdb_code",type:"string",description:"IMDB code (required, in body)"}]},{method:"POST",path:"/api/v2/sync_movies",description:"Batch sync multiple movies",params:[{name:"imdb_codes",type:"string[]",description:"Array of IMDB codes (required, in body)"}]},{method:"POST",path:"/api/v2/sync_series",description:"Sync a TV series by IMDB code",params:[{name:"imdb_code",type:"string",description:"IMDB code (required, in body)"}]},{method:"POST",path:"/api/v2/refresh_movie",description:"Refresh metadata and torrents for an existing movie",params:[{name:"imdb_code",type:"string",description:"IMDB code (required, in body)"}]},{method:"POST",path:"/api/v2/refresh_series",description:"Refresh metadata for an existing series",params:[{name:"imdb_code",type:"string",description:"IMDB code (required, in body)"}]},{method:"POST",path:"/api/v2/get_ratings",description:"Get ratings for a list of IMDB codes",params:[{name:"imdb_codes",type:"string[]",description:"Array of IMDB codes (in body)"}]}]},{category:"Analytics",items:[{method:"POST",path:"/api/v2/analytics/view",description:"Record a content view",params:[{name:"content_id",type:"int",description:"Movie/series ID (in body)"},{name:"content_type",type:"string",description:"Type: movie or series (in body)"}]},{method:"POST",path:"/api/v2/analytics/stream/start",description:"Record stream start event",params:[]},{method:"POST",path:"/api/v2/analytics/stream/heartbeat",description:"Send stream heartbeat (keep-alive)",params:[]},{method:"POST",path:"/api/v2/analytics/stream/end",description:"Record stream end event",params:[]},{method:"GET",path:"/api/v2/analytics/top-movies",description:"Get most viewed movies",params:[]}]}];let s=tt(null);var c={$set:Fa,$on:(S,g)=>Ra(i,S,g)},d=fm(),_=ge(d),m=n(r(_),2),k=r(m),w=n(r(k));w.textContent=window.location.origin,a(k),a(m),a(_);var $=n(_,2),I=r($);lt(I,21,()=>l,it,(S,g)=>{var x=vm(),j=r(x),ce=r(j,!0);a(j);var ve=n(j,2);lt(ve,17,()=>e(g).items,it,(he,z)=>{var ne=om();let Se;ne.__click=()=>o(s,e(z),!0);var P=r(ne),De=r(P,!0);a(P);var pt=n(P,2),at=r(pt,!0);a(pt),a(ne),b(bt=>{Se=rt(ne,1,"endpoint-link svelte-e9yfgx",null,Se,{active:e(s)===e(z)}),rt(P,1,`method ${bt??""}`,"svelte-e9yfgx"),f(De,e(z).method),f(at,e(z).path)},[()=>e(z).method.toLowerCase()]),v(he,ne)}),a(x),b(()=>f(ce,e(g).category)),v(S,x)}),a(I);var L=n(I,2),V=r(L);{var A=S=>{var g=um(),x=r(g),j=r(x),ce=r(j,!0);a(j);var ve=n(j,2),he=r(ve,!0);a(ve),a(x);var z=n(x,2),ne=r(z,!0);a(z);var Se=n(z,2);{var P=at=>{var bt=dm(),Be=n(ge(bt),2),st=n(r(Be));lt(st,21,()=>e(s).params,it,(Dt,Lt)=>{var St=cm(),ft=r(St),Et=r(ft),pa=r(Et,!0);a(Et),a(ft);var Qt=n(ft),xt=r(Qt),kt=r(xt,!0);a(xt),a(Qt);var Mt=n(Qt),Je=r(Mt,!0);a(Mt),a(St),b(()=>{f(pa,e(Lt).name),f(kt,e(Lt).type),f(Je,e(Lt).description)}),v(Dt,St)}),a(st),a(Be),v(at,bt)};y(Se,at=>{e(s).params.length>0&&at(P)})}var De=n(Se,4),pt=r(De);a(De),a(g),b((at,bt)=>{rt(j,1,`method large ${at??""}`,"svelte-e9yfgx"),f(ce,e(s).method),f(he,e(s).path),f(ne,e(s).description),f(pt,`curl "${window.location.origin??""}${e(s).path??""}${bt??""}"`)},[()=>e(s).method.toLowerCase(),()=>e(s).params.length>0?"?"+e(s).params.filter(at=>!at.description.includes("in body")&&!at.description.includes("in URL")).slice(0,2).map(at=>at.name+"=...").join("&"):""]),v(S,g)},ee=S=>{var g=pm();v(S,g)};y(V,S=>{e(s)?S(A):S(ee,!1)})}return a(L),a($),v(t,d),qa(c)}Mn(["click"]);var _m=u("<button>YTS</button>"),mm=u('<div><div class="service-toggle"><button><span class="toggle-knob svelte-15j4tnx"></span></button></div> <div class="service-icon svelte-15j4tnx"> </div> <div class="service-details svelte-15j4tnx"><input type="text" class="service-label-input svelte-15j4tnx"/> <span class="service-id text-muted svelte-15j4tnx"> </span></div></div>'),hm=u("<div> </div>"),gm=u(`<div class="card"><h3 class="svelte-15j4tnx">Client Services</h3> <p class="text-muted mb-4">Choose which services your server provides. Client apps will show/hide sidebar sections based on this configuration.
        The client fetches <code>/api/v2/config.json</code> on startup.</p> <div class="services-list svelte-15j4tnx"></div> <!> <button class="btn btn-primary mt-4"> </button></div> <div class="card mt-4"><h3 class="svelte-15j4tnx">API Endpoint</h3> <p class="text-muted mb-4">Client apps connect to this server using the config endpoint:</p> <div class="api-endpoint svelte-15j4tnx"><code></code></div></div>`,1),bm=u('<label><input type="radio" name="mirror" class="svelte-15j4tnx"/> <span class="mirror-name svelte-15j4tnx"> </span> <span class="mirror-url svelte-15j4tnx"> </span> <button type="button" class="btn btn-sm btn-secondary test-btn svelte-15j4tnx">Test</button></label>'),ym=u('<button type="button" class="btn btn-sm btn-secondary test-btn svelte-15j4tnx">Test</button>'),xm=u("<div><!></div>"),km=u('<div class="current-mirror mb-4 svelte-15j4tnx"><span class="label svelte-15j4tnx">Current Mirror:</span> <span class="value svelte-15j4tnx"> </span></div> <div class="form-group"><label class="form-label">Select Mirror</label> <div class="mirror-options svelte-15j4tnx"><!> <label><input type="radio" name="mirror" class="svelte-15j4tnx"/> <span class="mirror-name svelte-15j4tnx">CUSTOM</span> <input type="text" class="form-input custom-input svelte-15j4tnx" placeholder="https://yts.example.com/api/v2"/> <!></label></div></div> <!> <button class="btn btn-primary mt-4"> </button>',1),wm=u('<p class="text-muted">Loading settings...</p>'),Sm=u('<div class="card"><h3 class="svelte-15j4tnx">YTS Mirror Configuration</h3> <p class="text-muted mb-4">Select the YTS mirror to use for torrent searches.</p> <!></div>'),$m=u("<div> </div>"),Cm=u(`<div class="card"><h3 class="svelte-15j4tnx">Refresh All Content</h3> <p class="text-muted mb-4">Fetch latest metadata from IMDB/OMDB for all content. This includes ratings, cast, directors, images, and box office data.
        Runs in background with rate limiting.</p> <div class="sync-buttons svelte-15j4tnx"><div class="sync-item svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">Movies</span> <span class="sync-desc svelte-15j4tnx">Refresh all movie metadata from IMDB/OMDB</span></div> <button class="btn btn-primary"> </button></div> <div class="sync-item svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">TV Shows</span> <span class="sync-desc svelte-15j4tnx">Refresh all TV show metadata from IMDB</span></div> <button class="btn btn-primary"> </button></div></div> <!></div>`),zm=u('<div class="card"><h3 class="svelte-15j4tnx">IMDB API</h3> <p class="text-muted mb-4">Using <a href="https://imdbapi.dev" target="_blank" class="link svelte-15j4tnx">imdbapi.dev</a> - Free, no API key required.</p> <div class="api-status success svelte-15j4tnx"><span class="status-dot svelte-15j4tnx"></span> Active - No configuration needed</div></div> <div class="card mt-4"><h3 class="svelte-15j4tnx">OMDB API (Fallback)</h3> <p class="text-muted mb-4">Used as fallback for Rotten Tomatoes scores. Get a free key at <a href="https://www.omdbapi.com/apikey.aspx" target="_blank" class="link svelte-15j4tnx">omdbapi.com</a></p> <div class="form-group"><label class="form-label" for="omdb_api_key">API Key</label> <input type="text" id="omdb_api_key" class="form-input" placeholder="Enter OMDB API key"/></div> <p class="text-muted text-sm svelte-15j4tnx">Set via environment variable: OMDB_API_KEY</p></div>',1),Tm=u('<div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Plan</span> <span class="db-value svelte-15j4tnx"> </span></div>'),Em=u('<div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">License Key</span> <span class="db-value svelte-15j4tnx"><code> </code></span></div>'),Mm=u('<div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Grace Until</span> <span class="db-value svelte-15j4tnx" style="color: #f59e0b"> </span></div>'),Am=u('<div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Mode</span> <span class="db-value svelte-15j4tnx"> </span></div> <div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Message</span> <span class="db-value svelte-15j4tnx"> </span></div> <!> <!> <!>',1),qm=u('<div class="license-info"><div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Server Mode</span> <span class="db-value svelte-15j4tnx"> </span></div> <!></div>'),Dm=u('<p class="text-muted">Loading license status...</p>'),Im=u('<div class="card"><h3 class="svelte-15j4tnx">License Status</h3> <!></div> <div class="card mt-4"><h3 class="svelte-15j4tnx">Configuration</h3> <p class="text-muted mb-4">License settings are configured via environment variables:</p> <div class="db-info svelte-15j4tnx"><div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">LICENSE_KEY</span> <span class="db-value svelte-15j4tnx">Your license key (empty = demo mode)</span></div></div></div>',1),Pm=u('<div class="card"><h3 class="svelte-15j4tnx">Database Info</h3> <div class="db-info svelte-15j4tnx"><div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Location</span> <span class="db-value svelte-15j4tnx">./data/torrents.db</span></div> <div class="db-row svelte-15j4tnx"><span class="db-label svelte-15j4tnx">Type</span> <span class="db-value svelte-15j4tnx">SQLite</span></div></div></div> <div class="card mt-4"><h3 class="svelte-15j4tnx">Maintenance</h3> <div class="sync-buttons svelte-15j4tnx"><div class="sync-item svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">Export Database</span> <span class="sync-desc svelte-15j4tnx">Download a backup of your database</span></div> <button class="btn btn-secondary" disabled>Export</button></div> <div class="sync-item danger svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">Clear All Data</span> <span class="sync-desc svelte-15j4tnx">Delete all movies, shows, and torrents</span></div> <button class="btn btn-danger" disabled>Clear Data</button></div></div></div>',1),jm=u('<span class="sync-desc svelte-15j4tnx" style="margin-top: 4px; white-space: pre-line;"> </span>'),Lm=u('<div class="update-available mt-4"><div class="sync-item svelte-15j4tnx" style="border: 1px solid var(--accent-green, #22c55e);"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx" style="color: var(--accent-green, #22c55e);"> </span> <span class="sync-desc svelte-15j4tnx"> </span> <!></div> <button class="btn btn-primary"> </button></div></div>'),Rm=u("<div> </div>"),Fm=u('<div class="card"><h3 class="svelte-15j4tnx">Server Update</h3> <p class="text-muted mb-4">Check for new Omnius server releases. If an update is available you can install it directly.</p> <div class="sync-buttons svelte-15j4tnx"><div class="sync-item svelte-15j4tnx"><div class="sync-info svelte-15j4tnx"><span class="sync-title svelte-15j4tnx">Current Version</span> <span class="sync-desc svelte-15j4tnx"> </span></div> <button class="btn btn-primary"> </button></div></div> <!> <!></div>'),Bm=u('<div class="settings-page"><header class="page-header"><h1 class="page-title">SETTINGS</h1></header> <div class="tabs svelte-15j4tnx"><button>Services</button> <button>Data Sync</button> <button>API Keys</button> <button>Database</button> <button>License</button> <!> <button>Update</button></div> <!> <!> <!> <!> <!> <!> <!></div>');function Io(t,i){if(new.target)return La({component:Io,...t});Aa(i,!0);let l=tt("general"),s=tt(null),c=tt(""),d=tt(""),_=tt(!1),m=tt(!1),k=tt(null),w=tt(!1),$=tt(Pa([])),I=tt(!1),L=tt(null),V=tt(null),A=tt(!1),ee=tt(!1),S=tt(null),g=tt(!1),x=tt(!1),j=tt(null),ce=tt(!1),ve=tt(null),he=Ir(()=>e(V)?.status?.features?.includes("live_channels")??!1),z=Ir(()=>e(he)?e($):e($).filter(C=>C.icon!=="live")),ne=Ir(()=>e(V)?.status?.plan==="enterprise");Ms(async()=>{await Promise.all([bt(),P(),Se()])});async function Se(){try{o(V,await wo(),!0)}catch(C){console.error("Failed to load license status:",C)}}async function P(){try{o($,await id(),!0)}catch(C){console.error("Failed to load services:",C)}}async function De(){o(I,!0),o(L,null);try{await ld(e($)),o(L,"Services saved! Client apps will update on next load.")}catch(C){o(L,"Error: "+String(C))}finally{o(I,!1)}}function pt(C){o($,e($).map(T=>T.id===C?{...T,enabled:!T.enabled}:T),!0)}function at(C,T){o($,e($).map(H=>H.id===C?{...H,label:T}:H),!0)}async function bt(){try{const C=await fetch("/admin/api/settings/yts");C.ok&&(o(s,await C.json(),!0),o(c,e(s)?.current_mirror||"",!0),e(s)&&!e(s).mirrors.includes(e(s).current_mirror)&&(o(_,!0),o(d,e(s).current_mirror,!0)))}catch(C){console.error("Failed to load YTS settings:",C)}}async function Be(C){o(m,!0),o(k,null);try{const T=await fetch("/admin/api/settings/yts/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mirror:C})});o(k,await T.json(),!0)}catch(T){o(k,{status:"error",message:String(T)},!0)}finally{o(m,!1)}}async function st(){const C=e(_)?e(d):e(c);if(C){o(w,!0);try{const T=await fetch("/admin/api/settings/yts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({mirror:C})});if(T.ok)await bt(),o(k,{status:"ok",message:"Settings saved!"},!0);else{const H=await T.text();o(k,{status:"error",message:H},!0)}}catch(T){o(k,{status:"error",message:String(T)},!0)}finally{o(w,!1)}}}function Dt(C){try{return new URL(C).hostname.toUpperCase()}catch{return C}}async function Lt(){o(A,!0),o(S,null);try{const C=await fetch("/admin/api/refresh_all_movies",{method:"POST",headers:{"Content-Type":"application/json"}});if(C.ok)o(S,"Movie refresh started! Check server logs for progress.");else{const T=await C.json();o(S,"Error: "+(T.status_message||"Failed to start refresh"))}}catch(C){o(S,"Error: "+String(C))}finally{o(A,!1)}}async function St(){o(ee,!0),o(S,null);try{const C=await fetch("/admin/api/refresh_all_series",{method:"POST",headers:{"Content-Type":"application/json"}});if(C.ok)o(S,"TV Shows refresh started! Check server logs for progress.");else{const T=await C.json();o(S,"Error: "+(T.status_message||"Failed to start refresh"))}}catch(C){o(S,"Error: "+String(C))}finally{o(ee,!1)}}async function ft(){o(g,!0),o(j,null),o(ce,!1),o(ve,null);try{const T=await(await fetch("/admin/api/check-update")).json();o(ve,T,!0),T.update_available||o(j,"You are running the latest version.")}catch(C){o(ce,!0),o(j,"Failed to check for updates: "+String(C))}finally{o(g,!1)}}async function Et(){o(x,!0),o(j,null),o(ce,!1);try{const C=await fetch("/admin/api/update",{method:"POST",headers:{"Content-Type":"application/json"}}),T=await C.json();C.ok?(o(j,"Update downloaded. Server is restarting..."),setTimeout(async()=>{for(let H=0;H<30;H++){try{if((await fetch("/admin/api/stats",{method:"GET"})).status>0){o(j,"Update complete! Reloading..."),o(x,!1),setTimeout(()=>window.location.reload(),1e3);return}}catch{}await new Promise(W=>setTimeout(W,2e3))}o(j,"Server is restarting. Please refresh the page."),o(x,!1)},3e3)):(o(ce,!0),o(j,T.error||"Update failed",!0),o(x,!1))}catch(C){o(ce,!0),o(j,"Error: "+String(C)),o(x,!1)}}var pa={$set:Fa,$on:(C,T)=>Ra(i,C,T)},Qt=Bm(),xt=n(r(Qt),2),kt=r(xt);let Mt;kt.__click=()=>o(l,"services");var Je=n(kt,2);let wt;Je.__click=()=>o(l,"sync");var K=n(Je,2);let Oe;K.__click=()=>o(l,"api");var He=n(K,2);let et;He.__click=()=>o(l,"database");var Nt=n(He,2);let Pt;Nt.__click=()=>o(l,"license");var re=n(Nt,2);{var Ie=C=>{var T=_m();let H;T.__click=()=>o(l,"yts"),b(()=>H=rt(T,1,"tab svelte-15j4tnx",null,H,{active:e(l)==="yts"})),v(C,T)};y(re,C=>{e(ne)&&C(Ie)})}var Ve=n(re,2);let Qe;Ve.__click=()=>o(l,"update"),a(xt);var D=n(xt,2);{var ue=C=>{var T=gm(),H=ge(T),W=n(r(H),4);lt(W,21,()=>e(z),it,(ie,O)=>{var Q=mm();let fe;var xe=r(Q),ye=r(xe);let je;ye.__click=()=>pt(e(O).id),a(xe);var Pe=n(xe,2),ke=r(Pe,!0);a(Pe);var _e=n(Pe,2),Ee=r(_e);we(Ee),Ee.__input=Ue=>at(e(O).id,Ue.target.value);var ze=n(Ee,2),de=r(ze,!0);a(ze),a(_e),a(Q),b(()=>{fe=rt(Q,1,"service-item svelte-15j4tnx",null,fe,{disabled:!e(O).enabled}),je=rt(ye,1,"toggle-btn svelte-15j4tnx",null,je,{active:e(O).enabled}),f(ke,e(O).icon==="movie"?"ð¬":e(O).icon==="tv"?"ðº":e(O).icon==="live"?"ð¡":"ð¦"),el(Ee,e(O).label),f(de,e(O).id)}),v(ie,Q)}),a(W);var te=n(W,2);{var ae=ie=>{var O=hm();let Q;var fe=r(O,!0);a(O),b(xe=>{Q=rt(O,1,"sync-message svelte-15j4tnx",null,Q,xe),f(fe,e(L))},[()=>({error:e(L).startsWith("Error")})]),v(ie,O)};y(te,ie=>{e(L)&&ie(ae)})}var J=n(te,2);J.__click=De;var le=r(J,!0);a(J),a(H);var B=n(H,2),pe=n(r(B),4),Ae=r(pe);Ae.textContent=`${window.location.origin??""}/api/v2/config.json`,a(pe),a(B),b(()=>{J.disabled=e(I),f(le,e(I)?"Saving...":"Save Services")}),v(C,T)};y(D,C=>{e(l)==="services"&&C(ue)})}var oe=n(D,2);{var Te=C=>{var T=Sm(),H=n(r(T),4);{var W=ae=>{var J=km(),le=ge(J),B=n(r(le),2),pe=r(B,!0);a(B),a(le);var Ae=n(le,2),ie=n(r(Ae),2),O=r(ie);lt(O,17,()=>e(s).mirrors,it,(de,Ue)=>{var ot=bm();let Re;var Le=r(ot);we(Le),Le.__change=()=>{o(c,e(Ue),!0),o(_,!1),o(k,null)};var Ke=n(Le,2),_t=r(Ke,!0);a(Ke);var mt=n(Ke,2),At=r(mt,!0);a(mt);var ht=n(mt,2);ht.__click=()=>Be(e(Ue)),a(ot),b(Gt=>{Re=rt(ot,1,"mirror-option svelte-15j4tnx",null,Re,{selected:!e(_)&&e(c)===e(Ue)}),el(Le,e(Ue)),Zr(Le,!e(_)&&e(c)===e(Ue)),f(_t,Gt),f(At,e(Ue)),ht.disabled=e(m)},[()=>Dt(e(Ue))]),v(de,ot)});var Q=n(O,2);let fe;var xe=r(Q);we(xe),xe.__change=()=>{o(_,!0),o(k,null)};var ye=n(xe,4);we(ye);var je=n(ye,2);{var Pe=de=>{var Ue=ym();Ue.__click=()=>Be(e(d)),b(()=>Ue.disabled=e(m)),v(de,Ue)};y(je,de=>{e(_)&&e(d)&&de(Pe)})}a(Q),a(ie),a(Ae);var ke=n(Ae,2);{var _e=de=>{var Ue=xm(),ot=r(Ue);{var Re=Ke=>{var _t=zr();b(()=>f(_t,`â ${e(k).message??""}`)),v(Ke,_t)},Le=Ke=>{var _t=zr();b(()=>f(_t,`â ${e(k).message??""}`)),v(Ke,_t)};y(ot,Ke=>{e(k).status==="ok"?Ke(Re):Ke(Le,!1)})}a(Ue),b(()=>rt(Ue,1,`test-result ${e(k).status??""}`,"svelte-15j4tnx")),v(de,Ue)};y(ke,de=>{e(k)&&de(_e)})}var Ee=n(ke,2);Ee.__click=st;var ze=r(Ee,!0);a(Ee),b(de=>{f(pe,de),fe=rt(Q,1,"mirror-option svelte-15j4tnx",null,fe,{selected:e(_)}),Zr(xe,e(_)),Ee.disabled=e(w)||!e(_)&&!e(c)||e(_)&&!e(d),f(ze,e(w)?"Saving...":"Save Mirror")},[()=>Dt(e(s).current_mirror)]),Y("focus",ye,()=>{o(_,!0)}),Ce(ye,()=>e(d),de=>o(d,de)),v(ae,J)},te=ae=>{var J=wm();v(ae,J)};y(H,ae=>{e(s)?ae(W):ae(te,!1)})}a(T),v(C,T)};y(oe,C=>{e(l)==="yts"&&C(Te)})}var Me=n(oe,2);{var q=C=>{var T=Cm(),H=n(r(T),4),W=r(H),te=n(r(W),2);te.__click=Lt;var ae=r(te,!0);a(te),a(W);var J=n(W,2),le=n(r(J),2);le.__click=St;var B=r(le,!0);a(le),a(J),a(H);var pe=n(H,2);{var Ae=ie=>{var O=$m();let Q;var fe=r(O,!0);a(O),b(xe=>{Q=rt(O,1,"sync-message svelte-15j4tnx",null,Q,xe),f(fe,e(S))},[()=>({error:e(S).startsWith("Error")})]),v(ie,O)};y(pe,ie=>{e(S)&&ie(Ae)})}a(T),b(()=>{te.disabled=e(A),f(ae,e(A)?"Starting...":"Refresh All Movies"),le.disabled=e(ee),f(B,e(ee)?"Starting...":"Refresh All TV Shows")}),v(C,T)};y(Me,C=>{e(l)==="sync"&&C(q)})}var be=n(Me,2);{var M=C=>{var T=zm();ut(2),v(C,T)};y(be,C=>{e(l)==="api"&&C(M)})}var X=n(be,2);{var h=C=>{var T=Im(),H=ge(T),W=n(r(H),2);{var te=J=>{var le=qm(),B=r(le),pe=n(r(B),2),Ae=r(pe,!0);a(pe),a(B);var ie=n(B,2);{var O=Q=>{var fe=Am(),xe=ge(fe),ye=n(r(xe),2),je=r(ye,!0);a(ye),a(xe);var Pe=n(xe,2),ke=n(r(Pe),2),_e=r(ke,!0);a(ke),a(Pe);var Ee=n(Pe,2);{var ze=Le=>{var Ke=Tm(),_t=n(r(Ke),2),mt=r(_t,!0);a(_t),a(Ke),b(()=>f(mt,e(V).status.plan)),v(Le,Ke)};y(Ee,Le=>{e(V).status.plan&&Le(ze)})}var de=n(Ee,2);{var Ue=Le=>{var Ke=Em(),_t=n(r(Ke),2),mt=r(_t),At=r(mt,!0);a(mt),a(_t),a(Ke),b(()=>f(At,e(V).status.license_key)),v(Le,Ke)};y(de,Le=>{e(V).status.license_key&&Le(Ue)})}var ot=n(de,2);{var Re=Le=>{var Ke=Mm(),_t=n(r(Ke),2),mt=r(_t,!0);a(_t),a(Ke),b(At=>f(mt,At),[()=>new Date(e(V).status.grace_end).toLocaleDateString()]),v(Le,Ke)};y(ot,Le=>{e(V).status.grace_end&&Le(Re)})}b(Le=>{Er(ye,`color: ${e(V).status.mode==="licensed"?"#22c55e":e(V).status.mode==="demo"||e(V).status.mode==="grace"?"#f59e0b":e(V).status.mode==="authority"?"#3b82f6":"#ef4444"}`),f(je,Le),f(_e,e(V).status.message)},[()=>e(V).status.mode?.toUpperCase()]),v(Q,fe)};y(ie,Q=>{e(V).status&&Q(O)})}a(le),b(()=>f(Ae,e(V).server_mode?"License Authority":"Client")),v(J,le)},ae=J=>{var le=Dm();v(J,le)};y(W,J=>{e(V)?J(te):J(ae,!1)})}a(H),ut(2),v(C,T)};y(X,C=>{e(l)==="license"&&C(h)})}var E=n(X,2);{var R=C=>{var T=Pm();ut(2),v(C,T)};y(E,C=>{e(l)==="database"&&C(R)})}var F=n(E,2);{var G=C=>{var T=Fm(),H=n(r(T),4),W=r(H),te=r(W),ae=n(r(te),2),J=r(ae,!0);a(ae),a(te);var le=n(te,2);le.__click=ft;var B=r(le,!0);a(le),a(W),a(H);var pe=n(H,2);{var Ae=Q=>{var fe=Lm(),xe=r(fe),ye=r(xe),je=r(ye),Pe=r(je);a(je);var ke=n(je,2),_e=r(ke);a(ke);var Ee=n(ke,2);{var ze=ot=>{var Re=jm(),Le=r(Re,!0);a(Re),b(()=>f(Le,e(ve).release_notes)),v(ot,Re)};y(Ee,ot=>{e(ve).release_notes&&ot(ze)})}a(ye);var de=n(ye,2);de.__click=Et;var Ue=r(de,!0);a(de),a(xe),a(fe),b(ot=>{f(Pe,`Update Available: v${e(ve).latest_version??""}`),f(_e,`Released ${ot??""}`),de.disabled=e(x),f(Ue,e(x)?"Updating...":"Install Update")},[()=>e(ve).published_at?new Date(e(ve).published_at).toLocaleDateString():"recently"]),v(Q,fe)};y(pe,Q=>{e(ve)?.update_available&&Q(Ae)})}var ie=n(pe,2);{var O=Q=>{var fe=Rm();let xe;var ye=r(fe,!0);a(fe),b(()=>{xe=rt(fe,1,"sync-message mt-4 svelte-15j4tnx",null,xe,{error:e(ce)}),f(ye,e(j))}),v(Q,fe)};y(ie,Q=>{e(j)&&Q(O)})}a(T),b(()=>{f(J,e(ve)?.current_version||"Unknown"),le.disabled=e(g)||e(x),f(B,e(g)?"Checking...":"Check for Updates")}),v(C,T)};y(F,C=>{e(l)==="update"&&C(G)})}return a(Qt),b(()=>{Mt=rt(kt,1,"tab svelte-15j4tnx",null,Mt,{active:e(l)==="services"}),wt=rt(Je,1,"tab svelte-15j4tnx",null,wt,{active:e(l)==="sync"}),Oe=rt(K,1,"tab svelte-15j4tnx",null,Oe,{active:e(l)==="api"}),et=rt(He,1,"tab svelte-15j4tnx",null,et,{active:e(l)==="database"}),Pt=rt(Nt,1,"tab svelte-15j4tnx",null,Pt,{active:e(l)==="license"}),Qe=rt(Ve,1,"tab svelte-15j4tnx",null,Qe,{active:e(l)==="update"})}),v(t,Qt),qa(pa)}Mn(["click","input","change"]);var Om=u('<div class="error-banner svelte-rk61ye"> </div>'),Nm=u('<div class="loading-state svelte-rk61ye">Loading license status...</div>'),Um=u('<span class="plan-badge svelte-rk61ye"> </span>'),Vm=u('<div class="detail-item svelte-rk61ye"><span class="detail-label svelte-rk61ye">Plan</span> <span class="detail-value svelte-rk61ye"> </span></div>'),Gm=u('<div class="detail-grid svelte-rk61ye"><div class="detail-item svelte-rk61ye"><span class="detail-label svelte-rk61ye">License Key</span> <code class="detail-value key svelte-rk61ye"> </code></div> <!></div>'),Hm=u('<div class="grace-warning svelte-rk61ye"> </div>'),Ym=u('<div class="status-card svelte-rk61ye"><div class="status-header svelte-rk61ye"><span class="mode-badge svelte-rk61ye"> </span> <!> <span> </span></div> <p class="status-message svelte-rk61ye"> </p> <!> <!></div> <div class="info-card svelte-rk61ye"><h3 class="svelte-rk61ye">Deployment Info</h3> <div class="detail-grid svelte-rk61ye"><div class="detail-item svelte-rk61ye"><span class="detail-label svelte-rk61ye">Domain</span> <span class="detail-value svelte-rk61ye"> </span></div> <div class="detail-item svelte-rk61ye"><span class="detail-label svelte-rk61ye">Hostname</span> <span class="detail-value svelte-rk61ye"> </span></div> <div class="detail-item svelte-rk61ye"><span class="detail-label svelte-rk61ye">Machine Fingerprint</span> <code class="detail-value fingerprint svelte-rk61ye"> </code></div> <div class="detail-item svelte-rk61ye"><span class="detail-label svelte-rk61ye">License Authority</span> <span class="detail-value svelte-rk61ye"> </span></div></div></div> <div class="activate-card svelte-rk61ye"><h3 class="svelte-rk61ye"> </h3> <p class="activate-hint svelte-rk61ye"> </p> <div class="activate-form svelte-rk61ye"><input type="text" class="key-input svelte-rk61ye" placeholder="OMNI-XXXX-XXXX-XXXX-XXXX" spellcheck="false" autocomplete="off"/> <button class="btn btn-primary"> </button></div></div>',1),Wm=u('<div class="license-page"><header class="page-header svelte-rk61ye"><h1 class="page-title">LICENSE</h1></header> <!> <!></div>');function Po(t,i){if(new.target)return La({component:Po,...t});Aa(i,!0);const l="/admin/api";let s=tt(null),c=tt(!0),d=tt(null),_=tt(""),m=tt(!1);Ms(()=>{k()});async function k(){o(c,!0),o(d,null);try{const j=await fetch(`${l}/license-status`,{headers:{Accept:"application/json"}});o(s,await j.json(),!0)}catch(j){o(d,String(j),!0)}finally{o(c,!1)}}async function w(){if(e(_).trim()){o(m,!0),o(d,null);try{const j=await fetch(`${l}/license-activate`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({license_key:e(_).trim()})}),ce=await j.json();j.ok?(o(s,ce,!0),o(_,"")):(o(d,ce.error||"Activation failed",!0),ce.status&&o(s,{...e(s),status:ce.status},!0))}catch(j){o(d,String(j),!0)}finally{o(m,!1)}}}function $(j){switch(j){case"licensed":return"#22c55e";case"grace":return"#f59e0b";case"demo":return"#3b82f6";default:return"#ef4444"}}function I(j){switch(j){case"personal":return"#3b82f6";case"business":return"#8b5cf6";case"enterprise":return"#f59e0b";default:return"#6b7280"}}var L={$set:Fa,$on:(j,ce)=>Ra(i,j,ce)},V=Wm(),A=n(r(V),2);{var ee=j=>{var ce=Om(),ve=r(ce,!0);a(ce),b(()=>f(ve,e(d))),v(j,ce)};y(A,j=>{e(d)&&j(ee)})}var S=n(A,2);{var g=j=>{var ce=Nm();v(j,ce)},x=j=>{var ce=Tt(),ve=ge(ce);{var he=z=>{var ne=Ym(),Se=ge(ne),P=r(Se),De=r(P),pt=r(De,!0);a(De);var at=n(De,2);{var bt=X=>{var h=Um(),E=r(h,!0);a(h),b((R,F)=>{Er(h,`background: ${R??""}`),f(E,F)},[()=>I(e(s).status.plan),()=>e(s).status.plan.toUpperCase()]),v(X,h)};y(at,X=>{e(s).status.plan&&X(bt)})}var Be=n(at,2);let st;var Dt=r(Be,!0);a(Be),a(P);var Lt=n(P,2),St=r(Lt,!0);a(Lt);var ft=n(Lt,2);{var Et=X=>{var h=Gm(),E=r(h),R=n(r(E),2),F=r(R,!0);a(R),a(E);var G=n(E,2);{var C=T=>{var H=Vm(),W=n(r(H),2),te=r(W,!0);a(W),a(H),b(()=>f(te,e(s).status.plan)),v(T,H)};y(G,T=>{e(s).status.plan&&T(C)})}a(h),b(()=>f(F,e(s).status.license_key)),v(X,h)};y(ft,X=>{e(s).status.license_key&&X(Et)})}var pa=n(ft,2);{var Qt=X=>{var h=Hm(),E=r(h);a(h),b(R=>f(E,`Grace period expires: ${R??""}`),[()=>new Date(e(s).status.grace_end).toLocaleDateString()]),v(X,h)};y(pa,X=>{e(s).status.grace_end&&X(Qt)})}a(Se);var xt=n(Se,2),kt=n(r(xt),2),Mt=r(kt),Je=n(r(Mt),2),wt=r(Je,!0);a(Je),a(Mt);var K=n(Mt,2),Oe=n(r(K),2),He=r(Oe,!0);a(Oe),a(K);var et=n(K,2),Nt=n(r(et),2),Pt=r(Nt);a(Nt),a(et);var re=n(et,2),Ie=n(r(re),2),Ve=r(Ie,!0);a(Ie),a(re),a(kt),a(xt);var Qe=n(xt,2),D=r(Qe),ue=r(D,!0);a(D);var oe=n(D,2),Te=r(oe,!0);a(oe);var Me=n(oe,2),q=r(Me);we(q),q.__keydown=X=>{X.key==="Enter"&&w()};var be=n(q,2);be.__click=w;var M=r(be,!0);a(be),a(Me),a(Qe),b((X,h,E,R)=>{Er(De,`background: ${X??""}`),f(pt,h),st=rt(Be,1,"valid-indicator svelte-rk61ye",null,st,{valid:e(s).status.valid,invalid:!e(s).status.valid}),f(Dt,e(s).status.valid?"Valid":"Invalid"),f(St,e(s).status.message),f(wt,e(s).domain||window.location.hostname),f(He,e(s).hostname),f(Pt,`${E??""}...`),f(Ve,e(s).server_url),f(ue,e(s).status.license_key?"Change License Key":"Activate License"),f(Te,e(s).status.demo_mode?"Enter a license key to activate this server. Purchase one at omnius.stream.":"Enter a new license key to replace the current one."),be.disabled=R,f(M,e(m)?"Activating...":"Activate")},[()=>$(e(s).status.mode),()=>e(s).status.mode.toUpperCase(),()=>e(s).fingerprint?.slice(0,16),()=>e(m)||!e(_).trim()]),Ce(q,()=>e(_),X=>o(_,X)),v(z,ne)};y(ve,z=>{e(s)&&z(he)},!0)}v(j,ce)};y(S,j=>{e(c)?j(g):j(x,!1)})}return a(V),v(t,V),qa(L)}Mn(["keydown","click"]);var Km=u('<div class="loading svelte-1n46o8q"><div class="spinner svelte-1n46o8q"></div></div>'),Xm=u('<div class="app-layout"><!> <main class="main-content"><!></main></div>');function jo(t,i){if(new.target)return La({component:jo,...t});Aa(i,!0);let l=tt(!1),s=tt(!0),c=tt(Pa([]));async function d(){try{const A=await fetch("/admin/api/auth/check");o(l,A.ok,!0),e(l)&&_()}catch(A){console.error("Auth check failed - backend may not be running:",A),o(l,!1)}o(s,!1)}async function _(){try{const A=await fetch("/admin/api/license-status");if(A.ok){const ee=await A.json();o(c,ee.status?.features||[],!0)}}catch(A){console.error("Failed to load license features:",A)}}d();function m(){o(l,!0),_()}const k={"/":So,"/analytics":$o,"/home":Co,"/movies":zo,"/movies/:id":To,"/tvshows":Eo,"/tvshows/:id":Mo,"/channels":Ao,"/curated":qo,"/licenses":Po,"/api-docs":Do,"/settings":Io};var w={$set:Fa,$on:(A,ee)=>Ra(i,A,ee)},$=Tt(),I=ge($);{var L=A=>{var ee=Km();v(A,ee)},V=A=>{var ee=Tt(),S=ge(ee);{var g=j=>{_o(j,{$$events:{login:m}})},x=j=>{var ce=Xm(),ve=r(ce);fo(ve,{get features(){return e(c)}});var he=n(ve,2),z=r(he);po(z,{get routes(){return k}}),a(he),a(ce),v(j,ce)};y(S,j=>{e(l)?j(x,!1):j(g)},!0)}v(A,ee)};y(I,A=>{e(s)?A(L):A(V,!1)})}return v(t,$),qa(w)}new jo({target:document.getElementById("app")});
